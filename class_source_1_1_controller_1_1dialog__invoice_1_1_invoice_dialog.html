<!-- HTML header for doxygen 1.14.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="de">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ElsterBooks: InvoiceDialog Klassenreferenz</title>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="app.ico"/></td>
  <td id="projectalign">
   <div id="projectname">ElsterBooks<span id="projectnumber">&#160;v0.3.0</span>
   </div>
   <div id="projectbrief">Buchhaltungssoftware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<html>
    <head>
        <!-- ... other metadata & script includes ... -->
        <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
        <script type="text/javascript">
            DoxygenAwesomeDarkModeToggle.init()
        </script>
    </head>
    <body>
<html>
   <head>
	   <!-- ... other metadata & script includes ... -->
	   <script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
	   <script type="text/javascript">
		   DoxygenAwesomeFragmentCopyButton.init()
	   </script>
   </head>
   <body>
<html>
   <head>
	   <!-- ... other metadata & script includes ... -->
	   <script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
	   <script type="text/javascript">
		   DoxygenAwesomeParagraphLink.init()
	   </script>
   </head>
   <body>
<html>
   <head>
	   <!-- ... other metadata & script includes ... -->
	   <script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
	   <script type="text/javascript">
		   DoxygenAwesomeInteractiveToc.init()
	   </script>
   </head>
   <body>
  <html>
   <head>
       <!-- ... other metadata & script includes ... -->
       <script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
       <script type="text/javascript">
           DoxygenAwesomeTabs.init()
       </script>
   </head>
   <body>
<!-- Erzeugt von Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Suchen',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('class_source_1_1_controller_1_1dialog__invoice_1_1_invoice_dialog.html','','class_source_1_1_controller_1_1dialog__invoice_1_1_invoice_dialog-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Lade ...</div>
<div class="SRStatus" id="Searching">Suche ...</div>
<div class="SRStatus" id="NoMatches">Keine Treffer</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">InvoiceDialog Klassenreferenz</div></div>
</div><!--header-->
<div class="contents">

<p>Invoice dialog.  
 <a href="#details">Mehr ...</a></p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;"><span class="dynarrow"><span class="arrowhead closed"></span></span>Klassendiagramm für InvoiceDialog:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="class_source_1_1_controller_1_1dialog__invoice_1_1_invoice_dialog.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Öffentliche Methoden</h2></td></tr>
<tr class="memitem:a102a1b9de466d8c12fb915c6a85c5904" id="r_a102a1b9de466d8c12fb915c6a85c5904"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a102a1b9de466d8c12fb915c6a85c5904">__init__</a> (self, &quot;MainWindow&quot; <a class="el" href="#ac492f8de2d00b6c4282e766bfadaf2e7">ui</a>, Optional[str] uid=None, *Any args, **Any kwargs)</td></tr>
<tr class="memitem:adb1d587008b69aba3cba7e86e5a2bad8" id="r_adb1d587008b69aba3cba7e86e5a2bad8"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adb1d587008b69aba3cba7e86e5a2bad8">accounting_date_checkbox_changed</a> (self, int|bool state)</td></tr>
<tr class="memdesc:adb1d587008b69aba3cba7e86e5a2bad8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accounting date checkbox changed.  <br /></td></tr>
<tr class="memitem:ab787e264f988097a34cca2013a217ee6" id="r_ab787e264f988097a34cca2013a217ee6"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab787e264f988097a34cca2013a217ee6">accounting_date_from_changed</a> (self, QDate from_date)</td></tr>
<tr class="memdesc:ab787e264f988097a34cca2013a217ee6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accounting date "from" changed.  <br /></td></tr>
<tr class="memitem:ab5a891167b0e93be05556e8ed8dfb0d6" id="r_ab5a891167b0e93be05556e8ed8dfb0d6"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab5a891167b0e93be05556e8ed8dfb0d6">accounting_date_to_changed</a> (self, QDate to_date)</td></tr>
<tr class="memdesc:ab5a891167b0e93be05556e8ed8dfb0d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accounting date "to" changed.  <br /></td></tr>
<tr class="memitem:a1c50a2e9a37b53d86ae81b094f35e71f" id="r_a1c50a2e9a37b53d86ae81b094f35e71f"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1c50a2e9a37b53d86ae81b094f35e71f">add_discount</a> (self)</td></tr>
<tr class="memdesc:a1c50a2e9a37b53d86ae81b094f35e71f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add discount.  <br /></td></tr>
<tr class="memitem:a627cb4f6e35b6efd1e4e8a9753e3ee78" id="r_a627cb4f6e35b6efd1e4e8a9753e3ee78"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a627cb4f6e35b6efd1e4e8a9753e3ee78">add_item</a> (self)</td></tr>
<tr class="memdesc:a627cb4f6e35b6efd1e4e8a9753e3ee78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add item.  <br /></td></tr>
<tr class="memitem:af05cb1c9819abeadd87d314170d76af6" id="r_af05cb1c9819abeadd87d314170d76af6"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af05cb1c9819abeadd87d314170d76af6">add_surcharge</a> (self)</td></tr>
<tr class="memdesc:af05cb1c9819abeadd87d314170d76af6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add surcharge.  <br /></td></tr>
<tr class="memitem:aea7c128483931d3a6fc8e31dd83825b0" id="r_aea7c128483931d3a6fc8e31dd83825b0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aea7c128483931d3a6fc8e31dd83825b0">check_item_name</a> (self)</td></tr>
<tr class="memdesc:aea7c128483931d3a6fc8e31dd83825b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check item name.  <br /></td></tr>
<tr class="memitem:ab6c49644c8511159b5600debe7bf5791" id="r_ab6c49644c8511159b5600debe7bf5791"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab6c49644c8511159b5600debe7bf5791">close_dialog</a> (self)</td></tr>
<tr class="memdesc:ab6c49644c8511159b5600debe7bf5791"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close dialog.  <br /></td></tr>
<tr class="memitem:a2d41e91182c968e5e3c314eb1ba95db5" id="r_a2d41e91182c968e5e3c314eb1ba95db5"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2d41e91182c968e5e3c314eb1ba95db5">contact_template_activated</a> (self, int _index)</td></tr>
<tr class="memdesc:a2d41e91182c968e5e3c314eb1ba95db5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contact template was selected.  <br /></td></tr>
<tr class="memitem:a93d6ee543d1f817d987c62621f70c95a" id="r_a93d6ee543d1f817d987c62621f70c95a"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93d6ee543d1f817d987c62621f70c95a">create_invoice</a> (self, <a class="el" href="class_source_1_1_util_1_1app__data_1_1_e_invoice_option.html">EInvoiceOption</a> e_invoice_option)</td></tr>
<tr class="memdesc:a93d6ee543d1f817d987c62621f70c95a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create invoice.  <br /></td></tr>
<tr class="memitem:a145347e60d90e8ddbe49f3ad4f53022e" id="r_a145347e60d90e8ddbe49f3ad4f53022e"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a145347e60d90e8ddbe49f3ad4f53022e">discount_price_changed</a> (self, int discount_index, bool percent_changed)</td></tr>
<tr class="memdesc:a145347e60d90e8ddbe49f3ad4f53022e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Discount price changed.  <br /></td></tr>
<tr class="memitem:a27c2552de0e448af17083a8a9c4cb7b9" id="r_a27c2552de0e448af17083a8a9c4cb7b9"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a27c2552de0e448af17083a8a9c4cb7b9">due_date_changed</a> (self, None|bool <a class="el" href="#abdc344a41c4e6acdc609676d134f2182">due_days_changed</a>)</td></tr>
<tr class="memdesc:a27c2552de0e448af17083a8a9c4cb7b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Due date changed.  <br /></td></tr>
<tr class="memitem:a9f9d8c39db2823665edfee6213837e60" id="r_a9f9d8c39db2823665edfee6213837e60"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f9d8c39db2823665edfee6213837e60">expand_mode_changed</a> (self)</td></tr>
<tr class="memdesc:a9f9d8c39db2823665edfee6213837e60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update widgets for new expand status.  <br /></td></tr>
<tr class="memitem:a313bdb1b8a02b6271d036ce8cb806b34" id="r_a313bdb1b8a02b6271d036ce8cb806b34"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a313bdb1b8a02b6271d036ce8cb806b34">export_btn_clicked</a> (self)</td></tr>
<tr class="memdesc:a313bdb1b8a02b6271d036ce8cb806b34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export button clicked.  <br /></td></tr>
<tr class="memitem:a223e84bbe1673774fe2a6109ce576fba" id="r_a223e84bbe1673774fe2a6109ce576fba"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a223e84bbe1673774fe2a6109ce576fba">import_btn_clicked</a> (self)</td></tr>
<tr class="memdesc:a223e84bbe1673774fe2a6109ce576fba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Import button clicked.  <br /></td></tr>
<tr class="memitem:a46058ba06c708f47dd1f40256b46aad9" id="r_a46058ba06c708f47dd1f40256b46aad9"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a46058ba06c708f47dd1f40256b46aad9">item_billing_period_checkbox_changed</a> (self, bool state, int item_index)</td></tr>
<tr class="memdesc:a46058ba06c708f47dd1f40256b46aad9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Item billing period checkbox changed.  <br /></td></tr>
<tr class="memitem:a609948230f58080aaa5e44f6b40db05b" id="r_a609948230f58080aaa5e44f6b40db05b"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a609948230f58080aaa5e44f6b40db05b">item_price_changed</a> (self, int item_index, None|bool gross_changed)</td></tr>
<tr class="memdesc:a609948230f58080aaa5e44f6b40db05b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Item price changed.  <br /></td></tr>
<tr class="memitem:a0ed637580885dfe6f6d88bd794a2763b" id="r_a0ed637580885dfe6f6d88bd794a2763b"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ed637580885dfe6f6d88bd794a2763b">on_invoice_data_changed</a> (self, QDate date)</td></tr>
<tr class="memdesc:a0ed637580885dfe6f6d88bd794a2763b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoice Date changed.  <br /></td></tr>
<tr class="memitem:acb04886996d574e37bc340509f3fccb4" id="r_acb04886996d574e37bc340509f3fccb4"><td class="memItemLeft" align="right" valign="top">dict[str, Any]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acb04886996d574e37bc340509f3fccb4">read_ui_data_to_json</a> (self)</td></tr>
<tr class="memdesc:acb04886996d574e37bc340509f3fccb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Visualize xml invoice in dialog.  <br /></td></tr>
<tr class="memitem:aee1c0ab650b7a8569461f3b552616856" id="r_aee1c0ab650b7a8569461f3b552616856"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee1c0ab650b7a8569461f3b552616856">remove_discount</a> (self)</td></tr>
<tr class="memdesc:aee1c0ab650b7a8569461f3b552616856"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove discount.  <br /></td></tr>
<tr class="memitem:a4bba353d8980e8c4fe9fdba550fcdfc9" id="r_a4bba353d8980e8c4fe9fdba550fcdfc9"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4bba353d8980e8c4fe9fdba550fcdfc9">remove_item</a> (self)</td></tr>
<tr class="memdesc:a4bba353d8980e8c4fe9fdba550fcdfc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove item.  <br /></td></tr>
<tr class="memitem:ae7e52d045ae9255fe50ab658e9b65b93" id="r_ae7e52d045ae9255fe50ab658e9b65b93"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae7e52d045ae9255fe50ab658e9b65b93">remove_surcharge</a> (self)</td></tr>
<tr class="memdesc:ae7e52d045ae9255fe50ab658e9b65b93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove surcharge.  <br /></td></tr>
<tr class="memitem:a390e044bccfbac4e55725e144f70d760" id="r_a390e044bccfbac4e55725e144f70d760"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a390e044bccfbac4e55725e144f70d760">select_logo</a> (self, Optional[str] fix_logo=None)</td></tr>
<tr class="memdesc:a390e044bccfbac4e55725e144f70d760"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open file dialog to select logo and setup preview and path.  <br /></td></tr>
<tr class="memitem:a1786004b43a15b758366cef3fba657c4" id="r_a1786004b43a15b758366cef3fba657c4"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1786004b43a15b758366cef3fba657c4">set_default_data</a> (self)</td></tr>
<tr class="memdesc:a1786004b43a15b758366cef3fba657c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set default data.  <br /></td></tr>
<tr class="memitem:a15b681574c175027d47441425ceea587" id="r_a15b681574c175027d47441425ceea587"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a15b681574c175027d47441425ceea587">set_default_dis_sur_data</a> (self, Ui_InvoiceDiscountsData|Ui_InvoiceSurchargesData dialog, dict[str, str] reason_codes)</td></tr>
<tr class="memdesc:a15b681574c175027d47441425ceea587"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set default discounts or surcharges data.  <br /></td></tr>
<tr class="memitem:afada906ae725c1e7d9a1db536f10a53c" id="r_afada906ae725c1e7d9a1db536f10a53c"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afada906ae725c1e7d9a1db536f10a53c">set_default_item_data</a> (self, Ui_InvoiceItemData item_dialog)</td></tr>
<tr class="memdesc:afada906ae725c1e7d9a1db536f10a53c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set default item data.  <br /></td></tr>
<tr class="memitem:ae3cb67a2e439aed0ec03109f54aedd4d" id="r_ae3cb67a2e439aed0ec03109f54aedd4d"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3cb67a2e439aed0ec03109f54aedd4d">set_default_tax_data</a> (self, Ui_InvoiceTaxData tax_dialog)</td></tr>
<tr class="memdesc:ae3cb67a2e439aed0ec03109f54aedd4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set default tax data.  <br /></td></tr>
<tr class="memitem:a838c00f9087a0781c44016c2435f0df6" id="r_a838c00f9087a0781c44016c2435f0df6"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a838c00f9087a0781c44016c2435f0df6">set_tax_data</a> (self, Ui_InvoiceTaxData tax_dialog, dict[str, Any] tax_data)</td></tr>
<tr class="memdesc:a838c00f9087a0781c44016c2435f0df6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set default tax data.  <br /></td></tr>
<tr class="memitem:a660e9ed12bbb6a262d5e338edb523142" id="r_a660e9ed12bbb6a262d5e338edb523142"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a660e9ed12bbb6a262d5e338edb523142">show_dialog</a> (self)</td></tr>
<tr class="memdesc:a660e9ed12bbb6a262d5e338edb523142"><td class="mdescLeft">&#160;</td><td class="mdescRight">Show dialog.  <br /></td></tr>
<tr class="memitem:ae7b5752204dd88aaa1afc6aefd829edd" id="r_ae7b5752204dd88aaa1afc6aefd829edd"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae7b5752204dd88aaa1afc6aefd829edd">surcharge_price_changed</a> (self, int surcharge_index, bool percent_changed)</td></tr>
<tr class="memdesc:ae7b5752204dd88aaa1afc6aefd829edd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Surcharge price changed.  <br /></td></tr>
<tr class="memitem:a3865cd3ab7a187f945dc6f348acae096" id="r_a3865cd3ab7a187f945dc6f348acae096"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3865cd3ab7a187f945dc6f348acae096">update_item_expand_status</a> (self, Ui_InvoiceItemData item_dialog, bool b_visible)</td></tr>
<tr class="memdesc:a3865cd3ab7a187f945dc6f348acae096"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update widgets for item expand status.  <br /></td></tr>
<tr class="memitem:a4a9dd5740b5ae40e663653d3d5bce6a7" id="r_a4a9dd5740b5ae40e663653d3d5bce6a7"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a9dd5740b5ae40e663653d3d5bce6a7">update_tax_widget</a> (self, dict[str, Any] invoice_data)</td></tr>
<tr class="memdesc:a4a9dd5740b5ae40e663653d3d5bce6a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update tax widget.  <br /></td></tr>
<tr class="memitem:a559c65b0c81f21227ac1c3106066cc08" id="r_a559c65b0c81f21227ac1c3106066cc08"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a559c65b0c81f21227ac1c3106066cc08">update_total_data</a> (self)</td></tr>
<tr class="memdesc:a559c65b0c81f21227ac1c3106066cc08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update total data.  <br /></td></tr>
<tr class="memitem:a7adfb68cdf7f12cee6e73988b57348e3" id="r_a7adfb68cdf7f12cee6e73988b57348e3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7adfb68cdf7f12cee6e73988b57348e3">write_json_data_to_ui</a> (self, dict[str, Any] data, bool import_all=False)</td></tr>
<tr class="memdesc:a7adfb68cdf7f12cee6e73988b57348e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write JSON data to UI.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-attribs" class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Öffentliche Attribute</h2></td></tr>
<tr class="memitem:a527f3b733dd480fc8d326df4652df805" id="r_a527f3b733dd480fc8d326df4652df805"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a527f3b733dd480fc8d326df4652df805">accounting_date_checkbox_changed</a></td></tr>
<tr class="memitem:a9af93f536757d222db251f852f36d774" id="r_a9af93f536757d222db251f852f36d774"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9af93f536757d222db251f852f36d774">accounting_date_from_changed</a></td></tr>
<tr class="memitem:a058800039f84b7f6af44b5e384084bcf" id="r_a058800039f84b7f6af44b5e384084bcf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a058800039f84b7f6af44b5e384084bcf">accounting_date_to_changed</a></td></tr>
<tr class="memitem:a8b6b5bcaeca26af418d1e8118440900d" id="r_a8b6b5bcaeca26af418d1e8118440900d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8b6b5bcaeca26af418d1e8118440900d">add_discount</a></td></tr>
<tr class="memitem:a1e569d68fdc72d97577f733f17b3960d" id="r_a1e569d68fdc72d97577f733f17b3960d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1e569d68fdc72d97577f733f17b3960d">add_item</a></td></tr>
<tr class="memitem:a1db0fa56666b28bfbd954dbb03fef9ed" id="r_a1db0fa56666b28bfbd954dbb03fef9ed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1db0fa56666b28bfbd954dbb03fef9ed">add_surcharge</a></td></tr>
<tr class="memitem:a1aa65ebf71747364e844585b79a78848" id="r_a1aa65ebf71747364e844585b79a78848"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1aa65ebf71747364e844585b79a78848">btn_add_discount</a> = QPushButton(&quot;Nachlass zufügen&quot;)</td></tr>
<tr class="memitem:ab0b44cb7e72bb9a9a73be0b0431f3dea" id="r_ab0b44cb7e72bb9a9a73be0b0431f3dea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab0b44cb7e72bb9a9a73be0b0431f3dea">btn_add_item</a> = QPushButton(&quot;Position hinzufügen&quot;)</td></tr>
<tr class="memitem:af690a8b29cbf407df1d7617b06e52b6e" id="r_af690a8b29cbf407df1d7617b06e52b6e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af690a8b29cbf407df1d7617b06e52b6e">btn_add_surcharge</a> = QPushButton(&quot;Zuschlag zufügen&quot;)</td></tr>
<tr class="memitem:ae3b055dff71fa5a27a23724c56bcd219" id="r_ae3b055dff71fa5a27a23724c56bcd219"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3b055dff71fa5a27a23724c56bcd219">btn_remove_discount</a> = QPushButton(&quot;Nachlass entfernen&quot;)</td></tr>
<tr class="memitem:af67dbf7aee001f666ac97ce94d0c8a30" id="r_af67dbf7aee001f666ac97ce94d0c8a30"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af67dbf7aee001f666ac97ce94d0c8a30">btn_remove_item</a> = QPushButton(&quot;Position entfernen&quot;)</td></tr>
<tr class="memitem:a377d93c72dacbf5375b12a42d49fd8a5" id="r_a377d93c72dacbf5375b12a42d49fd8a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a377d93c72dacbf5375b12a42d49fd8a5">btn_remove_surcharge</a> = QPushButton(&quot;Zuschlag entfernen&quot;)</td></tr>
<tr class="memitem:a1b832f7f7bce23ac6aa25228d563cfb5" id="r_a1b832f7f7bce23ac6aa25228d563cfb5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1b832f7f7bce23ac6aa25228d563cfb5">contact_template_activated</a></td></tr>
<tr class="memitem:a9515115bd6386dc163f55b2333f3a7ef" id="r_a9515115bd6386dc163f55b2333f3a7ef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9515115bd6386dc163f55b2333f3a7ef">customer</a> = None</td></tr>
<tr class="memitem:a2c8c6f7af43f4c03761faca7db6407fc" id="r_a2c8c6f7af43f4c03761faca7db6407fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c8c6f7af43f4c03761faca7db6407fc">default_payment_days</a> = self.ui.tab_settings.company_data[COMPANY_DEFAULT_FIELD][<a class="el" href="class_source_1_1_model_1_1company_1_1_e_company_fields.html#a195f79b74a48d6cac7311b994a24b397">ECompanyFields.PAYMENT_DAYS</a>]</td></tr>
<tr class="memitem:a08bc143deb1d1e38e39926dd1b5bcc40" id="r_a08bc143deb1d1e38e39926dd1b5bcc40"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a08bc143deb1d1e38e39926dd1b5bcc40">default_tax_rate</a> = NO_TAX_RATE</td></tr>
<tr class="memitem:aec9facd9444fd160194be5ab4ea67ef0" id="r_aec9facd9444fd160194be5ab4ea67ef0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aec9facd9444fd160194be5ab4ea67ef0">default_uid</a> = uid</td></tr>
<tr class="memitem:ab2e9bd43cd7a3ffe53092a599ac3b4f5" id="r_ab2e9bd43cd7a3ffe53092a599ac3b4f5"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab2e9bd43cd7a3ffe53092a599ac3b4f5">discount_percent_changed</a> = [False] * <a class="el" href="namespace_source_1_1_controller_1_1dialog__invoice.html#ad813ac7928326e457d7a4b7a069acef3">I_MAX_POSITIONS</a></td></tr>
<tr class="memitem:ae2cf2aea4c687b6975213287f3d94881" id="r_ae2cf2aea4c687b6975213287f3d94881"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae2cf2aea4c687b6975213287f3d94881">discounts_button_layout</a> = QHBoxLayout()</td></tr>
<tr class="memitem:a4215733d02eb8ced30d8a87af4c7155e" id="r_a4215733d02eb8ced30d8a87af4c7155e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4215733d02eb8ced30d8a87af4c7155e">discounts_layout</a> = None</td></tr>
<tr class="memitem:abdc344a41c4e6acdc609676d134f2182" id="r_abdc344a41c4e6acdc609676d134f2182"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abdc344a41c4e6acdc609676d134f2182">due_days_changed</a> = False</td></tr>
<tr class="memitem:a7b553d008db5b70a39bd5d7207b804a0" id="r_a7b553d008db5b70a39bd5d7207b804a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7b553d008db5b70a39bd5d7207b804a0">expand_mode_changed</a></td></tr>
<tr class="memitem:a8c9d94e1ce673675f053c8453d303d96" id="r_a8c9d94e1ce673675f053c8453d303d96"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8c9d94e1ce673675f053c8453d303d96">export_btn_clicked</a></td></tr>
<tr class="memitem:aaf5ac331fd650882cf8333cfc51860c3" id="r_aaf5ac331fd650882cf8333cfc51860c3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf5ac331fd650882cf8333cfc51860c3">extended_mode</a> = False</td></tr>
<tr class="memitem:ae8b5862acccebba002482d14e6455e58" id="r_ae8b5862acccebba002482d14e6455e58"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae8b5862acccebba002482d14e6455e58">import_btn_clicked</a></td></tr>
<tr class="memitem:a8950f3ba9ed50a5573be9eb815aa0b4c" id="r_a8950f3ba9ed50a5573be9eb815aa0b4c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8950f3ba9ed50a5573be9eb815aa0b4c">item_button_layout</a> = QHBoxLayout()</td></tr>
<tr class="memitem:a45d0ecbae117c22440c033d426c26dbd" id="r_a45d0ecbae117c22440c033d426c26dbd"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a45d0ecbae117c22440c033d426c26dbd">item_gross_changed</a> = [False] * <a class="el" href="namespace_source_1_1_controller_1_1dialog__invoice.html#ad813ac7928326e457d7a4b7a069acef3">I_MAX_POSITIONS</a></td></tr>
<tr class="memitem:aeec547ecb98d63d629bcb07335f40289" id="r_aeec547ecb98d63d629bcb07335f40289"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeec547ecb98d63d629bcb07335f40289">item_layout</a> = None</td></tr>
<tr class="memitem:a424d02a36be202a58e331cdafdf600ca" id="r_a424d02a36be202a58e331cdafdf600ca"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a424d02a36be202a58e331cdafdf600ca">lock_auto_price_edit</a> = False</td></tr>
<tr class="memitem:ab0d9f0b4f0d19d406469546af4e92073" id="r_ab0d9f0b4f0d19d406469546af4e92073"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab0d9f0b4f0d19d406469546af4e92073">lock_due_date_edit</a> = False</td></tr>
<tr class="memitem:a0b065be2fb394b3384934b0e0c9c7033" id="r_a0b065be2fb394b3384934b0e0c9c7033"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b065be2fb394b3384934b0e0c9c7033">on_invoice_data_changed</a></td></tr>
<tr class="memitem:a642eaebcd51de9526bcf28d8d66bf3fb" id="r_a642eaebcd51de9526bcf28d8d66bf3fb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a642eaebcd51de9526bcf28d8d66bf3fb">remove_discount</a></td></tr>
<tr class="memitem:a8a0b5429e1320774e94bc497693d377f" id="r_a8a0b5429e1320774e94bc497693d377f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a0b5429e1320774e94bc497693d377f">remove_item</a></td></tr>
<tr class="memitem:ad9c0db887481ae99fb8d973c2a07851f" id="r_ad9c0db887481ae99fb8d973c2a07851f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad9c0db887481ae99fb8d973c2a07851f">remove_surcharge</a></td></tr>
<tr class="memitem:aa67c1680dbda1d3954e4ffcbd257b644" id="r_aa67c1680dbda1d3954e4ffcbd257b644"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa67c1680dbda1d3954e4ffcbd257b644">select_logo</a></td></tr>
<tr class="memitem:a6d2c2729f48f04fa474bc5071693d075" id="r_a6d2c2729f48f04fa474bc5071693d075"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6d2c2729f48f04fa474bc5071693d075">surcharges_button_layout</a> = QHBoxLayout()</td></tr>
<tr class="memitem:abb1d3aefdf407f1ded3ee4d84c9483f3" id="r_abb1d3aefdf407f1ded3ee4d84c9483f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abb1d3aefdf407f1ded3ee4d84c9483f3">surcharges_layout</a> = None</td></tr>
<tr class="memitem:adfdb3a9ae8c84f0eeb9c3976d3ecd50b" id="r_adfdb3a9ae8c84f0eeb9c3976d3ecd50b"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adfdb3a9ae8c84f0eeb9c3976d3ecd50b">surcharges_percent_changed</a> = [False] * <a class="el" href="namespace_source_1_1_controller_1_1dialog__invoice.html#ad813ac7928326e457d7a4b7a069acef3">I_MAX_POSITIONS</a></td></tr>
<tr class="memitem:a81d93c5435db7826fadb9d6a0dab1332" id="r_a81d93c5435db7826fadb9d6a0dab1332"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a81d93c5435db7826fadb9d6a0dab1332">tax_layout</a> = None</td></tr>
<tr class="memitem:ac492f8de2d00b6c4282e766bfadaf2e7" id="r_ac492f8de2d00b6c4282e766bfadaf2e7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac492f8de2d00b6c4282e766bfadaf2e7">ui</a> = ui</td></tr>
<tr class="memitem:a25790f30953738d05f1d81dd2cbf27b9" id="r_a25790f30953738d05f1d81dd2cbf27b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a25790f30953738d05f1d81dd2cbf27b9">ui_invoice_data</a> = None</td></tr>
<tr class="memitem:ad3d4847a9deb758e6b1a58107c286e09" id="r_ad3d4847a9deb758e6b1a58107c286e09"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad3d4847a9deb758e6b1a58107c286e09">update_total_data</a></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Ausführliche Beschreibung</h2>
<div class="textblock"><p>Invoice dialog. </p>
<dl class="params"><dt>Parameter</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui</td><td>: main window </td></tr>
    <tr><td class="paramname">uid</td><td>: UID of selected contact </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00222">222</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Beschreibung der Konstruktoren und Destruktoren</h2>
<a id="a102a1b9de466d8c12fb915c6a85c5904" name="a102a1b9de466d8c12fb915c6a85c5904"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a102a1b9de466d8c12fb915c6a85c5904">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None __init__ </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;MainWindow&quot;</td>          <td class="paramname"><span class="paramname"><em>ui</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] </td>          <td class="paramname"><span class="paramname"><em>uid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*Any</td>          <td class="paramname"><span class="paramname"><em>args</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**Any</td>          <td class="paramname"><span class="paramname"><em>kwargs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00229">229</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  229</span>    <span class="keyword">def </span>__init__(self, ui: <span class="stringliteral">&quot;MainWindow&quot;</span>, uid: Optional[str] = <span class="keywordtype">None</span>, *args: Any, **kwargs: Any) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  230</span>        super().__init__(parent=ui, *args, **kwargs)  <span class="comment"># type: ignore</span></div>
<div class="line"><span class="lineno">  231</span>        self.setupUi(self)</div>
<div class="line"><span class="lineno">  232</span>        self.setMinimumWidth(960)</div>
<div class="line"><span class="lineno">  233</span>        self.setMinimumHeight(500)</div>
<div class="line"><span class="lineno">  234</span>        self.setWindowFlags(Qt.WindowType.Window)  <span class="comment"># set all window buttons (e.g max window size)</span></div>
<div class="line"><span class="lineno">  235</span>        self.setWindowTitle(<span class="stringliteral">&quot;Rechnung erstellen&quot;</span>)</div>
<div class="line"><span class="lineno">  236</span>        self.ui = ui</div>
<div class="line"><span class="lineno">  237</span>        self.due_days_changed = <span class="keyword">False</span>  <span class="comment"># True=due days changed; False=due date changed</span></div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>        <span class="comment"># select customer data</span></div>
<div class="line"><span class="lineno">  240</span>        self.customer = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  241</span>        <span class="keywordflow">if</span> B_DEBUG_FILL:</div>
<div class="line"><span class="lineno">  242</span>            self.customer = self.ui.tab_contacts.l_data[0]</div>
<div class="line"><span class="lineno">  243</span>        self.default_uid = uid</div>
<div class="line"><span class="lineno">  244</span>        self.extended_mode = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  245</span>        self.ui_invoice_data = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  246</span>        self.lock_auto_price_edit = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  247</span>        self.lock_due_date_edit = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  248</span>        <span class="keywordflow">if</span> self.ui.tab_settings.company_data[COMPANY_BOOKING_FIELD][ECompanyFields.SMALL_BUSINESS_REGULATION]:</div>
<div class="line"><span class="lineno">  249</span>            self.default_tax_rate = NO_TAX_RATE</div>
<div class="line"><span class="lineno">  250</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  251</span>            self.default_tax_rate = self.ui.tab_settings.company_data[COMPANY_BOOKING_FIELD][ECompanyFields.TAX_RATES][0]</div>
<div class="line"><span class="lineno">  252</span>        self.default_payment_days = self.ui.tab_settings.company_data[COMPANY_DEFAULT_FIELD][ECompanyFields.PAYMENT_DAYS]</div>
<div class="line"><span class="lineno">  253</span>        <span class="comment"># items</span></div>
<div class="line"><span class="lineno">  254</span>        self.item_gross_changed = [<span class="keyword">False</span>] * I_MAX_POSITIONS  <span class="comment"># True=gross changed; False=net changed</span></div>
<div class="line"><span class="lineno">  255</span>        self.item_layout = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  256</span>        self.btn_add_item = QPushButton(<span class="stringliteral">&quot;Position hinzufügen&quot;</span>)</div>
<div class="line"><span class="lineno">  257</span>        self.btn_remove_item = QPushButton(<span class="stringliteral">&quot;Position entfernen&quot;</span>)</div>
<div class="line"><span class="lineno">  258</span>        self.item_button_layout = QHBoxLayout()</div>
<div class="line"><span class="lineno">  259</span>        self.item_button_layout.addWidget(self.btn_add_item)</div>
<div class="line"><span class="lineno">  260</span>        self.item_button_layout.addWidget(self.btn_remove_item)</div>
<div class="line"><span class="lineno">  261</span>        <span class="comment"># discounts</span></div>
<div class="line"><span class="lineno">  262</span>        self.discount_percent_changed = [<span class="keyword">False</span>] * I_MAX_POSITIONS  <span class="comment"># True=percent changed; False=net changed</span></div>
<div class="line"><span class="lineno">  263</span>        self.discounts_layout = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  264</span>        self.btn_add_discount = QPushButton(<span class="stringliteral">&quot;Nachlass zufügen&quot;</span>)</div>
<div class="line"><span class="lineno">  265</span>        self.btn_remove_discount = QPushButton(<span class="stringliteral">&quot;Nachlass entfernen&quot;</span>)</div>
<div class="line"><span class="lineno">  266</span>        self.discounts_button_layout = QHBoxLayout()</div>
<div class="line"><span class="lineno">  267</span>        self.discounts_button_layout.addWidget(self.btn_add_discount)</div>
<div class="line"><span class="lineno">  268</span>        self.discounts_button_layout.addWidget(self.btn_remove_discount)</div>
<div class="line"><span class="lineno">  269</span>        <span class="comment"># surcharges</span></div>
<div class="line"><span class="lineno">  270</span>        self.surcharges_percent_changed = [<span class="keyword">False</span>] * I_MAX_POSITIONS  <span class="comment"># True=percent changed; False=net changed</span></div>
<div class="line"><span class="lineno">  271</span>        self.surcharges_layout = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  272</span>        self.btn_add_surcharge = QPushButton(<span class="stringliteral">&quot;Zuschlag zufügen&quot;</span>)</div>
<div class="line"><span class="lineno">  273</span>        self.btn_remove_surcharge = QPushButton(<span class="stringliteral">&quot;Zuschlag entfernen&quot;</span>)</div>
<div class="line"><span class="lineno">  274</span>        self.surcharges_button_layout = QHBoxLayout()</div>
<div class="line"><span class="lineno">  275</span>        self.surcharges_button_layout.addWidget(self.btn_add_surcharge)</div>
<div class="line"><span class="lineno">  276</span>        self.surcharges_button_layout.addWidget(self.btn_remove_surcharge)</div>
<div class="line"><span class="lineno">  277</span>        <span class="comment"># tax</span></div>
<div class="line"><span class="lineno">  278</span>        self.tax_layout = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  279</span>        thread_dialog(self)</div>
<div class="line"><span class="lineno">  280</span> </div>
</div><!-- fragment -->
</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Dokumentation der Elementfunktionen</h2>
<a id="adb1d587008b69aba3cba7e86e5a2bad8" name="adb1d587008b69aba3cba7e86e5a2bad8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb1d587008b69aba3cba7e86e5a2bad8">&#9670;&#160;</a></span>accounting_date_checkbox_changed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None accounting_date_checkbox_changed </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int | bool</td>          <td class="paramname"><span class="paramname"><em>state</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accounting date checkbox changed. </p>
<dl class="params"><dt>Parameter</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>: checkbox status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00642">642</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  642</span>    <span class="keyword">def </span>accounting_date_checkbox_changed(self, state: int | bool) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  643</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno">  644</span><span class="stringliteral">        @brief Accounting date checkbox changed</span></div>
<div class="line"><span class="lineno">  645</span><span class="stringliteral">        @param state : checkbox status</span></div>
<div class="line"><span class="lineno">  646</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  647</span>        enable = bool(state)</div>
<div class="line"><span class="lineno">  648</span>        self.ui_invoice_data.de_accounting_date_from.setEnabled(enable)</div>
<div class="line"><span class="lineno">  649</span>        self.ui_invoice_data.lbl_accounting_to.setEnabled(enable)</div>
<div class="line"><span class="lineno">  650</span>        self.ui_invoice_data.de_accounting_date_to.setEnabled(enable)</div>
<div class="line"><span class="lineno">  651</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab787e264f988097a34cca2013a217ee6" name="ab787e264f988097a34cca2013a217ee6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab787e264f988097a34cca2013a217ee6">&#9670;&#160;</a></span>accounting_date_from_changed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None accounting_date_from_changed </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QDate</td>          <td class="paramname"><span class="paramname"><em>from_date</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accounting date "from" changed. </p>
<dl class="params"><dt>Parameter</dt><dd>
  <table class="params">
    <tr><td class="paramname">from_date</td><td>: from date </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00652">652</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  652</span>    <span class="keyword">def </span>accounting_date_from_changed(self, from_date: QDate) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  653</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno">  654</span><span class="stringliteral">        @brief Accounting date &quot;from&quot; changed</span></div>
<div class="line"><span class="lineno">  655</span><span class="stringliteral">        @param from_date : from date</span></div>
<div class="line"><span class="lineno">  656</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  657</span>        to_date = self.ui_invoice_data.de_accounting_date_to.date()</div>
<div class="line"><span class="lineno">  658</span>        <span class="keywordflow">if</span> to_date &lt; from_date:</div>
<div class="line"><span class="lineno">  659</span>            self.ui_invoice_data.de_accounting_date_to.setDate(from_date)</div>
<div class="line"><span class="lineno">  660</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab5a891167b0e93be05556e8ed8dfb0d6" name="ab5a891167b0e93be05556e8ed8dfb0d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5a891167b0e93be05556e8ed8dfb0d6">&#9670;&#160;</a></span>accounting_date_to_changed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None accounting_date_to_changed </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QDate</td>          <td class="paramname"><span class="paramname"><em>to_date</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accounting date "to" changed. </p>
<dl class="params"><dt>Parameter</dt><dd>
  <table class="params">
    <tr><td class="paramname">to_date</td><td>: to date </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00661">661</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  661</span>    <span class="keyword">def </span>accounting_date_to_changed(self, to_date: QDate) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  662</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno">  663</span><span class="stringliteral">        @brief Accounting date &quot;to&quot; changed</span></div>
<div class="line"><span class="lineno">  664</span><span class="stringliteral">        @param to_date : to date</span></div>
<div class="line"><span class="lineno">  665</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  666</span>        from_date = self.ui_invoice_data.de_accounting_date_from.date()</div>
<div class="line"><span class="lineno">  667</span>        <span class="keywordflow">if</span> to_date &lt; from_date:</div>
<div class="line"><span class="lineno">  668</span>            self.ui_invoice_data.de_accounting_date_from.setDate(to_date)</div>
<div class="line"><span class="lineno">  669</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c50a2e9a37b53d86ae81b094f35e71f" name="a1c50a2e9a37b53d86ae81b094f35e71f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c50a2e9a37b53d86ae81b094f35e71f">&#9670;&#160;</a></span>add_discount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None add_discount </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add discount. </p>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00809">809</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  809</span>    <span class="keyword">def </span>add_discount(self) -&gt; None:</div>
<div class="line"><span class="lineno">  810</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno">  811</span><span class="stringliteral">        @brief Add discount</span></div>
<div class="line"><span class="lineno">  812</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  813</span>        discount_index = len(self.ui_invoice_data.discounts_widgets)</div>
<div class="line"><span class="lineno">  814</span>        <span class="keywordflow">if</span> discount_index == 0:</div>
<div class="line"><span class="lineno">  815</span>            current_size = self.size()</div>
<div class="line"><span class="lineno">  816</span>            current_width = current_size.width()</div>
<div class="line"><span class="lineno">  817</span>            current_height = current_size.height()</div>
<div class="line"><span class="lineno">  818</span>            min_width = 1150</div>
<div class="line"><span class="lineno">  819</span>            <span class="keywordflow">if</span> current_width &lt; min_width:</div>
<div class="line"><span class="lineno">  820</span>                self.resize(min_width, current_height)</div>
<div class="line"><span class="lineno">  821</span>        <span class="keywordflow">if</span> discount_index &lt;= I_MAX_POSITIONS:</div>
<div class="line"><span class="lineno">  822</span>            discount_dialog = Ui_InvoiceDiscountsData()  <span class="comment"># new discount instance</span></div>
<div class="line"><span class="lineno">  823</span>            widget = QWidget()  <span class="comment"># new container widget</span></div>
<div class="line"><span class="lineno">  824</span>            discount_dialog.setupUi(widget)</div>
<div class="line"><span class="lineno">  825</span>            self.discounts_layout.insertWidget(self.discounts_layout.count() - 1, widget)  <span class="comment"># insert widget in layout before buttons</span></div>
<div class="line"><span class="lineno">  826</span>            self.ui_invoice_data.discounts_widgets.append(discount_dialog)  <span class="comment"># store discount ui for later use</span></div>
<div class="line"><span class="lineno">  827</span>            self.set_default_dis_sur_data(discount_dialog, D_ALLOWANCE_REASON_CODE)</div>
<div class="line"><span class="lineno">  828</span>            self.btn_remove_discount.setEnabled(<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  829</span>            <span class="comment"># price callback</span></div>
<div class="line"><span class="lineno">  830</span>            discount_dialog.dsb_basis_amount.valueChanged.connect(<span class="keyword">lambda</span>: self.discount_price_changed(discount_index, <span class="keywordtype">None</span>))</div>
<div class="line"><span class="lineno">  831</span>            discount_dialog.dsb_percent.valueChanged.connect(<span class="keyword">lambda</span>: self.discount_price_changed(discount_index, <span class="keyword">True</span>))</div>
<div class="line"><span class="lineno">  832</span>            discount_dialog.dsb_net_amount.valueChanged.connect(<span class="keyword">lambda</span>: self.discount_price_changed(discount_index, <span class="keyword">False</span>))</div>
<div class="line"><span class="lineno">  833</span>            discount_dialog.dsb_vat_rate.valueChanged.connect(<span class="keyword">lambda</span>: self.discount_price_changed(discount_index, <span class="keywordtype">None</span>))</div>
<div class="line"><span class="lineno">  834</span>            self.update_total_data()</div>
<div class="line"><span class="lineno">  835</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  836</span>            self.ui.set_status(<span class="stringliteral">&quot;Maximale Nachlässe erreicht.&quot;</span>, b_highlight=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  837</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a627cb4f6e35b6efd1e4e8a9753e3ee78" name="a627cb4f6e35b6efd1e4e8a9753e3ee78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a627cb4f6e35b6efd1e4e8a9753e3ee78">&#9670;&#160;</a></span>add_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None add_item </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add item. </p>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00670">670</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  670</span>    <span class="keyword">def </span>add_item(self) -&gt; None:</div>
<div class="line"><span class="lineno">  671</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno">  672</span><span class="stringliteral">        @brief Add item</span></div>
<div class="line"><span class="lineno">  673</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  674</span>        item_index = len(self.ui_invoice_data.item_widgets)</div>
<div class="line"><span class="lineno">  675</span>        <span class="keywordflow">if</span> item_index &lt;= I_MAX_POSITIONS:</div>
<div class="line"><span class="lineno">  676</span>            item_dialog = Ui_InvoiceItemData()  <span class="comment"># new item instance</span></div>
<div class="line"><span class="lineno">  677</span>            widget = QWidget()  <span class="comment"># new container widget</span></div>
<div class="line"><span class="lineno">  678</span>            item_dialog.setupUi(widget)</div>
<div class="line"><span class="lineno">  679</span>            self.item_layout.insertWidget(self.item_layout.count() - 1, widget)  <span class="comment"># insert widget in layout before buttons</span></div>
<div class="line"><span class="lineno">  680</span>            item_dialog.groupBox.setTitle(f<span class="stringliteral">&quot;Position {item_index + 1}&quot;</span>)</div>
<div class="line"><span class="lineno">  681</span>            self.ui_invoice_data.item_widgets.append(item_dialog)  <span class="comment"># store item ui for later use</span></div>
<div class="line"><span class="lineno">  682</span>            self.set_default_item_data(item_dialog)</div>
<div class="line"><span class="lineno">  683</span>            self.update_item_expand_status(item_dialog, self.cb_extended.isChecked())</div>
<div class="line"><span class="lineno">  684</span>            <span class="keywordflow">if</span> item_index &gt; 0:</div>
<div class="line"><span class="lineno">  685</span>                self.btn_remove_item.setEnabled(<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  686</span>            <span class="comment"># date checkbox callback</span></div>
<div class="line"><span class="lineno">  687</span>            item_dialog.cb_item_billing_period.stateChanged.connect(<span class="keyword">lambda</span> state, idx=item_index: self.item_billing_period_checkbox_changed(state, idx))</div>
<div class="line"><span class="lineno">  688</span>            <span class="comment"># price callback</span></div>
<div class="line"><span class="lineno">  689</span>            item_dialog.dsb_item_net_unit_price.valueChanged.connect(<span class="keyword">lambda</span>: self.item_price_changed(item_index, <span class="keyword">False</span>))</div>
<div class="line"><span class="lineno">  690</span>            item_dialog.dsb_item_gross_unit_price.valueChanged.connect(<span class="keyword">lambda</span>: self.item_price_changed(item_index, <span class="keyword">True</span>))</div>
<div class="line"><span class="lineno">  691</span>            item_dialog.dsb_item_vat_rate.valueChanged.connect(<span class="keyword">lambda</span>: self.item_price_changed(item_index, <span class="keywordtype">None</span>))</div>
<div class="line"><span class="lineno">  692</span>            item_dialog.cb_item_vat_code.currentTextChanged.connect(self.update_total_data)  <span class="comment"># update for taxes</span></div>
<div class="line"><span class="lineno">  693</span>            item_dialog.dsb_item_quantity.valueChanged.connect(<span class="keyword">lambda</span>: self.item_price_changed(item_index, <span class="keywordtype">None</span>))</div>
<div class="line"><span class="lineno">  694</span>            item_dialog.dsb_item_basis_quantity.valueChanged.connect(<span class="keyword">lambda</span>: self.item_price_changed(item_index, <span class="keywordtype">None</span>))</div>
<div class="line"><span class="lineno">  695</span>            item_dialog.line_charge.hide()  <span class="comment"># TODO Nachlässe/Zulagen für Items umsetzen</span></div>
<div class="line"><span class="lineno">  696</span>            self.update_total_data()</div>
<div class="line"><span class="lineno">  697</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  698</span>            self.ui.set_status(<span class="stringliteral">&quot;Maximale Positionen erreicht.&quot;</span>, b_highlight=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  699</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af05cb1c9819abeadd87d314170d76af6" name="af05cb1c9819abeadd87d314170d76af6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af05cb1c9819abeadd87d314170d76af6">&#9670;&#160;</a></span>add_surcharge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None add_surcharge </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add surcharge. </p>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00852">852</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  852</span>    <span class="keyword">def </span>add_surcharge(self) -&gt; None:</div>
<div class="line"><span class="lineno">  853</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno">  854</span><span class="stringliteral">        @brief Add surcharge</span></div>
<div class="line"><span class="lineno">  855</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  856</span>        surcharge_index = len(self.ui_invoice_data.surcharges_widgets)</div>
<div class="line"><span class="lineno">  857</span>        <span class="keywordflow">if</span> surcharge_index == 0:</div>
<div class="line"><span class="lineno">  858</span>            current_size = self.size()</div>
<div class="line"><span class="lineno">  859</span>            current_width = current_size.width()</div>
<div class="line"><span class="lineno">  860</span>            current_height = current_size.height()</div>
<div class="line"><span class="lineno">  861</span>            min_width = 1150</div>
<div class="line"><span class="lineno">  862</span>            <span class="keywordflow">if</span> current_width &lt; min_width:</div>
<div class="line"><span class="lineno">  863</span>                self.resize(min_width, current_height)</div>
<div class="line"><span class="lineno">  864</span>        <span class="keywordflow">if</span> surcharge_index &lt;= I_MAX_POSITIONS:</div>
<div class="line"><span class="lineno">  865</span>            surcharge_dialog = Ui_InvoiceSurchargesData()  <span class="comment"># new surcharge instance</span></div>
<div class="line"><span class="lineno">  866</span>            widget = QWidget()  <span class="comment"># new container widget</span></div>
<div class="line"><span class="lineno">  867</span>            surcharge_dialog.setupUi(widget)</div>
<div class="line"><span class="lineno">  868</span>            self.surcharges_layout.insertWidget(self.surcharges_layout.count() - 1, widget)  <span class="comment"># insert widget in layout before buttons</span></div>
<div class="line"><span class="lineno">  869</span>            self.ui_invoice_data.surcharges_widgets.append(surcharge_dialog)  <span class="comment"># store surcharge ui for later use</span></div>
<div class="line"><span class="lineno">  870</span>            self.set_default_dis_sur_data(surcharge_dialog, D_CHARGE_REASON_CODE)</div>
<div class="line"><span class="lineno">  871</span>            self.btn_remove_surcharge.setEnabled(<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  872</span>            <span class="comment"># price callback</span></div>
<div class="line"><span class="lineno">  873</span>            surcharge_dialog.dsb_basis_amount.valueChanged.connect(<span class="keyword">lambda</span>: self.surcharge_price_changed(surcharge_index, <span class="keywordtype">None</span>))</div>
<div class="line"><span class="lineno">  874</span>            surcharge_dialog.dsb_percent.valueChanged.connect(<span class="keyword">lambda</span>: self.surcharge_price_changed(surcharge_index, <span class="keyword">True</span>))</div>
<div class="line"><span class="lineno">  875</span>            surcharge_dialog.dsb_net_amount.valueChanged.connect(<span class="keyword">lambda</span>: self.surcharge_price_changed(surcharge_index, <span class="keyword">False</span>))</div>
<div class="line"><span class="lineno">  876</span>            surcharge_dialog.dsb_vat_rate.valueChanged.connect(<span class="keyword">lambda</span>: self.surcharge_price_changed(surcharge_index, <span class="keywordtype">None</span>))</div>
<div class="line"><span class="lineno">  877</span>            self.update_total_data()</div>
<div class="line"><span class="lineno">  878</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  879</span>            self.ui.set_status(<span class="stringliteral">&quot;Maximale Zuschläge erreicht.&quot;</span>, b_highlight=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  880</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aea7c128483931d3a6fc8e31dd83825b0" name="aea7c128483931d3a6fc8e31dd83825b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea7c128483931d3a6fc8e31dd83825b0">&#9670;&#160;</a></span>check_item_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bool check_item_name </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check item name. </p>
<dl class="section return"><dt>Rückgabe</dt><dd>valid status </dd></dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l01357">1357</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1357</span>    <span class="keyword">def </span>check_item_name(self) -&gt; bool:</div>
<div class="line"><span class="lineno"> 1358</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno"> 1359</span><span class="stringliteral">        @brief Check item name</span></div>
<div class="line"><span class="lineno"> 1360</span><span class="stringliteral">        @return valid status</span></div>
<div class="line"><span class="lineno"> 1361</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1362</span>        valid_item = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1363</span>        <span class="keywordflow">for</span> item_dialog <span class="keywordflow">in</span> self.ui_invoice_data.item_widgets:</div>
<div class="line"><span class="lineno"> 1364</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> item_dialog.le_item_name.text():</div>
<div class="line"><span class="lineno"> 1365</span>                item_dialog.le_item_name.setStyleSheet(<span class="stringliteral">&quot;border: 2px solid red;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1366</span>                valid_item = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1367</span>                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 1368</span>        <span class="keywordflow">return</span> valid_item</div>
<div class="line"><span class="lineno"> 1369</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab6c49644c8511159b5600debe7bf5791" name="ab6c49644c8511159b5600debe7bf5791"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6c49644c8511159b5600debe7bf5791">&#9670;&#160;</a></span>close_dialog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None close_dialog </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close dialog. </p>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00389">389</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  389</span>    <span class="keyword">def </span>close_dialog(self) -&gt; None:</div>
<div class="line"><span class="lineno">  390</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno">  391</span><span class="stringliteral">        @brief Close dialog.</span></div>
<div class="line"><span class="lineno">  392</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  393</span>        self.close()</div>
<div class="line"><span class="lineno">  394</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d41e91182c968e5e3c314eb1ba95db5" name="a2d41e91182c968e5e3c314eb1ba95db5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d41e91182c968e5e3c314eb1ba95db5">&#9670;&#160;</a></span>contact_template_activated()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None contact_template_activated </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>_index</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Contact template was selected. </p>
<p>Update Address field. </p><dl class="params"><dt>Parameter</dt><dd>
  <table class="params">
    <tr><td class="paramname">_index</td><td>: index of selected template entry </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l01231">1231</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1231</span>    <span class="keyword">def </span>contact_template_activated(self, _index: int) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1232</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno"> 1233</span><span class="stringliteral">        @brief Contact template was selected. Update Address field.</span></div>
<div class="line"><span class="lineno"> 1234</span><span class="stringliteral">        @param _index : index of selected template entry</span></div>
<div class="line"><span class="lineno"> 1235</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1236</span>        contact = self.cb_contact_template.currentData()</div>
<div class="line"><span class="lineno"> 1237</span>        self.customer = contact</div>
<div class="line"><span class="lineno"> 1238</span>        self.ui_invoice_data.le_buyer_company.setText(contact[EContactFields.NAME])  <span class="comment"># Name des Käufers (BT-44) TODO textumbruch ermöglichen</span></div>
<div class="line"><span class="lineno"> 1239</span>        self.ui_invoice_data.le_buyer_name.setText(contact[EContactFields.TRADE_NAME])  <span class="comment"># Handelsname (BT-45)</span></div>
<div class="line"><span class="lineno"> 1240</span>        self.ui_invoice_data.le_buyer_recognition.setText(contact[EContactFields.CUSTOMER_NUMBER])  <span class="comment"># Käuferkennung (BT-46)</span></div>
<div class="line"><span class="lineno"> 1241</span>        self.ui_invoice_data.le_buyer_register_number.setText(contact[EContactFields.TRADE_ID])  <span class="comment"># Registernummer (BT-47)</span></div>
<div class="line"><span class="lineno"> 1242</span>        self.ui_invoice_data.le_buyer_vat.setText(contact[EContactFields.VAT_ID])  <span class="comment"># Umsatzsteuer-Identifikationsnummer des Käufers (BT-48)</span></div>
<div class="line"><span class="lineno"> 1243</span>        self.ui_invoice_data.le_buyer_electric_address.setText(contact[EContactFields.ELECTRONIC_ADDRESS])  <span class="comment"># Elektronische Adresse (BT-49)</span></div>
<div class="line"><span class="lineno"> 1244</span>        contact_address = contact[CONTACT_ADDRESS_FIELD]  <span class="comment"># address</span></div>
<div class="line"><span class="lineno"> 1245</span>        self.ui_invoice_data.le_buyer_street_1.setText(contact_address[EContactFields.STREET_1])  <span class="comment"># Zeile 1 der Käuferanschrift (BT-50)</span></div>
<div class="line"><span class="lineno"> 1246</span>        self.ui_invoice_data.le_buyer_street_2.setText(contact_address[EContactFields.STREET_2])  <span class="comment"># Zeile 2 der Käuferanschrift (BT-51)</span></div>
<div class="line"><span class="lineno"> 1247</span>        self.ui_invoice_data.le_buyer_plz.setText(contact_address[EContactFields.PLZ])  <span class="comment"># Postleitzahl der Käuferanschrift (BT-53)</span></div>
<div class="line"><span class="lineno"> 1248</span>        self.ui_invoice_data.le_buyer_city.setText(contact_address[EContactFields.CITY])  <span class="comment"># Stadt der Käuferanschrift (BT-52)</span></div>
<div class="line"><span class="lineno"> 1249</span>        self.ui_invoice_data.cb_buyer_country.setCurrentText(contact_address[EContactFields.COUNTRY])  <span class="comment"># Ländercode der Käuferanschrift (BT-55)</span></div>
<div class="line"><span class="lineno"> 1250</span>        contact_contact = contact[CONTACT_CONTACT_FIELD]  <span class="comment"># contact</span></div>
<div class="line"><span class="lineno"> 1251</span>        person = <span class="stringliteral">&quot; &quot;</span>.join(filter(<span class="keywordtype">None</span>, [contact_contact[EContactFields.FIRST_NAME], contact_contact[EContactFields.LAST_NAME]]))</div>
<div class="line"><span class="lineno"> 1252</span>        self.ui_invoice_data.le_buyer_contact_name.setText(person)  <span class="comment"># Kontaktstelle des Käufers (BT-56)</span></div>
<div class="line"><span class="lineno"> 1253</span>        self.ui_invoice_data.le_buyer_contact_mail.setText(contact_contact[EContactFields.MAIL])  <span class="comment"># E-Mail-Adresse der Kontaktstelle des Käufers (BT-58)</span></div>
<div class="line"><span class="lineno"> 1254</span>        self.ui_invoice_data.le_buyer_contact_phone.setText(contact_contact[EContactFields.PHONE])  <span class="comment"># Telefonnummer der Kontaktstelle des Käufers (BT-57)</span></div>
<div class="line"><span class="lineno"> 1255</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a93d6ee543d1f817d987c62621f70c95a" name="a93d6ee543d1f817d987c62621f70c95a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93d6ee543d1f817d987c62621f70c95a">&#9670;&#160;</a></span>create_invoice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None create_invoice </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_source_1_1_util_1_1app__data_1_1_e_invoice_option.html">EInvoiceOption</a></td>          <td class="paramname"><span class="paramname"><em>e_invoice_option</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create invoice. </p>
<dl class="params"><dt>Parameter</dt><dd>
  <table class="params">
    <tr><td class="paramname">e_invoice_option</td><td>: invoice option </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l01370">1370</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1370</span>    <span class="keyword">def </span>create_invoice(self, e_invoice_option: EInvoiceOption) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1371</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno"> 1372</span><span class="stringliteral">        @brief Create invoice.</span></div>
<div class="line"><span class="lineno"> 1373</span><span class="stringliteral">        @param e_invoice_option : invoice option</span></div>
<div class="line"><span class="lineno"> 1374</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1375</span>        b_extended = self.cb_extended.isChecked()</div>
<div class="line"><span class="lineno"> 1376</span>        dialog = self.ui_invoice_data</div>
<div class="line"><span class="lineno"> 1377</span> </div>
<div class="line"><span class="lineno"> 1378</span>        self.cb_contact_template.setStyleSheet(<span class="stringliteral">&quot;border: 1px solid palette(dark);&quot;</span>)</div>
<div class="line"><span class="lineno"> 1379</span>        dialog.le_invoice_number.setStyleSheet(<span class="stringliteral">&quot;border: 1px solid palette(dark);&quot;</span>)</div>
<div class="line"><span class="lineno"> 1380</span>        <span class="keywordflow">for</span> item_dialog <span class="keywordflow">in</span> dialog.item_widgets:</div>
<div class="line"><span class="lineno"> 1381</span>            item_dialog.le_item_name.setStyleSheet(<span class="stringliteral">&quot;border: 1px solid palette(dark);&quot;</span>)</div>
<div class="line"><span class="lineno"> 1382</span>        dialog.le_seller_company.setStyleSheet(<span class="stringliteral">&quot;border: 1px solid palette(dark);&quot;</span>)</div>
<div class="line"><span class="lineno"> 1383</span> </div>
<div class="line"><span class="lineno"> 1384</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> b_extended <span class="keywordflow">and</span> self.customer <span class="keywordflow">is</span> <span class="keywordtype">None</span>:  <span class="comment"># TODO bei Extended weitere Pflichtfelder prüfen</span></div>
<div class="line"><span class="lineno"> 1385</span>            self.cb_contact_template.setStyleSheet(<span class="stringliteral">&quot;border: 2px solid red;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1386</span>            self.ui.set_status(<span class="stringliteral">&quot;Kein Kunde ausgewählt.&quot;</span>, b_highlight=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1387</span>        <span class="keywordflow">elif</span> <span class="keywordflow">not</span> dialog.le_invoice_number.text():</div>
<div class="line"><span class="lineno"> 1388</span>            dialog.le_invoice_number.setStyleSheet(<span class="stringliteral">&quot;border: 2px solid red;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1389</span>            self.ui.set_status(<span class="stringliteral">&quot;Keine Rechnungsnummer vorhanden.&quot;</span>, b_highlight=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1390</span>        <span class="keywordflow">elif</span> <span class="keywordflow">not</span> self.check_item_name():</div>
<div class="line"><span class="lineno"> 1391</span>            <span class="comment"># border for first missing item name was set in function</span></div>
<div class="line"><span class="lineno"> 1392</span>            self.ui.set_status(<span class="stringliteral">&quot;Kein Artikelname vorhanden.&quot;</span>, b_highlight=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1393</span>        <span class="keywordflow">elif</span> b_extended <span class="keywordflow">and</span> <span class="keywordflow">not</span> dialog.le_seller_company.text():</div>
<div class="line"><span class="lineno"> 1394</span>            dialog.le_seller_company.setStyleSheet(<span class="stringliteral">&quot;border: 2px solid red;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1395</span>            self.ui.set_status(<span class="stringliteral">&quot;Kein Name des Rechnungsstellers&quot;</span>, b_highlight=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1396</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1397</span>            invoice_data = self.read_ui_data_to_json()</div>
<div class="line"><span class="lineno"> 1398</span>            write_invoice_option(e_invoice_option)</div>
<div class="line"><span class="lineno"> 1399</span>            custom_invoice = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1400</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> custom_invoice:</div>
<div class="line"><span class="lineno"> 1401</span>                create_qr_code = self.cb_qr_code.isChecked()</div>
<div class="line"><span class="lineno"> 1402</span>                write_qr_code_settings(create_qr_code)</div>
<div class="line"><span class="lineno"> 1403</span>                create_general_invoice(invoice_data, e_invoice_option, create_qr_code)</div>
<div class="line"><span class="lineno"> 1404</span>            self.close()</div>
<div class="line"><span class="lineno"> 1405</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a145347e60d90e8ddbe49f3ad4f53022e" name="a145347e60d90e8ddbe49f3ad4f53022e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a145347e60d90e8ddbe49f3ad4f53022e">&#9670;&#160;</a></span>discount_price_changed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None discount_price_changed </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>discount_index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>percent_changed</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Discount price changed. </p>
<dl class="params"><dt>Parameter</dt><dd>
  <table class="params">
    <tr><td class="paramname">discount_index</td><td>: discount index </td></tr>
    <tr><td class="paramname">percent_changed</td><td>: True: percent changed; False: ne changed; None=other (use last changed) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00926">926</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  926</span>    <span class="keyword">def </span>discount_price_changed(self, discount_index: int, percent_changed: bool) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  927</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno">  928</span><span class="stringliteral">        @brief Discount price changed</span></div>
<div class="line"><span class="lineno">  929</span><span class="stringliteral">        @param discount_index : discount index</span></div>
<div class="line"><span class="lineno">  930</span><span class="stringliteral">        @param percent_changed : True: percent changed; False: ne changed; None=other (use last changed)</span></div>
<div class="line"><span class="lineno">  931</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  932</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.lock_auto_price_edit:</div>
<div class="line"><span class="lineno">  933</span>            self.lock_auto_price_edit = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  934</span>            discount_dialog: Ui_InvoiceDiscountsData = self.ui_invoice_data.discounts_widgets[discount_index]</div>
<div class="line"><span class="lineno">  935</span> </div>
<div class="line"><span class="lineno">  936</span>            <span class="keywordflow">if</span> percent_changed <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  937</span>                self.discount_percent_changed[discount_index] = percent_changed</div>
<div class="line"><span class="lineno">  938</span> </div>
<div class="line"><span class="lineno">  939</span>            basis_amount = discount_dialog.dsb_basis_amount.value()</div>
<div class="line"><span class="lineno">  940</span>            percent = discount_dialog.dsb_percent.value()</div>
<div class="line"><span class="lineno">  941</span>            net_amount = discount_dialog.dsb_net_amount.value()</div>
<div class="line"><span class="lineno">  942</span>            vat_rate = discount_dialog.dsb_vat_rate.value()</div>
<div class="line"><span class="lineno">  943</span> </div>
<div class="line"><span class="lineno">  944</span>            <span class="keywordflow">if</span> self.discount_percent_changed[discount_index]:</div>
<div class="line"><span class="lineno">  945</span>                net_amount = basis_amount * (percent / 100)</div>
<div class="line"><span class="lineno">  946</span>                discount_dialog.dsb_net_amount.setValue(net_amount)</div>
<div class="line"><span class="lineno">  947</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  948</span>                percent = (net_amount / basis_amount) * 100</div>
<div class="line"><span class="lineno">  949</span>                discount_dialog.dsb_percent.setValue(percent)</div>
<div class="line"><span class="lineno">  950</span>            gross_amount = net_amount * (1 + (vat_rate / 100))</div>
<div class="line"><span class="lineno">  951</span>            tax_amount = gross_amount - net_amount</div>
<div class="line"><span class="lineno">  952</span>            discount_dialog.dsb_gross_amount.setValue(gross_amount)</div>
<div class="line"><span class="lineno">  953</span>            discount_dialog.dsb_vat_amount.setValue(tax_amount)</div>
<div class="line"><span class="lineno">  954</span>            self.lock_auto_price_edit = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  955</span> </div>
<div class="line"><span class="lineno">  956</span>        self.update_total_data()</div>
<div class="line"><span class="lineno">  957</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a27c2552de0e448af17083a8a9c4cb7b9" name="a27c2552de0e448af17083a8a9c4cb7b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27c2552de0e448af17083a8a9c4cb7b9">&#9670;&#160;</a></span>due_date_changed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None due_date_changed </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">None | bool</td>          <td class="paramname"><span class="paramname"><em>due_days_changed</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Due date changed. </p>
<dl class="params"><dt>Parameter</dt><dd>
  <table class="params">
    <tr><td class="paramname">due_days_changed</td><td>: changed object True=days False=date None=other (use last changed) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l01333">1333</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1333</span>    <span class="keyword">def </span>due_date_changed(self, due_days_changed: None | bool) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1334</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno"> 1335</span><span class="stringliteral">        @brief Due date changed</span></div>
<div class="line"><span class="lineno"> 1336</span><span class="stringliteral">        @param due_days_changed : changed object True=days False=date None=other (use last changed)</span></div>
<div class="line"><span class="lineno"> 1337</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1338</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.lock_due_date_edit:</div>
<div class="line"><span class="lineno"> 1339</span>            self.lock_due_date_edit = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1340</span>            dialog = self.ui_invoice_data</div>
<div class="line"><span class="lineno"> 1341</span> </div>
<div class="line"><span class="lineno"> 1342</span>            <span class="keywordflow">if</span> due_days_changed <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1343</span>                self.due_days_changed = due_days_changed</div>
<div class="line"><span class="lineno"> 1344</span> </div>
<div class="line"><span class="lineno"> 1345</span>            due_date = dialog.de_due_date.date()</div>
<div class="line"><span class="lineno"> 1346</span>            due_days = dialog.sb_due_days.value()</div>
<div class="line"><span class="lineno"> 1347</span>            invoice_date = dialog.de_invoice_date.date()</div>
<div class="line"><span class="lineno"> 1348</span> </div>
<div class="line"><span class="lineno"> 1349</span>            <span class="keywordflow">if</span> self.due_days_changed:</div>
<div class="line"><span class="lineno"> 1350</span>                new_due_date = invoice_date.addDays(due_days)</div>
<div class="line"><span class="lineno"> 1351</span>                dialog.de_due_date.setDate(new_due_date)</div>
<div class="line"><span class="lineno"> 1352</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1353</span>                new_due_days = invoice_date.daysTo(due_date)</div>
<div class="line"><span class="lineno"> 1354</span>                dialog.sb_due_days.setValue(new_due_days)</div>
<div class="line"><span class="lineno"> 1355</span>            self.lock_due_date_edit = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1356</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f9d8c39db2823665edfee6213837e60" name="a9f9d8c39db2823665edfee6213837e60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f9d8c39db2823665edfee6213837e60">&#9670;&#160;</a></span>expand_mode_changed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None expand_mode_changed </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update widgets for new expand status. </p>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l01098">1098</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1098</span>    <span class="keyword">def </span>expand_mode_changed(self) -&gt; None:</div>
<div class="line"><span class="lineno"> 1099</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno"> 1100</span><span class="stringliteral">        @brief Update widgets for new expand status</span></div>
<div class="line"><span class="lineno"> 1101</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1102</span>        b_visible = self.cb_extended.isChecked()</div>
<div class="line"><span class="lineno"> 1103</span> </div>
<div class="line"><span class="lineno"> 1104</span>        dialog = self.ui_invoice_data</div>
<div class="line"><span class="lineno"> 1105</span>        <span class="comment"># Rechnungstitel</span></div>
<div class="line"><span class="lineno"> 1106</span>        dialog.lbl_invoice_title.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1107</span>        dialog.le_invoice_title.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1108</span>        <span class="comment"># Code für den Rechnungstyp (BT-3)</span></div>
<div class="line"><span class="lineno"> 1109</span>        dialog.lbl_invoice_type.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1110</span>        dialog.cb_invoice_type.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1111</span>        <span class="comment"># Code für die Rechnungswährung (BT-5)</span></div>
<div class="line"><span class="lineno"> 1112</span>        dialog.lbl_currency.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1113</span>        dialog.cb_currency.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1114</span>        <span class="comment"># Fälligkeitsdatum der Zahlung (BT-9)</span></div>
<div class="line"><span class="lineno"> 1115</span>        dialog.lbl_due_date.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1116</span>        dialog.de_due_date.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1117</span>        dialog.sb_due_days.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1118</span>        dialog.lbl_due_days.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1119</span>        <span class="comment"># Käuferreferenz (BT-10)</span></div>
<div class="line"><span class="lineno"> 1120</span>        dialog.lbl_buyer_reference.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1121</span>        dialog.le_buyer_reference.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1122</span>        <span class="comment"># Projektnummer (BT-11)</span></div>
<div class="line"><span class="lineno"> 1123</span>        dialog.lbl_project_number.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1124</span>        dialog.le_project_number.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1125</span>        <span class="comment"># Vertragsnummer (BT-12)</span></div>
<div class="line"><span class="lineno"> 1126</span>        dialog.lbl_contract_number.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1127</span>        dialog.le_contract_number.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1128</span>        <span class="comment"># Bestellnummer (BT-13)</span></div>
<div class="line"><span class="lineno"> 1129</span>        dialog.lbl_order_number.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1130</span>        dialog.le_order_number.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1131</span>        <span class="comment"># Auftragsnummer (BT-14)</span></div>
<div class="line"><span class="lineno"> 1132</span>        dialog.lbl_assignment_number.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1133</span>        dialog.le_assignment_number.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1134</span>        <span class="comment"># Wareneingangsmeldung (BT-15)</span></div>
<div class="line"><span class="lineno"> 1135</span>        dialog.lbl_receiving_advice_referenced_document.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1136</span>        dialog.le_receiving_referenced_document.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1137</span>        dialog.lbl_receiving_document_date.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1138</span>        dialog.de_receiving_advice_referenced_document.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1139</span>        <span class="comment"># Versandanzeige (BT-16)</span></div>
<div class="line"><span class="lineno"> 1140</span>        dialog.lbl_despatch_advice_referenced_document.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1141</span>        dialog.le_despatch_advice_referenced_document.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1142</span>        dialog.lbl_despatch_advice_referenced_document_date.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1143</span>        dialog.de_despatch_advice_referenced_document.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1144</span>        <span class="comment"># Ausschreibung/Los (BT-17)</span></div>
<div class="line"><span class="lineno"> 1145</span>        dialog.lbl_additional_referenced_document.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1146</span>        dialog.le_additional_referenced_document.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1147</span>        <span class="comment"># Objektreferenz (BT-18)</span></div>
<div class="line"><span class="lineno"> 1148</span>        dialog.lbl_object_reference.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1149</span>        dialog.le_object_reference.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1150</span>        <span class="comment"># Buchungskonto des Käufers (BT-19)</span></div>
<div class="line"><span class="lineno"> 1151</span>        dialog.lbl_booking_account_buyer.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1152</span>        dialog.le_booking_account_buyer.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1153</span>        <span class="comment"># Rechnungsreferenz (BT-25, BT-26)</span></div>
<div class="line"><span class="lineno"> 1154</span>        dialog.lbl_invoice_reference.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1155</span>        dialog.le_invoice_reference.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1156</span>        dialog.lbl_invoice_reference_date.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1157</span>        dialog.de_invoice_reference.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1158</span>        <span class="comment"># Einleitungstext</span></div>
<div class="line"><span class="lineno"> 1159</span>        dialog.lbl_introduction_text.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1160</span>        dialog.pte_introduction_text.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1161</span> </div>
<div class="line"><span class="lineno"> 1162</span>        <span class="comment"># Verkäufer</span></div>
<div class="line"><span class="lineno"> 1163</span>        dialog.groupBox_2_seller.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1164</span> </div>
<div class="line"><span class="lineno"> 1165</span>        <span class="comment"># Käufer</span></div>
<div class="line"><span class="lineno"> 1166</span>        dialog.groupBox_3_buyer.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1167</span> </div>
<div class="line"><span class="lineno"> 1168</span>        <span class="comment"># Zahlungsdetails</span></div>
<div class="line"><span class="lineno"> 1169</span>        dialog.groupBox_4_payment.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1170</span> </div>
<div class="line"><span class="lineno"> 1171</span>        <span class="comment"># Lieferdetails</span></div>
<div class="line"><span class="lineno"> 1172</span>        dialog.groupBox_5_delivery.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1173</span> </div>
<div class="line"><span class="lineno"> 1174</span>        item_dialog: Ui_InvoiceItemData  <span class="comment"># declare for typing</span></div>
<div class="line"><span class="lineno"> 1175</span>        <span class="keywordflow">for</span> item_dialog <span class="keywordflow">in</span> dialog.item_widgets:</div>
<div class="line"><span class="lineno"> 1176</span>            self.update_item_expand_status(item_dialog, b_visible)</div>
<div class="line"><span class="lineno"> 1177</span> </div>
<div class="line"><span class="lineno"> 1178</span>        <span class="comment"># Nachlässe</span></div>
<div class="line"><span class="lineno"> 1179</span>        dialog.groupBox_7_discounts.setVisible(<span class="keyword">False</span>)  <span class="comment"># TODO wenn Berechnung korrekt verwenden</span></div>
<div class="line"><span class="lineno"> 1180</span> </div>
<div class="line"><span class="lineno"> 1181</span>        <span class="comment"># Zuschläge</span></div>
<div class="line"><span class="lineno"> 1182</span>        dialog.groupBox_8_surcharges.setVisible(<span class="keyword">False</span>)  <span class="comment"># TODO wenn Berechnung korrekt verwenden</span></div>
<div class="line"><span class="lineno"> 1183</span> </div>
<div class="line"><span class="lineno"> 1184</span>        <span class="comment"># Steuern</span></div>
<div class="line"><span class="lineno"> 1185</span>        dialog.groupBox_9_tax.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1186</span> </div>
<div class="line"><span class="lineno"> 1187</span>        <span class="comment"># Summe der Nettobeträge aller Rechnungspositionen (BT-106)</span></div>
<div class="line"><span class="lineno"> 1188</span>        dialog.lbl_sum_positions.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1189</span>        dialog.dsb_sum_positions.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1190</span>        dialog.lbl_sum_positions_symbol.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1191</span>        <span class="comment"># Summe der Zuschläge auf Dokumentenebene (BT-108)</span></div>
<div class="line"><span class="lineno"> 1192</span>        dialog.lbl_sum_surcharges.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1193</span>        dialog.dsb_sum_surcharges.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1194</span>        dialog.lbl_sum_surcharges_symbol.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1195</span>        <span class="comment"># Summe der Abschläge auf Dokumentenebene (BT-107)</span></div>
<div class="line"><span class="lineno"> 1196</span>        dialog.lbl_sum_discounts.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1197</span>        dialog.dsb_sum_discounts.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1198</span>        dialog.lbl_sum_discounts_symbol.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1199</span>        <span class="comment"># Vorauszahlungsbetrag (BT-113)</span></div>
<div class="line"><span class="lineno"> 1200</span>        dialog.lbl_payed_amount.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1201</span>        dialog.dsb_payed_amount.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1202</span>        dialog.lbl_payed_amount_symbol.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1203</span>        <span class="comment"># Rundungsbetrag (BT-114)</span></div>
<div class="line"><span class="lineno"> 1204</span>        dialog.lbl_rounded_amount.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1205</span>        dialog.dsb_rounded_amount.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1206</span>        dialog.lbl_rounded_amount_symbol.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1207</span>        <span class="comment"># Fälliger Zahlungsbetrag (BT-115)</span></div>
<div class="line"><span class="lineno"> 1208</span>        dialog.lbl_amount_due.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1209</span>        dialog.dsb_amount_due.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1210</span>        dialog.lbl_amount_due_symbol.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1211</span> </div>
<div class="line"><span class="lineno"> 1212</span>        self.update_total_data()  <span class="comment"># required if basis quantity not 1</span></div>
<div class="line"><span class="lineno"> 1213</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a313bdb1b8a02b6271d036ce8cb806b34" name="a313bdb1b8a02b6271d036ce8cb806b34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a313bdb1b8a02b6271d036ce8cb806b34">&#9670;&#160;</a></span>export_btn_clicked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None export_btn_clicked </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export button clicked. </p>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l01287">1287</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1287</span>    <span class="keyword">def </span>export_btn_clicked(self) -&gt; None:</div>
<div class="line"><span class="lineno"> 1288</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno"> 1289</span><span class="stringliteral">        @brief Export button clicked</span></div>
<div class="line"><span class="lineno"> 1290</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1291</span>        default_filename = f<span class="stringliteral">&quot;{__title__}-Rechnung{JSON_TYPE}&quot;</span></div>
<div class="line"><span class="lineno"> 1292</span>        default_path = os.path.join(self.ui.model.get_last_path(), default_filename)</div>
<div class="line"><span class="lineno"> 1293</span>        s_file_name_path, _ = QFileDialog.getSaveFileName(parent=self.ui, caption=<span class="stringliteral">&quot;Speichern unter&quot;</span>,</div>
<div class="line"><span class="lineno"> 1294</span>                                                          directory=default_path,</div>
<div class="line"><span class="lineno"> 1295</span>                                                          filter=JSON_FILE_TYPES)</div>
<div class="line"><span class="lineno"> 1296</span>        <span class="keywordflow">if</span> s_file_name_path:</div>
<div class="line"><span class="lineno"> 1297</span>            self.ui.model.set_last_path(os.path.dirname(s_file_name_path))</div>
<div class="line"><span class="lineno"> 1298</span>            data = self.read_ui_data_to_json()</div>
<div class="line"><span class="lineno"> 1299</span>            fill_invoice_data(data)</div>
<div class="line"><span class="lineno"> 1300</span>            write_json_file(s_file_name_path, data)</div>
<div class="line"><span class="lineno"> 1301</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a223e84bbe1673774fe2a6109ce576fba" name="a223e84bbe1673774fe2a6109ce576fba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a223e84bbe1673774fe2a6109ce576fba">&#9670;&#160;</a></span>import_btn_clicked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None import_btn_clicked </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Import button clicked. </p>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l01256">1256</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1256</span>    <span class="keyword">def </span>import_btn_clicked(self) -&gt; None:</div>
<div class="line"><span class="lineno"> 1257</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno"> 1258</span><span class="stringliteral">        @brief Import button clicked</span></div>
<div class="line"><span class="lineno"> 1259</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1260</span>        s_file_name_path, _ = QFileDialog.getOpenFileName(parent=self.ui, caption=<span class="stringliteral">&quot;Öffnen&quot;</span>,</div>
<div class="line"><span class="lineno"> 1261</span>                                                          directory=self.ui.model.get_last_path(),</div>
<div class="line"><span class="lineno"> 1262</span>                                                          filter=INVOICE_TEMPLATE_FILE_TYPES)</div>
<div class="line"><span class="lineno"> 1263</span>        <span class="keywordflow">if</span> s_file_name_path:</div>
<div class="line"><span class="lineno"> 1264</span>            self.ui.model.set_last_path(os.path.dirname(s_file_name_path))</div>
<div class="line"><span class="lineno"> 1265</span>            _, file_extension = os.path.splitext(s_file_name_path)</div>
<div class="line"><span class="lineno"> 1266</span>            <span class="keywordflow">if</span> file_extension <span class="keywordflow">in</span> [JSON_TYPE, JSON_TYPE.upper()]:</div>
<div class="line"><span class="lineno"> 1267</span>                data = read_json_file(s_file_name_path)</div>
<div class="line"><span class="lineno"> 1268</span>                self.write_json_data_to_ui(data)</div>
<div class="line"><span class="lineno"> 1269</span>                self.ui.set_status(<span class="stringliteral">&quot;Rechnungsdaten importiert.&quot;</span>)</div>
<div class="line"><span class="lineno"> 1270</span>            <span class="keywordflow">elif</span> file_extension <span class="keywordflow">in</span> [PDF_TYPE, PDF_TYPE.upper()]:</div>
<div class="line"><span class="lineno"> 1271</span>                <span class="keywordflow">if</span> check_zugferd(s_file_name_path):</div>
<div class="line"><span class="lineno"> 1272</span>                    file_content = extract_xml_from_pdf(s_file_name_path)</div>
<div class="line"><span class="lineno"> 1273</span>                    data = convert_facturx_to_json(file_content)</div>
<div class="line"><span class="lineno"> 1274</span>                    self.write_json_data_to_ui(data)</div>
<div class="line"><span class="lineno"> 1275</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1276</span>                    self.ui.set_status(<span class="stringliteral">&quot;NUR ZUGFeRD PDF Dateien können importiert werden.&quot;</span>, b_highlight=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1277</span>            <span class="keywordflow">elif</span> file_extension <span class="keywordflow">in</span> [XML_TYPE, XML_TYPE.upper()]:</div>
<div class="line"><span class="lineno"> 1278</span>                <span class="keywordflow">if</span> check_xinvoice(s_file_name_path):</div>
<div class="line"><span class="lineno"> 1279</span>                    file_content = extract_xml_from_xinvoice(s_file_name_path)</div>
<div class="line"><span class="lineno"> 1280</span>                    data = convert_facturx_to_json(file_content)</div>
<div class="line"><span class="lineno"> 1281</span>                    self.write_json_data_to_ui(data)</div>
<div class="line"><span class="lineno"> 1282</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1283</span>                    self.ui.set_status(<span class="stringliteral">&quot;Diese XML ist keine E-Rechnung.&quot;</span>, b_highlight=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1284</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1285</span>                self.ui.set_status(<span class="stringliteral">&quot;Dateityp nicht num Import geeignet.&quot;</span>, b_highlight=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1286</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a46058ba06c708f47dd1f40256b46aad9" name="a46058ba06c708f47dd1f40256b46aad9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46058ba06c708f47dd1f40256b46aad9">&#9670;&#160;</a></span>item_billing_period_checkbox_changed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None item_billing_period_checkbox_changed </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>state</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>item_index</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Item billing period checkbox changed. </p>
<dl class="params"><dt>Parameter</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>: enable state </td></tr>
    <tr><td class="paramname">item_index</td><td>: item index </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00630">630</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  630</span>    <span class="keyword">def </span>item_billing_period_checkbox_changed(self, state: bool, item_index: int) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  631</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno">  632</span><span class="stringliteral">        @brief Item billing period checkbox changed</span></div>
<div class="line"><span class="lineno">  633</span><span class="stringliteral">        @param state : enable state</span></div>
<div class="line"><span class="lineno">  634</span><span class="stringliteral">        @param item_index : item index</span></div>
<div class="line"><span class="lineno">  635</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  636</span>        item_dialog: Ui_InvoiceItemData = self.ui_invoice_data.item_widgets[item_index]</div>
<div class="line"><span class="lineno">  637</span>        item_dialog.de_item_billing_period_start.setEnabled(state)</div>
<div class="line"><span class="lineno">  638</span>        item_dialog.de_item_billing_period_end.setEnabled(state)</div>
<div class="line"><span class="lineno">  639</span>        item_dialog.lbl_item_billing_period_start.setEnabled(state)</div>
<div class="line"><span class="lineno">  640</span>        item_dialog.lbl_item_billing_period_end.setEnabled(state)</div>
<div class="line"><span class="lineno">  641</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a609948230f58080aaa5e44f6b40db05b" name="a609948230f58080aaa5e44f6b40db05b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a609948230f58080aaa5e44f6b40db05b">&#9670;&#160;</a></span>item_price_changed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None item_price_changed </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>item_index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">None | bool</td>          <td class="paramname"><span class="paramname"><em>gross_changed</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Item price changed. </p>
<dl class="params"><dt>Parameter</dt><dd>
  <table class="params">
    <tr><td class="paramname">item_index</td><td>: item index </td></tr>
    <tr><td class="paramname">gross_changed</td><td>: changed object True=gross False=net None=other (use last changed) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00769">769</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  769</span>    <span class="keyword">def </span>item_price_changed(self, item_index: int, gross_changed: <span class="keywordtype">None</span> | bool) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  770</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno">  771</span><span class="stringliteral">        @brief Item price changed</span></div>
<div class="line"><span class="lineno">  772</span><span class="stringliteral">        @param item_index : item index</span></div>
<div class="line"><span class="lineno">  773</span><span class="stringliteral">        @param gross_changed : changed object True=gross False=net None=other (use last changed)</span></div>
<div class="line"><span class="lineno">  774</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  775</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.lock_auto_price_edit:</div>
<div class="line"><span class="lineno">  776</span>            self.lock_auto_price_edit = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  777</span>            item_dialog: Ui_InvoiceItemData = self.ui_invoice_data.item_widgets[item_index]</div>
<div class="line"><span class="lineno">  778</span>            b_extended = self.cb_extended.isChecked()</div>
<div class="line"><span class="lineno">  779</span> </div>
<div class="line"><span class="lineno">  780</span>            <span class="keywordflow">if</span> gross_changed <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  781</span>                self.item_gross_changed[item_index] = gross_changed</div>
<div class="line"><span class="lineno">  782</span> </div>
<div class="line"><span class="lineno">  783</span>            net_price = item_dialog.dsb_item_net_unit_price.value()</div>
<div class="line"><span class="lineno">  784</span>            gross_price = item_dialog.dsb_item_gross_unit_price.value()</div>
<div class="line"><span class="lineno">  785</span>            vat_rate = item_dialog.dsb_item_vat_rate.value()</div>
<div class="line"><span class="lineno">  786</span>            item_quantity = item_dialog.dsb_item_quantity.value()</div>
<div class="line"><span class="lineno">  787</span>            item_basis_quantity = item_dialog.dsb_item_basis_quantity.value() <span class="keywordflow">if</span> b_extended <span class="keywordflow">else</span> 1</div>
<div class="line"><span class="lineno">  788</span> </div>
<div class="line"><span class="lineno">  789</span>            <span class="keywordflow">if</span> self.item_gross_changed[item_index]:</div>
<div class="line"><span class="lineno">  790</span>                new_net_price = gross_price / (1 + (vat_rate / 100))</div>
<div class="line"><span class="lineno">  791</span>                net_amount = item_quantity * new_net_price</div>
<div class="line"><span class="lineno">  792</span>                gross_amount = item_quantity * gross_price</div>
<div class="line"><span class="lineno">  793</span>                item_dialog.dsb_item_net_unit_price.setValue(new_net_price)</div>
<div class="line"><span class="lineno">  794</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  795</span>                new_gross_price = net_price * (1 + (vat_rate / 100))</div>
<div class="line"><span class="lineno">  796</span>                net_amount = item_quantity * net_price</div>
<div class="line"><span class="lineno">  797</span>                gross_amount = item_quantity * new_gross_price</div>
<div class="line"><span class="lineno">  798</span>                item_dialog.dsb_item_gross_unit_price.setValue(new_gross_price)</div>
<div class="line"><span class="lineno">  799</span>            net_amount /= item_basis_quantity</div>
<div class="line"><span class="lineno">  800</span>            gross_amount /= item_basis_quantity</div>
<div class="line"><span class="lineno">  801</span>            tax_amount = gross_amount - net_amount</div>
<div class="line"><span class="lineno">  802</span>            item_dialog.dsb_item_vat_amount.setValue(tax_amount)</div>
<div class="line"><span class="lineno">  803</span>            item_dialog.dsb_item_net_amount.setValue(net_amount)</div>
<div class="line"><span class="lineno">  804</span>            item_dialog.dsb_item_gross_price.setValue(gross_amount)</div>
<div class="line"><span class="lineno">  805</span>            self.lock_auto_price_edit = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  806</span> </div>
<div class="line"><span class="lineno">  807</span>        self.update_total_data()</div>
<div class="line"><span class="lineno">  808</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ed637580885dfe6f6d88bd794a2763b" name="a0ed637580885dfe6f6d88bd794a2763b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ed637580885dfe6f6d88bd794a2763b">&#9670;&#160;</a></span>on_invoice_data_changed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None on_invoice_data_changed </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QDate</td>          <td class="paramname"><span class="paramname"><em>date</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invoice Date changed. </p>
<p>Update invoice number. </p><dl class="params"><dt>Parameter</dt><dd>
  <table class="params">
    <tr><td class="paramname">date</td><td>: date </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l01302">1302</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1302</span>    <span class="keyword">def </span>on_invoice_data_changed(self, date: QDate) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1303</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno"> 1304</span><span class="stringliteral">        @brief Invoice Date changed. Update invoice number.</span></div>
<div class="line"><span class="lineno"> 1305</span><span class="stringliteral">        @param date : date</span></div>
<div class="line"><span class="lineno"> 1306</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1307</span>        self.due_date_changed(<span class="keywordtype">None</span>)  <span class="comment"># update due date</span></div>
<div class="line"><span class="lineno"> 1308</span> </div>
<div class="line"><span class="lineno"> 1309</span>        <span class="comment"># get not awarded invoice number</span></div>
<div class="line"><span class="lineno"> 1310</span>        number = 0</div>
<div class="line"><span class="lineno"> 1311</span>        <span class="keywordflow">while</span> number &lt; I_MAX_INVOICE_NUMBER:</div>
<div class="line"><span class="lineno"> 1312</span>            invoice_number = create_invoice_number(date, number=number)</div>
<div class="line"><span class="lineno"> 1313</span>            not_awarded = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1314</span>            <span class="keywordflow">for</span> income <span class="keywordflow">in</span> self.ui.tab_income.l_data:</div>
<div class="line"><span class="lineno"> 1315</span>                <span class="keywordflow">if</span> income[EReceiptFields.INVOICE_NUMBER] == invoice_number:</div>
<div class="line"><span class="lineno"> 1316</span>                    not_awarded = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1317</span>                    <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 1318</span>            <span class="keywordflow">if</span> not_awarded:</div>
<div class="line"><span class="lineno"> 1319</span>                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 1320</span>            number += 1</div>
<div class="line"><span class="lineno"> 1321</span>        <span class="keywordflow">if</span> not_awarded:</div>
<div class="line"><span class="lineno"> 1322</span>            self.ui_invoice_data.le_invoice_number.setText(invoice_number)</div>
<div class="line"><span class="lineno"> 1323</span>            currentDate = QDate.currentDate()</div>
<div class="line"><span class="lineno"> 1324</span>            <span class="keywordflow">if</span> date != currentDate:</div>
<div class="line"><span class="lineno"> 1325</span>                self.ui_invoice_data.de_invoice_date.setStyleSheet(<span class="stringliteral">&quot;QDateEdit { background-color: red; }&quot;</span>)</div>
<div class="line"><span class="lineno"> 1326</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1327</span>                self.ui_invoice_data.de_invoice_date.setStyleSheet(<span class="stringliteral">&quot;border: 1px solid palette(dark);&quot;</span>)</div>
<div class="line"><span class="lineno"> 1328</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1329</span>            self.ui_invoice_data.le_invoice_number.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1330</span>            self.ui_invoice_data.le_invoice_number.setStyleSheet(<span class="stringliteral">&quot;border: 2px solid red;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1331</span>            self.ui.set_status(<span class="stringliteral">&quot;Keine freie Rechnungsnummer gefunden.&quot;</span>, b_highlight=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1332</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acb04886996d574e37bc340509f3fccb4" name="acb04886996d574e37bc340509f3fccb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb04886996d574e37bc340509f3fccb4">&#9670;&#160;</a></span>read_ui_data_to_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict[str, Any] read_ui_data_to_json </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Visualize xml invoice in dialog. </p>
<dl class="section return"><dt>Rückgabe</dt><dd>invoice json file in PDF24 Format (D_DEFAULT_INVOICE_DATA) </dd></dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l01406">1406</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1406</span>    <span class="keyword">def </span>read_ui_data_to_json(self) -&gt; dict[str, Any]:</div>
<div class="line"><span class="lineno"> 1407</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno"> 1408</span><span class="stringliteral">        @brief Visualize xml invoice in dialog.</span></div>
<div class="line"><span class="lineno"> 1409</span><span class="stringliteral">        @return invoice json file in PDF24 Format (D_DEFAULT_INVOICE_DATA)</span></div>
<div class="line"><span class="lineno"> 1410</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1411</span>        b_extended = self.cb_extended.isChecked()</div>
<div class="line"><span class="lineno"> 1412</span> </div>
<div class="line"><span class="lineno"> 1413</span>        dialog = self.ui_invoice_data</div>
<div class="line"><span class="lineno"> 1414</span>        data = {}</div>
<div class="line"><span class="lineno"> 1415</span>        data[<span class="stringliteral">&quot;title&quot;</span>] = dialog.le_invoice_title.text() <span class="keywordflow">if</span> b_extended <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span>  <span class="comment"># Rechnungstitel</span></div>
<div class="line"><span class="lineno"> 1416</span>        data[<span class="stringliteral">&quot;number&quot;</span>] = dialog.le_invoice_number.text()  <span class="comment"># Rechnungsnummer (BT-1)</span></div>
<div class="line"><span class="lineno"> 1417</span>        q_invoice_date = dialog.de_invoice_date.date()</div>
<div class="line"><span class="lineno"> 1418</span>        data[<span class="stringliteral">&quot;issueDate&quot;</span>] = q_invoice_date.toString(DATE_FORMAT_XINVOICE)  <span class="comment"># Rechnungsdatum (BT-2)</span></div>
<div class="line"><span class="lineno"> 1419</span>        data[<span class="stringliteral">&quot;typeCode&quot;</span>] = dialog.cb_invoice_type.currentData() <span class="keywordflow">if</span> b_extended <span class="keywordflow">else</span> <span class="stringliteral">&quot;380&quot;</span>  <span class="comment"># Code für den Rechnungstyp (BT-3)</span></div>
<div class="line"><span class="lineno"> 1420</span>        data[<span class="stringliteral">&quot;currencyCode&quot;</span>] = dialog.cb_currency.currentData() <span class="keywordflow">if</span> b_extended <span class="keywordflow">else</span> <span class="stringliteral">&quot;EUR&quot;</span>  <span class="comment"># Code für die Rechnungswährung (BT-5)</span></div>
<div class="line"><span class="lineno"> 1421</span>        <span class="keywordflow">if</span> b_extended:</div>
<div class="line"><span class="lineno"> 1422</span>            data[<span class="stringliteral">&quot;dueDate&quot;</span>] = dialog.de_due_date.date().toString(DATE_FORMAT_XINVOICE)  <span class="comment"># Fälligkeitsdatum der Zahlung (BT-9)</span></div>
<div class="line"><span class="lineno"> 1423</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1424</span>            q_due_date = q_invoice_date.addDays(self.default_payment_days)</div>
<div class="line"><span class="lineno"> 1425</span>            data[<span class="stringliteral">&quot;dueDate&quot;</span>] = q_due_date.toString(DATE_FORMAT_XINVOICE)</div>
<div class="line"><span class="lineno"> 1426</span>        data[<span class="stringliteral">&quot;deliveryDate&quot;</span>] = dialog.de_deliver_date.date().toString(DATE_FORMAT_XINVOICE)  <span class="comment"># Tatsächliches Lieferdatum (BT-72)</span></div>
<div class="line"><span class="lineno"> 1427</span>        data[<span class="stringliteral">&quot;billingPeriodStartDate&quot;</span>] = dialog.de_accounting_date_from.date().toString(DATE_FORMAT_XINVOICE) <span class="keywordflow">if</span> dialog.cb_accounting_date.isChecked() <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span>  <span class="comment"># Anfangsdatum des Rechnungszeitraums (BT-73)</span></div>
<div class="line"><span class="lineno"> 1428</span>        data[<span class="stringliteral">&quot;billingPeriodEndDate&quot;</span>] = dialog.de_accounting_date_to.date().toString(DATE_FORMAT_XINVOICE) <span class="keywordflow">if</span> dialog.cb_accounting_date.isChecked() <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span>  <span class="comment"># Enddatum des Rechnungszeitraums (BT-74)</span></div>
<div class="line"><span class="lineno"> 1429</span>        data[<span class="stringliteral">&quot;buyerReference&quot;</span>] = dialog.le_buyer_reference.text() <span class="keywordflow">if</span> b_extended <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span>  <span class="comment"># Käuferreferenz (BT-10)</span></div>
<div class="line"><span class="lineno"> 1430</span>        data[<span class="stringliteral">&quot;projectReference&quot;</span>] = dialog.le_project_number.text() <span class="keywordflow">if</span> b_extended <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span>  <span class="comment"># Projektnummer (BT-11)</span></div>
<div class="line"><span class="lineno"> 1431</span>        data[<span class="stringliteral">&quot;contractReference&quot;</span>] = dialog.le_contract_number.text() <span class="keywordflow">if</span> b_extended <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span>  <span class="comment"># Vertragsnummer (BT-12)</span></div>
<div class="line"><span class="lineno"> 1432</span>        data[<span class="stringliteral">&quot;purchaseOrderReference&quot;</span>] = dialog.le_order_number.text() <span class="keywordflow">if</span> b_extended <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span>  <span class="comment"># Bestellnummer (BT-13)</span></div>
<div class="line"><span class="lineno"> 1433</span>        data[<span class="stringliteral">&quot;salesOrderReference&quot;</span>] = dialog.le_assignment_number.text() <span class="keywordflow">if</span> b_extended <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span>  <span class="comment"># Auftragsnummer (BT-14)</span></div>
<div class="line"><span class="lineno"> 1434</span>        <span class="keywordflow">if</span> b_extended:</div>
<div class="line"><span class="lineno"> 1435</span>            <span class="comment"># Wareneingangsmeldung (BT-15)</span></div>
<div class="line"><span class="lineno"> 1436</span>            data_receiving_advice_reference = data.setdefault(<span class="stringliteral">&quot;receivingAdviceReference&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1437</span>            data_receiving_advice_reference[<span class="stringliteral">&quot;id&quot;</span>] = dialog.le_receiving_referenced_document.text()</div>
<div class="line"><span class="lineno"> 1438</span>            data_receiving_advice_reference[<span class="stringliteral">&quot;issueDate&quot;</span>] = dialog.de_receiving_advice_referenced_document.date().toString(DATE_FORMAT_XINVOICE)</div>
<div class="line"><span class="lineno"> 1439</span>            <span class="comment"># Versandanzeige (BT-16)</span></div>
<div class="line"><span class="lineno"> 1440</span>            data_despatch_advice_reference = data.setdefault(<span class="stringliteral">&quot;despatchAdviceReference&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1441</span>            data_despatch_advice_reference[<span class="stringliteral">&quot;id&quot;</span>] = dialog.le_despatch_advice_referenced_document.text()</div>
<div class="line"><span class="lineno"> 1442</span>            data_despatch_advice_reference[<span class="stringliteral">&quot;issueDate&quot;</span>] = dialog.de_despatch_advice_referenced_document.date().toString(DATE_FORMAT_XINVOICE)</div>
<div class="line"><span class="lineno"> 1443</span>            <span class="comment"># Ausschreibung/Los (BT-17)</span></div>
<div class="line"><span class="lineno"> 1444</span>            data_tender_references = data.setdefault(<span class="stringliteral">&quot;tenderReferences&quot;</span>, [])</div>
<div class="line"><span class="lineno"> 1445</span>            reference = {}</div>
<div class="line"><span class="lineno"> 1446</span>            reference[<span class="stringliteral">&quot;id&quot;</span>] = dialog.le_additional_referenced_document.text()</div>
<div class="line"><span class="lineno"> 1447</span>            reference[<span class="stringliteral">&quot;typeCode&quot;</span>] = <span class="stringliteral">&quot;50&quot;</span></div>
<div class="line"><span class="lineno"> 1448</span>            data_tender_references.append(reference)</div>
<div class="line"><span class="lineno"> 1449</span>            <span class="comment"># Objektreferenz (BT-18)</span></div>
<div class="line"><span class="lineno"> 1450</span>            data_object_references = data.setdefault(<span class="stringliteral">&quot;objectReferences&quot;</span>, [])</div>
<div class="line"><span class="lineno"> 1451</span>            reference = {}</div>
<div class="line"><span class="lineno"> 1452</span>            reference[<span class="stringliteral">&quot;id&quot;</span>] = dialog.le_object_reference.text()</div>
<div class="line"><span class="lineno"> 1453</span>            reference[<span class="stringliteral">&quot;typeCode&quot;</span>] = <span class="stringliteral">&quot;130&quot;</span></div>
<div class="line"><span class="lineno"> 1454</span>            data_object_references.append(reference)</div>
<div class="line"><span class="lineno"> 1455</span>            <span class="comment"># Buchungskonto des Käufers (BT-19)</span></div>
<div class="line"><span class="lineno"> 1456</span>            data_buyer_accounting_accounts = data.setdefault(<span class="stringliteral">&quot;buyerAccountingAccounts&quot;</span>, [])</div>
<div class="line"><span class="lineno"> 1457</span>            data_account = {}</div>
<div class="line"><span class="lineno"> 1458</span>            data_account[<span class="stringliteral">&quot;id&quot;</span>] = dialog.le_booking_account_buyer.text()</div>
<div class="line"><span class="lineno"> 1459</span>            data_buyer_accounting_accounts.append(data_account)</div>
<div class="line"><span class="lineno"> 1460</span>            <span class="comment"># Rechnungsreferenz (BT-25, BT-26)</span></div>
<div class="line"><span class="lineno"> 1461</span>            data_invoice_references = data.setdefault(<span class="stringliteral">&quot;invoiceReferences&quot;</span>, [])</div>
<div class="line"><span class="lineno"> 1462</span>            data_invoice = {}</div>
<div class="line"><span class="lineno"> 1463</span>            data_invoice[<span class="stringliteral">&quot;id&quot;</span>] = dialog.le_invoice_reference.text()  <span class="comment"># ID (BT-25)</span></div>
<div class="line"><span class="lineno"> 1464</span>            data_invoice[<span class="stringliteral">&quot;issueDate&quot;</span>] = dialog.de_invoice_reference.date().toString(DATE_FORMAT_XINVOICE)  <span class="comment"># Datum (BT-26)</span></div>
<div class="line"><span class="lineno"> 1465</span>            data_invoice_references.append(data_invoice)</div>
<div class="line"><span class="lineno"> 1466</span>        <span class="comment"># Freitext zur Rechnung (BT-22)</span></div>
<div class="line"><span class="lineno"> 1467</span>        data[<span class="stringliteral">&quot;note&quot;</span>] = dialog.pte_note.toPlainText()</div>
<div class="line"><span class="lineno"> 1468</span>        <span class="comment"># Einleitungstext</span></div>
<div class="line"><span class="lineno"> 1469</span>        data[<span class="stringliteral">&quot;introText&quot;</span>] = dialog.pte_introduction_text.toPlainText() <span class="keywordflow">if</span> b_extended <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1470</span> </div>
<div class="line"><span class="lineno"> 1471</span>        <span class="keywordflow">if</span> b_extended:</div>
<div class="line"><span class="lineno"> 1472</span>            data_seller = data.setdefault(<span class="stringliteral">&quot;seller&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1473</span>            data_seller[<span class="stringliteral">&quot;name&quot;</span>] = dialog.le_seller_company.text()  <span class="comment"># Name des Verkäufers (BT-27)</span></div>
<div class="line"><span class="lineno"> 1474</span>            data_seller[<span class="stringliteral">&quot;tradeName&quot;</span>] = dialog.le_seller_name.text()  <span class="comment"># Handelsname (BT-28)</span></div>
<div class="line"><span class="lineno"> 1475</span>            data_seller[<span class="stringliteral">&quot;id&quot;</span>] = dialog.le_seller_recognition.text()  <span class="comment"># Verkäuferkennung (BT-29)</span></div>
<div class="line"><span class="lineno"> 1476</span>            data_seller[<span class="stringliteral">&quot;tradeId&quot;</span>] = dialog.le_seller_register_number.text()  <span class="comment"># Registernummer (BT-30)</span></div>
<div class="line"><span class="lineno"> 1477</span>            data_seller[<span class="stringliteral">&quot;vatId&quot;</span>] = dialog.le_seller_vat.text()  <span class="comment"># Umsatzsteuer-Identifikationsnummer des Verkäufers (BT-31)</span></div>
<div class="line"><span class="lineno"> 1478</span>            data_seller[<span class="stringliteral">&quot;taxId&quot;</span>] = dialog.le_seller_tax_number.text()  <span class="comment"># Steuernummer des Verkäufers (BT-32)</span></div>
<div class="line"><span class="lineno"> 1479</span>            data_seller[<span class="stringliteral">&quot;weeeId&quot;</span>] = dialog.le_seller_weee_number.text()  <span class="comment"># WEEE-Nummer</span></div>
<div class="line"><span class="lineno"> 1480</span>            data_seller[<span class="stringliteral">&quot;legalInfo&quot;</span>] = dialog.pte_seller_law_info.toPlainText()  <span class="comment"># Rechtliche Informationen (BT-33)</span></div>
<div class="line"><span class="lineno"> 1481</span>            data_seller[<span class="stringliteral">&quot;electronicAddress&quot;</span>] = dialog.le_seller_electric_address.text()  <span class="comment"># seller electric address (BT-34)</span></div>
<div class="line"><span class="lineno"> 1482</span>            data_seller[<span class="stringliteral">&quot;websiteText&quot;</span>] = dialog.le_seller_website.text()  <span class="comment"># Webseite</span></div>
<div class="line"><span class="lineno"> 1483</span>            data_seller_address = data_seller.setdefault(<span class="stringliteral">&quot;address&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1484</span>            data_seller_address[<span class="stringliteral">&quot;line1&quot;</span>] = dialog.le_seller_street_1.text()  <span class="comment"># Zeile 1 der Verkäuferanschrift (BT-35)</span></div>
<div class="line"><span class="lineno"> 1485</span>            data_seller_address[<span class="stringliteral">&quot;line2&quot;</span>] = dialog.le_seller_street_2.text()  <span class="comment"># Zeile 2 der Verkäuferanschrift (BT-36)</span></div>
<div class="line"><span class="lineno"> 1486</span>            data_seller_address[<span class="stringliteral">&quot;postCode&quot;</span>] = dialog.le_seller_plz.text()  <span class="comment"># Postleitzahl der Verkäuferanschrift (BT-38)</span></div>
<div class="line"><span class="lineno"> 1487</span>            data_seller_address[<span class="stringliteral">&quot;city&quot;</span>] = dialog.le_seller_city.text()  <span class="comment"># Stadt der Verkäuferanschrift (BT-37)</span></div>
<div class="line"><span class="lineno"> 1488</span>            data_seller_address[<span class="stringliteral">&quot;countryCode&quot;</span>] = dialog.cb_seller_country.currentData()  <span class="comment"># Ländercode der Verkäuferanschrift (BT-40)</span></div>
<div class="line"><span class="lineno"> 1489</span>            data_seller_contact = data_seller.setdefault(<span class="stringliteral">&quot;contact&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1490</span>            data_seller_contact[<span class="stringliteral">&quot;name&quot;</span>] = dialog.le_seller_contact_name.text()  <span class="comment"># Kontaktstelle des Verkäufers (BT-41)</span></div>
<div class="line"><span class="lineno"> 1491</span>            data_seller_contact[<span class="stringliteral">&quot;email&quot;</span>] = dialog.le_seller_contact_mail.text()  <span class="comment"># E-Mail-Adresse der Kontaktstelle des Verkäufers (BT-43)</span></div>
<div class="line"><span class="lineno"> 1492</span>            data_seller_contact[<span class="stringliteral">&quot;phone&quot;</span>] = dialog.le_seller_contact_phone.text()  <span class="comment"># Telefonnummer der Kontaktstelle des Verkäufers (BT-42)</span></div>
<div class="line"><span class="lineno"> 1493</span>            data_seller_contact[<span class="stringliteral">&quot;fax&quot;</span>] = dialog.le_seller_contact_fax.hide()  <span class="comment"># Fax</span></div>
<div class="line"><span class="lineno"> 1494</span>            data_seller[<span class="stringliteral">&quot;logoData&quot;</span>] = dialog.lbl_seller_logo_path.text()  <span class="comment"># Logo Pfad</span></div>
<div class="line"><span class="lineno"> 1495</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1496</span>            logo_path = os.path.join(self.ui.model.data_path, LOGO_BRIEF_PATH)</div>
<div class="line"><span class="lineno"> 1497</span>            write_company_to_json(data, self.ui.tab_settings.company_data, logo_path=logo_path)</div>
<div class="line"><span class="lineno"> 1498</span> </div>
<div class="line"><span class="lineno"> 1499</span>        <span class="keywordflow">if</span> b_extended:</div>
<div class="line"><span class="lineno"> 1500</span>            data_buyer = data.setdefault(<span class="stringliteral">&quot;buyer&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1501</span>            data_buyer[<span class="stringliteral">&quot;name&quot;</span>] = dialog.le_buyer_company.text()  <span class="comment"># Name des Käufers (BT-44)</span></div>
<div class="line"><span class="lineno"> 1502</span>            data_buyer[<span class="stringliteral">&quot;tradeName&quot;</span>] = dialog.le_buyer_name.text()  <span class="comment"># Handelsname (BT-45)</span></div>
<div class="line"><span class="lineno"> 1503</span>            data_buyer[<span class="stringliteral">&quot;id&quot;</span>] = dialog.le_buyer_recognition.text()  <span class="comment"># Käuferkennung (BT-46)</span></div>
<div class="line"><span class="lineno"> 1504</span>            data_buyer[<span class="stringliteral">&quot;tradeId&quot;</span>] = dialog.le_buyer_register_number.text()  <span class="comment"># Registernummer (BT-47)</span></div>
<div class="line"><span class="lineno"> 1505</span>            data_buyer[<span class="stringliteral">&quot;vatId&quot;</span>] = dialog.le_buyer_vat.text()  <span class="comment"># Umsatzsteuer-Identifikationsnummer des Käufers (BT-48)</span></div>
<div class="line"><span class="lineno"> 1506</span>            data_buyer[<span class="stringliteral">&quot;electronicAddress&quot;</span>] = dialog.le_buyer_electric_address.text()  <span class="comment"># Elektronische Adresse (BT-49)</span></div>
<div class="line"><span class="lineno"> 1507</span>            data_buyer_address = data_buyer.setdefault(<span class="stringliteral">&quot;address&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1508</span>            data_buyer_address[<span class="stringliteral">&quot;line1&quot;</span>] = dialog.le_buyer_street_1.text()  <span class="comment"># Zeile 1 der Käuferanschrift (BT-50)</span></div>
<div class="line"><span class="lineno"> 1509</span>            data_buyer_address[<span class="stringliteral">&quot;line2&quot;</span>] = dialog.le_buyer_street_2.text()  <span class="comment"># Zeile 2 der Käuferanschrift (BT-51)</span></div>
<div class="line"><span class="lineno"> 1510</span>            data_buyer_address[<span class="stringliteral">&quot;postCode&quot;</span>] = dialog.le_buyer_plz.text()  <span class="comment"># Postleitzahl der Käuferanschrift (BT-53)</span></div>
<div class="line"><span class="lineno"> 1511</span>            data_buyer_address[<span class="stringliteral">&quot;city&quot;</span>] = dialog.le_buyer_city.text()  <span class="comment"># Stadt der Käuferanschrift (BT-52)</span></div>
<div class="line"><span class="lineno"> 1512</span>            data_buyer_address[<span class="stringliteral">&quot;countryCode&quot;</span>] = dialog.cb_buyer_country.currentData()  <span class="comment"># Ländercode der Käuferanschrift (BT-55)</span></div>
<div class="line"><span class="lineno"> 1513</span>            data_buyer_contact = data_buyer.setdefault(<span class="stringliteral">&quot;contact&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1514</span>            data_buyer_contact[<span class="stringliteral">&quot;name&quot;</span>] = dialog.le_buyer_contact_name.text()  <span class="comment"># Kontaktstelle des Käufers (BT-56)</span></div>
<div class="line"><span class="lineno"> 1515</span>            data_buyer_contact[<span class="stringliteral">&quot;email&quot;</span>] = dialog.le_buyer_contact_mail.text()  <span class="comment"># E-Mail-Adresse der Kontaktstelle des Käufers (BT-58)</span></div>
<div class="line"><span class="lineno"> 1516</span>            data_buyer_contact[<span class="stringliteral">&quot;phone&quot;</span>] = dialog.le_buyer_contact_phone.text()  <span class="comment"># Telefonnummer der Kontaktstelle des Käufers (BT-57)</span></div>
<div class="line"><span class="lineno"> 1517</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1518</span>            write_customer_to_json(data, self.customer)</div>
<div class="line"><span class="lineno"> 1519</span> </div>
<div class="line"><span class="lineno"> 1520</span>        data_payment = data.setdefault(<span class="stringliteral">&quot;payment&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1521</span>        <span class="keywordflow">if</span> b_extended:</div>
<div class="line"><span class="lineno"> 1522</span>            data_payment_methods = data_payment.setdefault(<span class="stringliteral">&quot;methods&quot;</span>, [])</div>
<div class="line"><span class="lineno"> 1523</span>            data_payment_method = {}</div>
<div class="line"><span class="lineno"> 1524</span>            data_payment_method[<span class="stringliteral">&quot;typeCode&quot;</span>] = dialog.cb_payment_method.currentData()  <span class="comment"># Code für die Zahlungsart D_PAYMENT_METHOD (BT-81)</span></div>
<div class="line"><span class="lineno"> 1525</span>            data_payment_method[<span class="stringliteral">&quot;accountName&quot;</span>] = dialog.le_account_holder.text()  <span class="comment"># Name des Zahlungskontos (BT-85)</span></div>
<div class="line"><span class="lineno"> 1526</span>            data_payment_method[<span class="stringliteral">&quot;iban&quot;</span>] = dialog.le_iban.text()  <span class="comment"># Kennung des Zahlungskontos (BT-84)</span></div>
<div class="line"><span class="lineno"> 1527</span>            data_payment_method[<span class="stringliteral">&quot;bic&quot;</span>] = dialog.le_bic.text()  <span class="comment"># Kennung des Zahlungsdienstleisters (BT-86)</span></div>
<div class="line"><span class="lineno"> 1528</span>            data_payment_method[<span class="stringliteral">&quot;bankName&quot;</span>] = dialog.le_bank_name.text()  <span class="comment"># Name der Bank</span></div>
<div class="line"><span class="lineno"> 1529</span>            data_payment_methods.append(data_payment_method)</div>
<div class="line"><span class="lineno"> 1530</span>        data_payment[<span class="stringliteral">&quot;reference&quot;</span>] = dialog.le_payment_purpose.text()  <span class="comment"># Verwendungszweck (BT-83)</span></div>
<div class="line"><span class="lineno"> 1531</span>        data_payment[<span class="stringliteral">&quot;terms&quot;</span>] = dialog.pte_payment_terms.toPlainText()  <span class="comment"># Zahlungsbedingungen (BT-20)</span></div>
<div class="line"><span class="lineno"> 1532</span> </div>
<div class="line"><span class="lineno"> 1533</span>        <span class="keywordflow">if</span> b_extended:</div>
<div class="line"><span class="lineno"> 1534</span>            data_delivery = data.setdefault(<span class="stringliteral">&quot;delivery&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1535</span>            data_delivery[<span class="stringliteral">&quot;recipientName&quot;</span>] = dialog.le_deliver_name.text()  <span class="comment"># Name des Waren- oder Dienstleistungsempfängers (BT-70)</span></div>
<div class="line"><span class="lineno"> 1536</span>            data_delivery[<span class="stringliteral">&quot;locationId&quot;</span>] = dialog.le_deliver_place_ident.text()  <span class="comment"># Kennung des Lieferorts (BT-71)</span></div>
<div class="line"><span class="lineno"> 1537</span>            data_delivery_address = data_delivery.setdefault(<span class="stringliteral">&quot;address&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1538</span>            data_delivery_address[<span class="stringliteral">&quot;line1&quot;</span>] = dialog.le_deliver_street_1.text()  <span class="comment"># Zeile 1 der Lieferanschrift (BT-75)</span></div>
<div class="line"><span class="lineno"> 1539</span>            data_delivery_address[<span class="stringliteral">&quot;line2&quot;</span>] = dialog.le_deliver_street_2.text()  <span class="comment"># Zeile 2 der Lieferanschrift (BT-76)</span></div>
<div class="line"><span class="lineno"> 1540</span>            data_delivery_address[<span class="stringliteral">&quot;line3&quot;</span>] = dialog.le_deliver_addition.text()  <span class="comment"># Zeile 3 der Lieferanschrift (BT-165)</span></div>
<div class="line"><span class="lineno"> 1541</span>            data_delivery_address[<span class="stringliteral">&quot;postCode&quot;</span>] = dialog.le_deliver_plz.text()  <span class="comment"># Postleitzahl der Lieferanschrift (BT-78)</span></div>
<div class="line"><span class="lineno"> 1542</span>            deliver_city = dialog.le_deliver_city.text()</div>
<div class="line"><span class="lineno"> 1543</span>            data_delivery_address[<span class="stringliteral">&quot;city&quot;</span>] = deliver_city  <span class="comment"># Stadt der Lieferanschrift (BT-77)</span></div>
<div class="line"><span class="lineno"> 1544</span>            <span class="keywordflow">if</span> deliver_city:  <span class="comment"># set only country if city present</span></div>
<div class="line"><span class="lineno"> 1545</span>                data_delivery_address[<span class="stringliteral">&quot;countryCode&quot;</span>] = dialog.cb_deliver_country.currentData()  <span class="comment"># Ländercode der Lieferanschrift (BT-80)</span></div>
<div class="line"><span class="lineno"> 1546</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1547</span>                data_delivery_address[<span class="stringliteral">&quot;countryCode&quot;</span>] = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1548</span>            data_delivery_address[<span class="stringliteral">&quot;region&quot;</span>] = dialog.le_deliver_region.text()  <span class="comment"># Stadt der Lieferanschrift (BT-79)</span></div>
<div class="line"><span class="lineno"> 1549</span> </div>
<div class="line"><span class="lineno"> 1550</span>        <span class="comment"># position</span></div>
<div class="line"><span class="lineno"> 1551</span>        data_items = data.setdefault(<span class="stringliteral">&quot;items&quot;</span>, [])</div>
<div class="line"><span class="lineno"> 1552</span>        data_taxes = data.setdefault(<span class="stringliteral">&quot;taxes&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1553</span>        <span class="keywordflow">for</span> _item_pos, item_dialog <span class="keywordflow">in</span> enumerate(dialog.item_widgets):</div>
<div class="line"><span class="lineno"> 1554</span>            data_item = {}</div>
<div class="line"><span class="lineno"> 1555</span>            data_item[<span class="stringliteral">&quot;name&quot;</span>] = item_dialog.le_item_name.text()  <span class="comment"># Name (BT-153)</span></div>
<div class="line"><span class="lineno"> 1556</span>            vat_rate = item_dialog.dsb_item_vat_rate.value()  <span class="comment"># Umsatzsteuersatz für den in Rechnung gestellten Artikel (BT-152)</span></div>
<div class="line"><span class="lineno"> 1557</span>            data_item[<span class="stringliteral">&quot;vatRate&quot;</span>] = vat_rate</div>
<div class="line"><span class="lineno"> 1558</span>            vat_code = item_dialog.cb_item_vat_code.currentData() <span class="keywordflow">if</span> b_extended <span class="keywordflow">else</span> <span class="stringliteral">&quot;S&quot;</span>  <span class="comment"># Code der Umsatzsteuerkategorie des in Rechnung gestellten Artikels (BT-151)</span></div>
<div class="line"><span class="lineno"> 1559</span>            data_item[<span class="stringliteral">&quot;vatCode&quot;</span>] = vat_code</div>
<div class="line"><span class="lineno"> 1560</span>            data_item[<span class="stringliteral">&quot;id&quot;</span>] = item_dialog.le_item_id.text() <span class="keywordflow">if</span> b_extended <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span>  <span class="comment"># Artikel-Nr. (BT-155)</span></div>
<div class="line"><span class="lineno"> 1561</span>            b_use_date = b_extended <span class="keywordflow">and</span> item_dialog.cb_item_billing_period.isChecked()</div>
<div class="line"><span class="lineno"> 1562</span>            data_item[<span class="stringliteral">&quot;billingPeriodStart&quot;</span>] = item_dialog.de_item_billing_period_start.date().toString(DATE_FORMAT_XINVOICE) <span class="keywordflow">if</span> b_use_date <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span>  <span class="comment"># Startdatum (BT-134)</span></div>
<div class="line"><span class="lineno"> 1563</span>            data_item[<span class="stringliteral">&quot;billingPeriodEnd&quot;</span>] = item_dialog.de_item_billing_period_end.date().toString(DATE_FORMAT_XINVOICE) <span class="keywordflow">if</span> b_use_date <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span>  <span class="comment"># Enddatum (BT-135)</span></div>
<div class="line"><span class="lineno"> 1564</span>            data_item[<span class="stringliteral">&quot;orderPosition&quot;</span>] = item_dialog.le_item_order_position.text() <span class="keywordflow">if</span> b_extended <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span>  <span class="comment"># Referenz zur Bestellposition (BT-132)</span></div>
<div class="line"><span class="lineno"> 1565</span>            object_references = item_dialog.le_object_reference.text() <span class="keywordflow">if</span> b_extended <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span>  <span class="comment"># Objektkennung auf Ebene der Rechnungsposition (BT-128)</span></div>
<div class="line"><span class="lineno"> 1566</span>            <span class="keywordflow">if</span> object_references:</div>
<div class="line"><span class="lineno"> 1567</span>                data_object_references = data_item.setdefault(<span class="stringliteral">&quot;objectReferences&quot;</span>, [])</div>
<div class="line"><span class="lineno"> 1568</span>                reference = {}</div>
<div class="line"><span class="lineno"> 1569</span>                reference[<span class="stringliteral">&quot;id&quot;</span>] = object_references</div>
<div class="line"><span class="lineno"> 1570</span>                reference[<span class="stringliteral">&quot;typeCode&quot;</span>] = <span class="stringliteral">&quot;130&quot;</span></div>
<div class="line"><span class="lineno"> 1571</span>                data_object_references.append(reference)</div>
<div class="line"><span class="lineno"> 1572</span>            data_item[<span class="stringliteral">&quot;description&quot;</span>] = item_dialog.pte_item_description.toPlainText()  <span class="comment"># Artikelbeschreibung (BT-154)</span></div>
<div class="line"><span class="lineno"> 1573</span>            data_item[<span class="stringliteral">&quot;quantity&quot;</span>] = item_dialog.dsb_item_quantity.value()  <span class="comment"># Menge (BT-129)</span></div>
<div class="line"><span class="lineno"> 1574</span>            data_item[<span class="stringliteral">&quot;quantityUnit&quot;</span>] = item_dialog.cb_item_quantity_unit.currentData()  <span class="comment"># Einheit (BT-130) D_UNIT</span></div>
<div class="line"><span class="lineno"> 1575</span>            data_item[<span class="stringliteral">&quot;netUnitPrice&quot;</span>] = item_dialog.dsb_item_net_unit_price.value()  <span class="comment"># Einzelpreis (Netto) (BT-146)</span></div>
<div class="line"><span class="lineno"> 1576</span>            data_item[<span class="stringliteral">&quot;basisQuantity&quot;</span>] = item_dialog.dsb_item_basis_quantity.value() <span class="keywordflow">if</span> b_extended <span class="keywordflow">else</span> 1  <span class="comment"># Basismenge zum Artikelpreis (BT-149)</span></div>
<div class="line"><span class="lineno"> 1577</span>            data_items.append(data_item)</div>
<div class="line"><span class="lineno"> 1578</span>            <span class="keywordflow">if</span> b_extended:</div>
<div class="line"><span class="lineno"> 1579</span>                <span class="comment"># Steuern</span></div>
<div class="line"><span class="lineno"> 1580</span>                vat_rate_normalized = normalize_decimal(vat_rate)</div>
<div class="line"><span class="lineno"> 1581</span>                vat_key = f<span class="stringliteral">&quot;{vat_code}-{vat_rate_normalized}&quot;</span></div>
<div class="line"><span class="lineno"> 1582</span>                <span class="keywordflow">if</span> vat_key <span class="keywordflow">not</span> <span class="keywordflow">in</span> data_taxes:</div>
<div class="line"><span class="lineno"> 1583</span>                    tax_widget = dialog.tax_widgets[len(data_taxes) - 1]</div>
<div class="line"><span class="lineno"> 1584</span>                    vat_value = {</div>
<div class="line"><span class="lineno"> 1585</span>                        <span class="stringliteral">&quot;exemptionReason&quot;</span>: tax_widget.le_exemption_reason.text(),  <span class="comment"># Befreiungsgrund (BT-120)</span></div>
<div class="line"><span class="lineno"> 1586</span>                        <span class="stringliteral">&quot;exemptionReasonCode&quot;</span>: tax_widget.cb_exemption_reason_code.currentData()  <span class="comment"># Code für Befreiungsgrund (BT-121)</span></div>
<div class="line"><span class="lineno"> 1587</span>                    }</div>
<div class="line"><span class="lineno"> 1588</span>                    data_taxes[vat_key] = vat_value</div>
<div class="line"><span class="lineno"> 1589</span> </div>
<div class="line"><span class="lineno"> 1590</span>        <span class="keywordflow">if</span> b_extended:</div>
<div class="line"><span class="lineno"> 1591</span>            <span class="comment"># Nachlässe</span></div>
<div class="line"><span class="lineno"> 1592</span>            data_allowances = data.setdefault(<span class="stringliteral">&quot;allowances&quot;</span>, [])</div>
<div class="line"><span class="lineno"> 1593</span>            <span class="keywordflow">for</span> allowance_dialog <span class="keywordflow">in</span> dialog.discounts_widgets:</div>
<div class="line"><span class="lineno"> 1594</span>                data_allowance = {}</div>
<div class="line"><span class="lineno"> 1595</span>                data_allowance[<span class="stringliteral">&quot;basisAmount&quot;</span>] = allowance_dialog.dsb_basis_amount.value()  <span class="comment"># Grundbetrag (BT-93)</span></div>
<div class="line"><span class="lineno"> 1596</span>                data_allowance[<span class="stringliteral">&quot;netAmount&quot;</span>] = allowance_dialog.dsb_net_amount.value()  <span class="comment"># Betrag (Netto) (BT-92)</span></div>
<div class="line"><span class="lineno"> 1597</span>                data_allowance[<span class="stringliteral">&quot;percent&quot;</span>] = allowance_dialog.dsb_percent.value()  <span class="comment"># Prozent (BT-94)</span></div>
<div class="line"><span class="lineno"> 1598</span>                data_allowance[<span class="stringliteral">&quot;reason&quot;</span>] = allowance_dialog.le_reason.text()  <span class="comment"># Grund (BT-97)</span></div>
<div class="line"><span class="lineno"> 1599</span>                data_allowance[<span class="stringliteral">&quot;reasonCode&quot;</span>] = allowance_dialog.cb_reason_code.currentData()  <span class="comment"># Code des Grundes (BT-98)</span></div>
<div class="line"><span class="lineno"> 1600</span>                data_allowance[<span class="stringliteral">&quot;vatCode&quot;</span>] = allowance_dialog.cb_vat_code.currentData()  <span class="comment"># Steuerkategorie (BT-95)</span></div>
<div class="line"><span class="lineno"> 1601</span>                data_allowance[<span class="stringliteral">&quot;vatRate&quot;</span>] = allowance_dialog.dsb_vat_rate.value()  <span class="comment"># Steuersatz (BT-96)</span></div>
<div class="line"><span class="lineno"> 1602</span>                data_allowances.append(data_allowance)</div>
<div class="line"><span class="lineno"> 1603</span>            <span class="comment"># Zuschläge</span></div>
<div class="line"><span class="lineno"> 1604</span>            data_charges = data.setdefault(<span class="stringliteral">&quot;charges&quot;</span>, [])</div>
<div class="line"><span class="lineno"> 1605</span>            <span class="keywordflow">for</span> charge_dialog <span class="keywordflow">in</span> dialog.surcharges_widgets:</div>
<div class="line"><span class="lineno"> 1606</span>                data_charge = {}</div>
<div class="line"><span class="lineno"> 1607</span>                data_charge[<span class="stringliteral">&quot;basisAmount&quot;</span>] = charge_dialog.dsb_basis_amount.value()  <span class="comment"># Grundbetrag (BT-100)</span></div>
<div class="line"><span class="lineno"> 1608</span>                data_charge[<span class="stringliteral">&quot;netAmount&quot;</span>] = charge_dialog.dsb_net_amount.value()  <span class="comment"># Betrag (Netto) (BT-99)</span></div>
<div class="line"><span class="lineno"> 1609</span>                data_charge[<span class="stringliteral">&quot;percent&quot;</span>] = charge_dialog.dsb_percent.value()  <span class="comment"># Prozent (BT-101)</span></div>
<div class="line"><span class="lineno"> 1610</span>                data_charge[<span class="stringliteral">&quot;reason&quot;</span>] = charge_dialog.le_reason.text()  <span class="comment"># Grund (BT-104)</span></div>
<div class="line"><span class="lineno"> 1611</span>                data_charge[<span class="stringliteral">&quot;reasonCode&quot;</span>] = charge_dialog.cb_reason_code.currentData()  <span class="comment"># Code des Grundes (BT-105)</span></div>
<div class="line"><span class="lineno"> 1612</span>                data_charge[<span class="stringliteral">&quot;vatCode&quot;</span>] = charge_dialog.cb_vat_code.currentData()  <span class="comment"># Steuerkategorie (BT-102)</span></div>
<div class="line"><span class="lineno"> 1613</span>                data_charge[<span class="stringliteral">&quot;vatRate&quot;</span>] = charge_dialog.dsb_vat_rate.value()  <span class="comment"># Steuersatz (BT-103)</span></div>
<div class="line"><span class="lineno"> 1614</span>                data_charges.append(data_charge)</div>
<div class="line"><span class="lineno"> 1615</span> </div>
<div class="line"><span class="lineno"> 1616</span>        <span class="comment"># Gesamtsummen (nur die Eingaben der Rest wird errechnet)</span></div>
<div class="line"><span class="lineno"> 1617</span>        data_totals = data.setdefault(<span class="stringliteral">&quot;totals&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1618</span>        data_totals[<span class="stringliteral">&quot;paidAmount&quot;</span>] = dialog.dsb_payed_amount.value() <span class="keywordflow">if</span> b_extended <span class="keywordflow">else</span> 0  <span class="comment"># Vorauszahlungsbetrag (BT-113)</span></div>
<div class="line"><span class="lineno"> 1619</span>        data_totals[<span class="stringliteral">&quot;roundingAmount&quot;</span>] = dialog.dsb_rounded_amount.value() <span class="keywordflow">if</span> b_extended <span class="keywordflow">else</span> 0  <span class="comment"># Rundungsbetrag (BT-114)</span></div>
<div class="line"><span class="lineno"> 1620</span> </div>
<div class="line"><span class="lineno"> 1621</span>        <span class="keywordflow">return</span> data</div>
<div class="line"><span class="lineno"> 1622</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aee1c0ab650b7a8569461f3b552616856" name="aee1c0ab650b7a8569461f3b552616856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee1c0ab650b7a8569461f3b552616856">&#9670;&#160;</a></span>remove_discount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None remove_discount </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove discount. </p>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00838">838</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  838</span>    <span class="keyword">def </span>remove_discount(self) -&gt; None:</div>
<div class="line"><span class="lineno">  839</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno">  840</span><span class="stringliteral">        @brief Remove discount</span></div>
<div class="line"><span class="lineno">  841</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  842</span>        discount_index = len(self.ui_invoice_data.discounts_widgets)</div>
<div class="line"><span class="lineno">  843</span>        <span class="keywordflow">if</span> discount_index &lt;= 1:</div>
<div class="line"><span class="lineno">  844</span>            self.btn_remove_discount.setEnabled(<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  845</span>        <span class="keywordflow">if</span> discount_index &gt; 0:</div>
<div class="line"><span class="lineno">  846</span>            last_discount = self.ui_invoice_data.discounts_widgets.pop()</div>
<div class="line"><span class="lineno">  847</span>            widget = last_discount.frame.parentWidget()</div>
<div class="line"><span class="lineno">  848</span>            self.discounts_layout.removeWidget(widget)</div>
<div class="line"><span class="lineno">  849</span>            widget.setParent(<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  850</span>            self.update_total_data()</div>
<div class="line"><span class="lineno">  851</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4bba353d8980e8c4fe9fdba550fcdfc9" name="a4bba353d8980e8c4fe9fdba550fcdfc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bba353d8980e8c4fe9fdba550fcdfc9">&#9670;&#160;</a></span>remove_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None remove_item </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove item. </p>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00700">700</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  700</span>    <span class="keyword">def </span>remove_item(self) -&gt; None:</div>
<div class="line"><span class="lineno">  701</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno">  702</span><span class="stringliteral">        @brief Remove item</span></div>
<div class="line"><span class="lineno">  703</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  704</span>        item_index = len(self.ui_invoice_data.item_widgets)</div>
<div class="line"><span class="lineno">  705</span>        <span class="keywordflow">if</span> item_index &lt;= 2:</div>
<div class="line"><span class="lineno">  706</span>            self.btn_remove_item.setEnabled(<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  707</span>        <span class="keywordflow">if</span> item_index &gt; 1:</div>
<div class="line"><span class="lineno">  708</span>            last_item = self.ui_invoice_data.item_widgets.pop()</div>
<div class="line"><span class="lineno">  709</span>            widget = last_item.groupBox.parentWidget()</div>
<div class="line"><span class="lineno">  710</span>            self.item_layout.removeWidget(widget)</div>
<div class="line"><span class="lineno">  711</span>            widget.setParent(<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  712</span>            self.update_total_data()</div>
<div class="line"><span class="lineno">  713</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae7e52d045ae9255fe50ab658e9b65b93" name="ae7e52d045ae9255fe50ab658e9b65b93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7e52d045ae9255fe50ab658e9b65b93">&#9670;&#160;</a></span>remove_surcharge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None remove_surcharge </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove surcharge. </p>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00881">881</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  881</span>    <span class="keyword">def </span>remove_surcharge(self) -&gt; None:</div>
<div class="line"><span class="lineno">  882</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno">  883</span><span class="stringliteral">        @brief Remove surcharge</span></div>
<div class="line"><span class="lineno">  884</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  885</span>        surcharge_index = len(self.ui_invoice_data.surcharges_widgets)</div>
<div class="line"><span class="lineno">  886</span>        <span class="keywordflow">if</span> surcharge_index &lt;= 1:</div>
<div class="line"><span class="lineno">  887</span>            self.btn_remove_discount.setEnabled(<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  888</span>        <span class="keywordflow">if</span> surcharge_index &gt; 0:</div>
<div class="line"><span class="lineno">  889</span>            last_surcharge = self.ui_invoice_data.surcharges_widgets.pop()</div>
<div class="line"><span class="lineno">  890</span>            widget = last_surcharge.frame.parentWidget()</div>
<div class="line"><span class="lineno">  891</span>            self.surcharges_layout.removeWidget(widget)</div>
<div class="line"><span class="lineno">  892</span>            widget.setParent(<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  893</span>            self.update_total_data()</div>
<div class="line"><span class="lineno">  894</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a390e044bccfbac4e55725e144f70d760" name="a390e044bccfbac4e55725e144f70d760"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a390e044bccfbac4e55725e144f70d760">&#9670;&#160;</a></span>select_logo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None select_logo </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] </td>          <td class="paramname"><span class="paramname"><em>fix_logo</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open file dialog to select logo and setup preview and path. </p>
<dl class="params"><dt>Parameter</dt><dd>
  <table class="params">
    <tr><td class="paramname">fix_logo</td><td>: set fix logo file without dialog asking </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l01214">1214</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1214</span>    <span class="keyword">def </span>select_logo(self, fix_logo: Optional[str] = <span class="keywordtype">None</span>) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1215</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno"> 1216</span><span class="stringliteral">        @brief Open file dialog to select logo and setup preview and path</span></div>
<div class="line"><span class="lineno"> 1217</span><span class="stringliteral">        @param fix_logo : set fix logo file without dialog asking</span></div>
<div class="line"><span class="lineno"> 1218</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1219</span>        <span class="keywordflow">if</span> fix_logo <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1220</span>            logo_path = fix_logo</div>
<div class="line"><span class="lineno"> 1221</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1222</span>            logo_path, _ = QFileDialog.getOpenFileName(parent=self.ui, caption=<span class="stringliteral">&quot;Logo auswählen&quot;</span>,</div>
<div class="line"><span class="lineno"> 1223</span>                                                       directory=self.ui.model.get_last_path(),</div>
<div class="line"><span class="lineno"> 1224</span>                                                       filter=IMAGE_FILE_TYPES)</div>
<div class="line"><span class="lineno"> 1225</span>        <span class="keywordflow">if</span> logo_path:</div>
<div class="line"><span class="lineno"> 1226</span>            self.ui_invoice_data.lbl_seller_logo_path.setText(logo_path)</div>
<div class="line"><span class="lineno"> 1227</span>            pixmap = QPixmap(logo_path)</div>
<div class="line"><span class="lineno"> 1228</span>            self.ui_invoice_data.lbl_seller_logo_preview.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1229</span>            self.ui_invoice_data.lbl_seller_logo_preview.setPixmap(pixmap)</div>
<div class="line"><span class="lineno"> 1230</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1786004b43a15b758366cef3fba657c4" name="a1786004b43a15b758366cef3fba657c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1786004b43a15b758366cef3fba657c4">&#9670;&#160;</a></span>set_default_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None set_default_data </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set default data. </p>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00395">395</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  395</span>    <span class="keyword">def </span>set_default_data(self) -&gt; None:</div>
<div class="line"><span class="lineno">  396</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno">  397</span><span class="stringliteral">        @brief Set default data</span></div>
<div class="line"><span class="lineno">  398</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  399</span>        dialog = self.ui_invoice_data</div>
<div class="line"><span class="lineno">  400</span>        actual_date = QDate.currentDate()</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>        <span class="comment"># Rechnungstitel</span></div>
<div class="line"><span class="lineno">  403</span>        dialog.le_invoice_title.setText(<span class="stringliteral">&quot;Rechnung&quot;</span>)</div>
<div class="line"><span class="lineno">  404</span>        <span class="comment"># Rechnungsnummer (BT-1)</span></div>
<div class="line"><span class="lineno">  405</span>        dialog.le_invoice_number.setText(<span class="stringliteral">&quot;&quot;</span>)  <span class="comment"># updated by set invoice date later</span></div>
<div class="line"><span class="lineno">  406</span>        <span class="comment"># Rechnungsdatum (BT-2)</span></div>
<div class="line"><span class="lineno">  407</span>        dialog.de_invoice_date.setDate(actual_date)</div>
<div class="line"><span class="lineno">  408</span>        dialog.de_invoice_date.dateChanged.connect(self.on_invoice_data_changed)</div>
<div class="line"><span class="lineno">  409</span>        self.on_invoice_data_changed(actual_date)</div>
<div class="line"><span class="lineno">  410</span>        <span class="comment"># Code für den Rechnungstyp (BT-3)</span></div>
<div class="line"><span class="lineno">  411</span>        set_combo_box_items(dialog.cb_invoice_type, <span class="stringliteral">&quot;380&quot;</span>, D_INVOICE_TYPE)</div>
<div class="line"><span class="lineno">  412</span>        <span class="comment"># Code für die Rechnungswährung (BT-5)</span></div>
<div class="line"><span class="lineno">  413</span>        set_combo_box_items(dialog.cb_currency, <span class="stringliteral">&quot;EUR&quot;</span>, D_CURRENCY)</div>
<div class="line"><span class="lineno">  414</span>        <span class="comment"># Fälligkeitsdatum der Zahlung (BT-9)</span></div>
<div class="line"><span class="lineno">  415</span>        dialog.de_due_date.setDate(actual_date.addDays(self.default_payment_days))</div>
<div class="line"><span class="lineno">  416</span>        dialog.sb_due_days.setValue(self.default_payment_days)</div>
<div class="line"><span class="lineno">  417</span>        dialog.de_due_date.dateChanged.connect(<span class="keyword">lambda</span>: self.due_date_changed(<span class="keyword">False</span>))</div>
<div class="line"><span class="lineno">  418</span>        dialog.sb_due_days.valueChanged.connect(<span class="keyword">lambda</span>: self.due_date_changed(<span class="keyword">True</span>))</div>
<div class="line"><span class="lineno">  419</span>        <span class="comment"># Tatsächliches Lieferdatum (BT-72)</span></div>
<div class="line"><span class="lineno">  420</span>        dialog.de_deliver_date.setDate(actual_date)</div>
<div class="line"><span class="lineno">  421</span>        <span class="comment"># Anfangsdatum des Rechnungszeitraums (BT-73)</span></div>
<div class="line"><span class="lineno">  422</span>        dialog.de_accounting_date_from.setDate(actual_date)</div>
<div class="line"><span class="lineno">  423</span>        <span class="comment"># Enddatum des Rechnungszeitraums (BT-74)</span></div>
<div class="line"><span class="lineno">  424</span>        dialog.de_accounting_date_to.setDate(actual_date)</div>
<div class="line"><span class="lineno">  425</span>        <span class="comment"># Käuferreferenz (BT-10)</span></div>
<div class="line"><span class="lineno">  426</span>        dialog.le_buyer_reference.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  427</span>        <span class="comment"># Projektnummer (BT-11)</span></div>
<div class="line"><span class="lineno">  428</span>        dialog.le_project_number.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  429</span>        <span class="comment"># Vertragsnummer (BT-12)</span></div>
<div class="line"><span class="lineno">  430</span>        dialog.le_contract_number.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  431</span>        <span class="comment"># Bestellnummer (BT-13)</span></div>
<div class="line"><span class="lineno">  432</span>        dialog.le_order_number.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  433</span>        <span class="comment"># Auftragsnummer (BT-14)</span></div>
<div class="line"><span class="lineno">  434</span>        dialog.le_assignment_number.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  435</span>        <span class="comment"># Wareneingangsmeldung (BT-15)</span></div>
<div class="line"><span class="lineno">  436</span>        dialog.le_receiving_referenced_document.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  437</span>        dialog.de_receiving_advice_referenced_document.setDate(actual_date)</div>
<div class="line"><span class="lineno">  438</span>        <span class="comment"># Versandanzeige (BT-16)</span></div>
<div class="line"><span class="lineno">  439</span>        dialog.le_despatch_advice_referenced_document.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  440</span>        dialog.de_despatch_advice_referenced_document.setDate(actual_date)</div>
<div class="line"><span class="lineno">  441</span>        <span class="comment"># Ausschreibung/Los (BT-17)</span></div>
<div class="line"><span class="lineno">  442</span>        dialog.le_additional_referenced_document.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  443</span>        <span class="comment"># Objektreferenz (BT-18)</span></div>
<div class="line"><span class="lineno">  444</span>        dialog.le_object_reference.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  445</span>        <span class="comment"># Buchungskonto des Käufers (BT-19)</span></div>
<div class="line"><span class="lineno">  446</span>        dialog.le_booking_account_buyer.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  447</span>        <span class="comment"># Rechnungsreferenz (BT-25, BT-26)</span></div>
<div class="line"><span class="lineno">  448</span>        dialog.le_booking_account_buyer.setText(<span class="stringliteral">&quot;&quot;</span>)  <span class="comment"># ID (BT-25)</span></div>
<div class="line"><span class="lineno">  449</span>        dialog.de_invoice_reference.setDate(actual_date)  <span class="comment"># Datum (BT-26)</span></div>
<div class="line"><span class="lineno">  450</span>        <span class="comment"># Freitext zur Rechnung (BT-22)</span></div>
<div class="line"><span class="lineno">  451</span>        dialog.pte_note.setPlainText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  452</span>        <span class="keywordflow">if</span> B_DEBUG_FILL:</div>
<div class="line"><span class="lineno">  453</span>            l_text = []</div>
<div class="line"><span class="lineno">  454</span>            l_text.append(<span class="stringliteral">&quot;&lt;b&gt;&lt;font backColor=&#39;yellow&#39;&gt; Ihre Maßnahme in Hochdorf, Kirchheimer Str. 47 und 49&lt;/font&gt;&lt;/b&gt;&quot;</span>)</div>
<div class="line"><span class="lineno">  455</span>            l_text.append(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  456</span>            l_text.append(<span class="stringliteral">&quot;&lt;b&gt;Grundstücksneuordung Hauptstraße Straße xx / yy, Spongebob / Tadeus / Patrick&lt;/b&gt;&quot;</span>)</div>
<div class="line"><span class="lineno">  457</span>            l_text.append(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  458</span>            l_text.append(<span class="stringliteral">&quot;&lt;u&gt;Folgende Leistungen wurden durchgeführt:&lt;/u&gt; Ausführungszeit: Januar - Juli 2020&quot;</span>)</div>
<div class="line"><span class="lineno">  459</span>            l_text.append(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  460</span>            l_text.append(<span class="stringliteral">&quot;&lt;b&gt;Vertragsgestaltung und Vertragspläne&lt;/b&gt;&quot;</span>)</div>
<div class="line"><span class="lineno">  461</span>            l_text.append(<span class="stringliteral">&quot;mit Besprechungen und Koordination von Notar, Büro für Stadtentwicklung und Gemeinde Abrechnung der Leistungen gemäß beiliegender Stundenliste&quot;</span>)</div>
<div class="line"><span class="lineno">  462</span>            dialog.pte_note.setPlainText(<span class="stringliteral">&quot;\n&quot;</span>.join(l_text))</div>
<div class="line"><span class="lineno">  463</span>        <span class="comment"># Einleitungstext</span></div>
<div class="line"><span class="lineno">  464</span>        dialog.pte_introduction_text.setPlainText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span>        company = self.ui.tab_settings.company_data</div>
<div class="line"><span class="lineno">  467</span>        company_address = company[COMPANY_ADDRESS_FIELD]</div>
<div class="line"><span class="lineno">  468</span>        company_contact = company[COMPANY_CONTACT_FIELD]</div>
<div class="line"><span class="lineno">  469</span>        company_payment = company[COMPANY_PAYMENT_FIELD]</div>
<div class="line"><span class="lineno">  470</span>        <span class="comment"># Name des Verkäufers (BT-27)</span></div>
<div class="line"><span class="lineno">  471</span>        dialog.le_seller_company.setText(company[ECompanyFields.NAME])</div>
<div class="line"><span class="lineno">  472</span>        <span class="comment"># Handelsname (BT-28)</span></div>
<div class="line"><span class="lineno">  473</span>        dialog.le_seller_name.setText(company[ECompanyFields.TRADE_NAME])</div>
<div class="line"><span class="lineno">  474</span>        <span class="comment"># Verkäuferkennung (BT-29)</span></div>
<div class="line"><span class="lineno">  475</span>        dialog.le_seller_recognition.setText(<span class="stringliteral">&quot;&quot;</span>)  <span class="comment"># no in company data</span></div>
<div class="line"><span class="lineno">  476</span>        <span class="comment"># Registernummer (BT-30)</span></div>
<div class="line"><span class="lineno">  477</span>        dialog.le_seller_register_number.setText(company[ECompanyFields.TRADE_ID])</div>
<div class="line"><span class="lineno">  478</span>        <span class="comment"># Umsatzsteuer-Identifikationsnummer des Verkäufers (BT-31)</span></div>
<div class="line"><span class="lineno">  479</span>        dialog.le_seller_vat.setText(company[ECompanyFields.VAT_ID])</div>
<div class="line"><span class="lineno">  480</span>        <span class="comment"># Steuernummer des Verkäufers (BT-32)</span></div>
<div class="line"><span class="lineno">  481</span>        dialog.le_seller_tax_number.setText(company[ECompanyFields.TAX_ID])</div>
<div class="line"><span class="lineno">  482</span>        <span class="comment"># WEEE-Nummer</span></div>
<div class="line"><span class="lineno">  483</span>        dialog.le_seller_weee_number.setText(<span class="stringliteral">&quot;&quot;</span>)  <span class="comment"># no in company data</span></div>
<div class="line"><span class="lineno">  484</span>        <span class="comment"># Rechtliche Informationen (BT-33)</span></div>
<div class="line"><span class="lineno">  485</span>        dialog.pte_seller_law_info.setPlainText(company[ECompanyFields.LEGAL_INFO])</div>
<div class="line"><span class="lineno">  486</span>        <span class="comment"># seller electric address (BT-34)</span></div>
<div class="line"><span class="lineno">  487</span>        dialog.le_seller_electric_address.setText(company[ECompanyFields.ELECTRONIC_ADDRESS])</div>
<div class="line"><span class="lineno">  488</span>        <span class="comment"># Webseite</span></div>
<div class="line"><span class="lineno">  489</span>        dialog.le_seller_website.setText(company[ECompanyFields.WEBSITE_TEXT])</div>
<div class="line"><span class="lineno">  490</span>        <span class="comment"># Zeile 1 der Verkäuferanschrift (BT-35)</span></div>
<div class="line"><span class="lineno">  491</span>        dialog.le_seller_street_1.setText(company_address[ECompanyFields.STREET_1])</div>
<div class="line"><span class="lineno">  492</span>        <span class="comment"># Zeile 2 der Verkäuferanschrift (BT-36)</span></div>
<div class="line"><span class="lineno">  493</span>        dialog.le_seller_street_2.setText(company_address[ECompanyFields.STREET_2])</div>
<div class="line"><span class="lineno">  494</span>        <span class="comment"># Postleitzahl der Verkäuferanschrift (BT-38)</span></div>
<div class="line"><span class="lineno">  495</span>        dialog.le_seller_plz.setText(company_address[ECompanyFields.PLZ])</div>
<div class="line"><span class="lineno">  496</span>        <span class="comment"># Stadt der Verkäuferanschrift (BT-37)</span></div>
<div class="line"><span class="lineno">  497</span>        dialog.le_seller_city.setText(company_address[ECompanyFields.CITY])</div>
<div class="line"><span class="lineno">  498</span>        <span class="comment"># Ländercode der Verkäuferanschrift (BT-40)</span></div>
<div class="line"><span class="lineno">  499</span>        set_combo_box_items(dialog.cb_seller_country, company_address[ECompanyFields.COUNTRY], D_COUNTRY_CODE)</div>
<div class="line"><span class="lineno">  500</span>        <span class="comment"># Kontaktstelle des Verkäufers (BT-41)</span></div>
<div class="line"><span class="lineno">  501</span>        contact_name = f<span class="stringliteral">&quot;{company_contact[ECompanyFields.FIRST_NAME]} {company_contact[ECompanyFields.LAST_NAME]}&quot;</span></div>
<div class="line"><span class="lineno">  502</span>        dialog.le_seller_contact_name.setText(contact_name)</div>
<div class="line"><span class="lineno">  503</span>        <span class="comment"># E-Mail-Adresse der Kontaktstelle des Verkäufers (BT-43)</span></div>
<div class="line"><span class="lineno">  504</span>        dialog.le_seller_contact_mail.setText(company_contact[ECompanyFields.MAIL])</div>
<div class="line"><span class="lineno">  505</span>        <span class="comment"># Telefonnummer der Kontaktstelle des Verkäufers (BT-42)</span></div>
<div class="line"><span class="lineno">  506</span>        dialog.le_seller_contact_phone.setText(company_contact[ECompanyFields.PHONE])</div>
<div class="line"><span class="lineno">  507</span>        <span class="comment"># seller fax</span></div>
<div class="line"><span class="lineno">  508</span>        dialog.le_seller_contact_fax.setText(<span class="stringliteral">&quot;&quot;</span>)  <span class="comment"># no in company data</span></div>
<div class="line"><span class="lineno">  509</span>        <span class="comment"># seller logo</span></div>
<div class="line"><span class="lineno">  510</span>        dialog.btn_seller_logo_select.clicked.connect(self.select_logo)</div>
<div class="line"><span class="lineno">  511</span>        logo_path = os.path.join(self.ui.model.data_path, LOGO_BRIEF_PATH)</div>
<div class="line"><span class="lineno">  512</span>        self.select_logo(logo_path)</div>
<div class="line"><span class="lineno">  513</span> </div>
<div class="line"><span class="lineno">  514</span>        <span class="comment"># Name des Käufers (BT-44)</span></div>
<div class="line"><span class="lineno">  515</span>        dialog.le_buyer_company.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  516</span>        <span class="comment"># Handelsname (BT-45)</span></div>
<div class="line"><span class="lineno">  517</span>        dialog.le_buyer_name.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  518</span>        <span class="comment"># Käuferkennung (BT-46)</span></div>
<div class="line"><span class="lineno">  519</span>        dialog.le_buyer_recognition.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  520</span>        <span class="comment"># Registernummer (BT-47)</span></div>
<div class="line"><span class="lineno">  521</span>        dialog.le_buyer_register_number.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  522</span>        <span class="comment"># Umsatzsteuer-Identifikationsnummer des Käufers (BT-48)</span></div>
<div class="line"><span class="lineno">  523</span>        dialog.le_buyer_vat.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  524</span>        <span class="comment"># Elektronische Adresse (BT-49)</span></div>
<div class="line"><span class="lineno">  525</span>        dialog.le_buyer_electric_address.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  526</span>        <span class="comment"># Zeile 1 der Käuferanschrift (BT-50)</span></div>
<div class="line"><span class="lineno">  527</span>        dialog.le_buyer_street_1.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  528</span>        <span class="comment"># Zeile 2 der Käuferanschrift (BT-51)</span></div>
<div class="line"><span class="lineno">  529</span>        dialog.le_buyer_street_2.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  530</span>        <span class="comment"># Postleitzahl der Käuferanschrift (BT-53)</span></div>
<div class="line"><span class="lineno">  531</span>        dialog.le_buyer_plz.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  532</span>        <span class="comment"># Stadt der Käuferanschrift (BT-52)</span></div>
<div class="line"><span class="lineno">  533</span>        dialog.le_buyer_city.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  534</span>        <span class="comment"># Ländercode der Käuferanschrift (BT-55)</span></div>
<div class="line"><span class="lineno">  535</span>        set_combo_box_items(dialog.cb_buyer_country, <span class="stringliteral">&quot;DE&quot;</span>, D_COUNTRY_CODE)</div>
<div class="line"><span class="lineno">  536</span>        <span class="comment"># Kontaktstelle des Käufers (BT-56)</span></div>
<div class="line"><span class="lineno">  537</span>        dialog.le_buyer_contact_name.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  538</span>        <span class="comment"># E-Mail-Adresse der Kontaktstelle des Käufers (BT-58)</span></div>
<div class="line"><span class="lineno">  539</span>        dialog.le_buyer_contact_mail.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  540</span>        <span class="comment"># Telefonnummer der Kontaktstelle des Käufers (BT-57)</span></div>
<div class="line"><span class="lineno">  541</span>        dialog.le_buyer_contact_phone.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  542</span> </div>
<div class="line"><span class="lineno">  543</span>        <span class="comment"># Code für die Zahlungsart D_PAYMENT_METHOD (BT-81)</span></div>
<div class="line"><span class="lineno">  544</span>        set_combo_box_items(dialog.cb_payment_method, <span class="stringliteral">&quot;58&quot;</span>, D_PAYMENT_METHOD)</div>
<div class="line"><span class="lineno">  545</span>        <span class="comment"># Name des Zahlungskontos (BT-85)</span></div>
<div class="line"><span class="lineno">  546</span>        dialog.le_account_holder.setText(company_payment[ECompanyFields.BANK_OWNER])</div>
<div class="line"><span class="lineno">  547</span>        <span class="comment"># Kennung des Zahlungskontos (BT-84)</span></div>
<div class="line"><span class="lineno">  548</span>        dialog.le_iban.setText(company_payment[ECompanyFields.BANK_IBAN])</div>
<div class="line"><span class="lineno">  549</span>        <span class="comment"># Kennung des Zahlungsdienstleisters (BT-86)</span></div>
<div class="line"><span class="lineno">  550</span>        dialog.le_bic.setText(company_payment[ECompanyFields.BANK_BIC])</div>
<div class="line"><span class="lineno">  551</span>        <span class="comment"># bank name</span></div>
<div class="line"><span class="lineno">  552</span>        dialog.le_bank_name.setText(company_payment[ECompanyFields.BANK_NAME])</div>
<div class="line"><span class="lineno">  553</span>        <span class="comment"># Verwendungszweck (BT-83)</span></div>
<div class="line"><span class="lineno">  554</span>        dialog.le_payment_purpose.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  555</span>        <span class="comment"># Zahlungsbedingungen (BT-20)</span></div>
<div class="line"><span class="lineno">  556</span>        dialog.pte_payment_terms.setPlainText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  557</span> </div>
<div class="line"><span class="lineno">  558</span>        <span class="comment"># Name des Waren- oder Dienstleistungsempfängers (BT-70)</span></div>
<div class="line"><span class="lineno">  559</span>        dialog.le_deliver_name.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  560</span>        <span class="comment"># Kennung des Lieferorts (BT-71)</span></div>
<div class="line"><span class="lineno">  561</span>        dialog.le_deliver_place_ident.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  562</span>        <span class="comment"># Zeile 1 der Lieferanschrift (BT-75)</span></div>
<div class="line"><span class="lineno">  563</span>        dialog.le_deliver_street_1.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  564</span>        <span class="comment"># Zeile 2 der Lieferanschrift (BT-76)</span></div>
<div class="line"><span class="lineno">  565</span>        dialog.le_deliver_street_2.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  566</span>        <span class="comment"># Zeile 3 der Lieferanschrift (BT-165)</span></div>
<div class="line"><span class="lineno">  567</span>        dialog.le_deliver_addition.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  568</span>        <span class="comment"># Postleitzahl der Lieferanschrift (BT-78)</span></div>
<div class="line"><span class="lineno">  569</span>        dialog.le_deliver_plz.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  570</span>        <span class="comment"># Stadt der Lieferanschrift (BT-77)</span></div>
<div class="line"><span class="lineno">  571</span>        dialog.le_deliver_city.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  572</span>        <span class="comment"># Ländercode der Lieferanschrift (BT-80)</span></div>
<div class="line"><span class="lineno">  573</span>        set_combo_box_items(dialog.cb_deliver_country, <span class="stringliteral">&quot;DE&quot;</span>, D_COUNTRY_CODE)</div>
<div class="line"><span class="lineno">  574</span>        <span class="comment"># Stadt der Lieferanschrift (BT-79)</span></div>
<div class="line"><span class="lineno">  575</span>        dialog.le_deliver_region.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  576</span> </div>
<div class="line"><span class="lineno">  577</span>        <span class="comment"># Summe der Nettobeträge aller Rechnungspositionen (BT-106)</span></div>
<div class="line"><span class="lineno">  578</span>        set_spin_box_read_only(dialog.dsb_sum_positions, 0.0)</div>
<div class="line"><span class="lineno">  579</span>        <span class="comment"># Summe der Zuschläge auf Dokumentenebene (BT-108)</span></div>
<div class="line"><span class="lineno">  580</span>        set_spin_box_read_only(dialog.dsb_sum_surcharges, 0.0)</div>
<div class="line"><span class="lineno">  581</span>        <span class="comment"># Summe der Abschläge auf Dokumentenebene (BT-107)</span></div>
<div class="line"><span class="lineno">  582</span>        set_spin_box_read_only(dialog.dsb_sum_discounts, 0.0)</div>
<div class="line"><span class="lineno">  583</span>        <span class="comment"># Rechnungsgesamtbetrag ohne Umsatzsteuer (BT-109)</span></div>
<div class="line"><span class="lineno">  584</span>        set_spin_box_read_only(dialog.dsb_sum_net, 0.0)</div>
<div class="line"><span class="lineno">  585</span>        <span class="comment"># Summe Umsatzsteuer (BT-110)</span></div>
<div class="line"><span class="lineno">  586</span>        set_spin_box_read_only(dialog.dsb_sum_vat, 0.0)</div>
<div class="line"><span class="lineno">  587</span>        <span class="comment"># Rechnungsgesamtbetrag einschließlich Umsatzsteuer (BT-112)</span></div>
<div class="line"><span class="lineno">  588</span>        set_spin_box_read_only(dialog.dsb_sum_gross, 0.0)</div>
<div class="line"><span class="lineno">  589</span>        <span class="comment"># Vorauszahlungsbetrag (BT-113)</span></div>
<div class="line"><span class="lineno">  590</span>        dialog.dsb_payed_amount.setValue(0.0)</div>
<div class="line"><span class="lineno">  591</span>        <span class="comment"># Rundungsbetrag (BT-114)</span></div>
<div class="line"><span class="lineno">  592</span>        dialog.dsb_rounded_amount.setValue(0.0)</div>
<div class="line"><span class="lineno">  593</span>        <span class="comment"># Fälliger Zahlungsbetrag (BT-115)</span></div>
<div class="line"><span class="lineno">  594</span>        set_spin_box_read_only(dialog.dsb_amount_due, 0.0)</div>
<div class="line"><span class="lineno">  595</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a15b681574c175027d47441425ceea587" name="a15b681574c175027d47441425ceea587"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15b681574c175027d47441425ceea587">&#9670;&#160;</a></span>set_default_dis_sur_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None set_default_dis_sur_data </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ui_InvoiceDiscountsData | Ui_InvoiceSurchargesData</td>          <td class="paramname"><span class="paramname"><em>dialog</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dict[str, str]</td>          <td class="paramname"><span class="paramname"><em>reason_codes</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set default discounts or surcharges data. </p>
<dl class="params"><dt>Parameter</dt><dd>
  <table class="params">
    <tr><td class="paramname">dialog</td><td>: dialog </td></tr>
    <tr><td class="paramname">reason_codes</td><td>: reason codes </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00895">895</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  895</span>    <span class="keyword">def </span>set_default_dis_sur_data(self, dialog: Ui_InvoiceDiscountsData | Ui_InvoiceSurchargesData, reason_codes: dict[str, str]) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  896</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno">  897</span><span class="stringliteral">        @brief Set default discounts or surcharges data</span></div>
<div class="line"><span class="lineno">  898</span><span class="stringliteral">        @param dialog : dialog</span></div>
<div class="line"><span class="lineno">  899</span><span class="stringliteral">        @param reason_codes : reason codes</span></div>
<div class="line"><span class="lineno">  900</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  901</span>        <span class="comment"># Grundbetrag (BT-93) (BT-100)</span></div>
<div class="line"><span class="lineno">  902</span>        set_spin_box_read_only(dialog.dsb_basis_amount, 0.0)</div>
<div class="line"><span class="lineno">  903</span>        <span class="comment"># Prozent (BT-94) (BT-101)</span></div>
<div class="line"><span class="lineno">  904</span>        dialog.dsb_percent.setValue(0)</div>
<div class="line"><span class="lineno">  905</span>        <span class="comment"># Betrag (Netto) (BT-92) (BT-99)</span></div>
<div class="line"><span class="lineno">  906</span>        dialog.dsb_net_amount.setValue(0.0)</div>
<div class="line"><span class="lineno">  907</span>        <span class="comment"># Steuersatz (BT-96) (BT-103)</span></div>
<div class="line"><span class="lineno">  908</span>        dialog.dsb_vat_rate.setValue(self.default_tax_rate)</div>
<div class="line"><span class="lineno">  909</span>        <span class="comment"># Steuerkategorie (BT-95) (BT-102)</span></div>
<div class="line"><span class="lineno">  910</span>        set_combo_box_items(dialog.cb_vat_code, <span class="stringliteral">&quot;S&quot;</span>, D_VAT_CODE)</div>
<div class="line"><span class="lineno">  911</span>        <span class="comment"># Betrag Brutto</span></div>
<div class="line"><span class="lineno">  912</span>        set_spin_box_read_only(dialog.dsb_gross_amount, 0.0)</div>
<div class="line"><span class="lineno">  913</span>        <span class="comment"># Steuerbetrag (Netto)</span></div>
<div class="line"><span class="lineno">  914</span>        set_spin_box_read_only(dialog.dsb_vat_amount, 0.0)</div>
<div class="line"><span class="lineno">  915</span>        hide_too_long = <span class="keyword">False</span>  <span class="comment"># hide too long line status</span></div>
<div class="line"><span class="lineno">  916</span>        <span class="keywordflow">if</span> hide_too_long:</div>
<div class="line"><span class="lineno">  917</span>            <span class="comment"># hide for too long line</span></div>
<div class="line"><span class="lineno">  918</span>            dialog.lbl_vat_amount.hide()</div>
<div class="line"><span class="lineno">  919</span>            dialog.dsb_vat_amount.hide()</div>
<div class="line"><span class="lineno">  920</span>            dialog.lbl_vat_amount_symbol.hide()</div>
<div class="line"><span class="lineno">  921</span>        <span class="comment"># Grund (BT-97) (BT-104)</span></div>
<div class="line"><span class="lineno">  922</span>        dialog.le_reason.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  923</span>        <span class="comment"># Code des Grundes (BT-98) (BT-105)</span></div>
<div class="line"><span class="lineno">  924</span>        set_combo_box_items(dialog.cb_reason_code, <span class="stringliteral">&quot;&quot;</span>, reason_codes)</div>
<div class="line"><span class="lineno">  925</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afada906ae725c1e7d9a1db536f10a53c" name="afada906ae725c1e7d9a1db536f10a53c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afada906ae725c1e7d9a1db536f10a53c">&#9670;&#160;</a></span>set_default_item_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None set_default_item_data </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ui_InvoiceItemData</td>          <td class="paramname"><span class="paramname"><em>item_dialog</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set default item data. </p>
<dl class="params"><dt>Parameter</dt><dd>
  <table class="params">
    <tr><td class="paramname">item_dialog</td><td>: item dialog </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00714">714</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  714</span>    <span class="keyword">def </span>set_default_item_data(self, item_dialog: Ui_InvoiceItemData) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  715</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno">  716</span><span class="stringliteral">        @brief Set default item data</span></div>
<div class="line"><span class="lineno">  717</span><span class="stringliteral">        @param item_dialog : item dialog</span></div>
<div class="line"><span class="lineno">  718</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  719</span>        actual_date = QDate.currentDate()</div>
<div class="line"><span class="lineno">  720</span>        <span class="comment"># Name (BT-153)</span></div>
<div class="line"><span class="lineno">  721</span>        item_dialog.le_item_name.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  722</span>        <span class="keywordflow">if</span> B_DEBUG_FILL:</div>
<div class="line"><span class="lineno">  723</span>            item_dialog.le_item_name.setText(<span class="stringliteral">&quot;Item&quot;</span>)</div>
<div class="line"><span class="lineno">  724</span>        <span class="comment"># Umsatzsteuersatz für den in Rechnung gestellten Artikel (BT-152)</span></div>
<div class="line"><span class="lineno">  725</span>        item_dialog.dsb_item_vat_rate.setValue(self.default_tax_rate)</div>
<div class="line"><span class="lineno">  726</span>        <span class="comment"># Code der Umsatzsteuerkategorie des in Rechnung gestellten Artikels (BT-151)</span></div>
<div class="line"><span class="lineno">  727</span>        set_combo_box_items(item_dialog.cb_item_vat_code, <span class="stringliteral">&quot;S&quot;</span>, D_VAT_CODE)</div>
<div class="line"><span class="lineno">  728</span>        <span class="comment"># Artikel-Nr. (BT-155)</span></div>
<div class="line"><span class="lineno">  729</span>        item_dialog.le_item_id.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  730</span>        <span class="comment"># Startdatum (BT-134)</span></div>
<div class="line"><span class="lineno">  731</span>        item_dialog.de_item_billing_period_start.setDate(actual_date)</div>
<div class="line"><span class="lineno">  732</span>        item_dialog.de_item_billing_period_start.setEnabled(<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  733</span>        item_dialog.lbl_item_billing_period_start.setEnabled(<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  734</span>        <span class="comment"># Enddatum (BT-135)</span></div>
<div class="line"><span class="lineno">  735</span>        item_dialog.de_item_billing_period_end.setDate(actual_date)</div>
<div class="line"><span class="lineno">  736</span>        item_dialog.de_item_billing_period_end.setEnabled(<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  737</span>        item_dialog.lbl_item_billing_period_end.setEnabled(<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  738</span>        <span class="comment"># Referenz zur Bestellposition (BT-132)</span></div>
<div class="line"><span class="lineno">  739</span>        item_dialog.le_item_order_position.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  740</span>        <span class="comment"># Objektkennung auf Ebene der Rechnungsposition (BT-128)</span></div>
<div class="line"><span class="lineno">  741</span>        item_dialog.le_object_reference.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  742</span>        <span class="comment"># Artikelbeschreibung (BT-154)</span></div>
<div class="line"><span class="lineno">  743</span>        item_dialog.pte_item_description.setPlainText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  744</span>        <span class="keywordflow">if</span> B_DEBUG_FILL:</div>
<div class="line"><span class="lineno">  745</span>            item_dialog.pte_item_description.setPlainText(<span class="stringliteral">&quot;Artikelbeschreibung&quot;</span>)</div>
<div class="line"><span class="lineno">  746</span>        <span class="comment"># Menge (BT-129)</span></div>
<div class="line"><span class="lineno">  747</span>        item_dialog.dsb_item_quantity.setValue(1)</div>
<div class="line"><span class="lineno">  748</span>        <span class="comment"># Einheit (BT-130) D_UNIT</span></div>
<div class="line"><span class="lineno">  749</span>        set_combo_box_items(item_dialog.cb_item_quantity_unit, <span class="stringliteral">&quot;H87&quot;</span>, D_UNIT)</div>
<div class="line"><span class="lineno">  750</span>        <span class="comment"># Einzelpreis (Netto) (BT-146)</span></div>
<div class="line"><span class="lineno">  751</span>        item_dialog.dsb_item_net_unit_price.setValue(0.0)</div>
<div class="line"><span class="lineno">  752</span>        <span class="keywordflow">if</span> B_DEBUG_FILL:</div>
<div class="line"><span class="lineno">  753</span>            item_dialog.dsb_item_net_unit_price.setValue(100)</div>
<div class="line"><span class="lineno">  754</span>        <span class="comment"># Einzelpreis (Brutto)</span></div>
<div class="line"><span class="lineno">  755</span>        item_dialog.dsb_item_gross_unit_price.setValue(0.0)</div>
<div class="line"><span class="lineno">  756</span>        <span class="keywordflow">if</span> B_DEBUG_FILL:</div>
<div class="line"><span class="lineno">  757</span>            item_dialog.dsb_item_gross_unit_price.setValue(119)</div>
<div class="line"><span class="lineno">  758</span>        <span class="comment"># Basismenge zum Artikelpreis (BT-149)</span></div>
<div class="line"><span class="lineno">  759</span>        item_dialog.dsb_item_basis_quantity.setValue(1)</div>
<div class="line"><span class="lineno">  760</span>        <span class="comment"># Steuerbetrag</span></div>
<div class="line"><span class="lineno">  761</span>        set_spin_box_read_only(item_dialog.dsb_item_vat_amount, 0.0)</div>
<div class="line"><span class="lineno">  762</span>        <span class="comment"># Gesamtpreis (Netto) (BT-131)</span></div>
<div class="line"><span class="lineno">  763</span>        set_spin_box_read_only(item_dialog.dsb_item_net_amount, 0.0)</div>
<div class="line"><span class="lineno">  764</span>        <span class="keywordflow">if</span> B_DEBUG_FILL:</div>
<div class="line"><span class="lineno">  765</span>            item_dialog.dsb_item_net_amount.setValue(100)</div>
<div class="line"><span class="lineno">  766</span>        <span class="comment"># Gesamtpreis (Brutto)</span></div>
<div class="line"><span class="lineno">  767</span>        set_spin_box_read_only(item_dialog.dsb_item_gross_price, 0.0)</div>
<div class="line"><span class="lineno">  768</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae3cb67a2e439aed0ec03109f54aedd4d" name="ae3cb67a2e439aed0ec03109f54aedd4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3cb67a2e439aed0ec03109f54aedd4d">&#9670;&#160;</a></span>set_default_tax_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None set_default_tax_data </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ui_InvoiceTaxData</td>          <td class="paramname"><span class="paramname"><em>tax_dialog</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set default tax data. </p>
<p>Set only editable data </p><dl class="params"><dt>Parameter</dt><dd>
  <table class="params">
    <tr><td class="paramname">tax_dialog</td><td>: tax dialog </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l01032">1032</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1032</span>    <span class="keyword">def </span>set_default_tax_data(self, tax_dialog: Ui_InvoiceTaxData) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1033</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno"> 1034</span><span class="stringliteral">        @brief Set default tax data. Set only editable data</span></div>
<div class="line"><span class="lineno"> 1035</span><span class="stringliteral">        @param tax_dialog : tax dialog</span></div>
<div class="line"><span class="lineno"> 1036</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1037</span>        <span class="comment"># Befreiungsgrund (BT-120)</span></div>
<div class="line"><span class="lineno"> 1038</span>        tax_dialog.le_exemption_reason.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1039</span>        <span class="comment"># Code für Befreiungsgrund (BT-121)</span></div>
<div class="line"><span class="lineno"> 1040</span>        set_combo_box_items(tax_dialog.cb_exemption_reason_code, <span class="stringliteral">&quot;&quot;</span>, D_EXEMPTION_REASON_CODE)</div>
<div class="line"><span class="lineno"> 1041</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a838c00f9087a0781c44016c2435f0df6" name="a838c00f9087a0781c44016c2435f0df6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a838c00f9087a0781c44016c2435f0df6">&#9670;&#160;</a></span>set_tax_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None set_tax_data </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ui_InvoiceTaxData</td>          <td class="paramname"><span class="paramname"><em>tax_dialog</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dict[str, Any]</td>          <td class="paramname"><span class="paramname"><em>tax_data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set default tax data. </p>
<p>Set only editable data </p><dl class="params"><dt>Parameter</dt><dd>
  <table class="params">
    <tr><td class="paramname">tax_dialog</td><td>: tax dialog </td></tr>
    <tr><td class="paramname">tax_data</td><td>: tax data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l01042">1042</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1042</span>    <span class="keyword">def </span>set_tax_data(self, tax_dialog: Ui_InvoiceTaxData, tax_data: dict[str, Any]) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1043</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno"> 1044</span><span class="stringliteral">        @brief Set default tax data. Set only editable data</span></div>
<div class="line"><span class="lineno"> 1045</span><span class="stringliteral">        @param tax_dialog : tax dialog</span></div>
<div class="line"><span class="lineno"> 1046</span><span class="stringliteral">        @param tax_data : tax data</span></div>
<div class="line"><span class="lineno"> 1047</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1048</span>        <span class="comment"># Steuerkategorie (BT-118)</span></div>
<div class="line"><span class="lineno"> 1049</span>        set_line_edit_read_only(tax_dialog.le_tax_category, tax_data[<span class="stringliteral">&quot;code&quot;</span>], D_VAT_CODE)</div>
<div class="line"><span class="lineno"> 1050</span>        <span class="comment"># Steuersatz (BT-119)</span></div>
<div class="line"><span class="lineno"> 1051</span>        set_spin_box_read_only(tax_dialog.dsb_tax_rate, tax_data[<span class="stringliteral">&quot;rate&quot;</span>])</div>
<div class="line"><span class="lineno"> 1052</span>        <span class="comment"># Gesamt (Netto) (BT-116)</span></div>
<div class="line"><span class="lineno"> 1053</span>        set_spin_box_read_only(tax_dialog.dsb_tax_net, tax_data[<span class="stringliteral">&quot;netAmount&quot;</span>])</div>
<div class="line"><span class="lineno"> 1054</span>        <span class="comment"># Steuerbetrag (BT-117)</span></div>
<div class="line"><span class="lineno"> 1055</span>        set_spin_box_read_only(tax_dialog.dsb_tax_amount, tax_data[<span class="stringliteral">&quot;vatAmount&quot;</span>])</div>
<div class="line"><span class="lineno"> 1056</span>        <span class="comment"># Gesamt (Brutto)</span></div>
<div class="line"><span class="lineno"> 1057</span>        set_spin_box_read_only(tax_dialog.dsb_tax_gross, tax_data[<span class="stringliteral">&quot;netAmount&quot;</span>] + tax_data[<span class="stringliteral">&quot;vatAmount&quot;</span>])</div>
<div class="line"><span class="lineno"> 1058</span>        b_visible = bool(tax_data[<span class="stringliteral">&quot;rate&quot;</span>] == 0)</div>
<div class="line"><span class="lineno"> 1059</span>        <span class="comment"># Befreiungsgrund (BT-120)</span></div>
<div class="line"><span class="lineno"> 1060</span>        tax_dialog.lbl_exemption_reason.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1061</span>        tax_dialog.le_exemption_reason.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1062</span>        tax_dialog.le_exemption_reason.setText(tax_data[<span class="stringliteral">&quot;exemptionReason&quot;</span>])</div>
<div class="line"><span class="lineno"> 1063</span>        <span class="comment"># Code für Befreiungsgrund (BT-121)</span></div>
<div class="line"><span class="lineno"> 1064</span>        tax_dialog.lbl_exemption_reason_code.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1065</span>        tax_dialog.cb_exemption_reason_code.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1066</span>        set_combo_box_value(tax_dialog.cb_exemption_reason_code, tax_data[<span class="stringliteral">&quot;exemptionReasonCode&quot;</span>], D_EXEMPTION_REASON_CODE)</div>
<div class="line"><span class="lineno"> 1067</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a660e9ed12bbb6a262d5e338edb523142" name="a660e9ed12bbb6a262d5e338edb523142"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a660e9ed12bbb6a262d5e338edb523142">&#9670;&#160;</a></span>show_dialog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None show_dialog </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Show dialog. </p>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00281">281</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  281</span>    <span class="keyword">def </span>show_dialog(self) -&gt; None:</div>
<div class="line"><span class="lineno">  282</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno">  283</span><span class="stringliteral">        @brief Show dialog</span></div>
<div class="line"><span class="lineno">  284</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  285</span>        self.ui.model.c_monitor.set_dialog_style(self)</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>        config_invoice_type_btn(self)</div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>        <span class="comment"># empty Widget as Container</span></div>
<div class="line"><span class="lineno">  290</span>        container_widget = QtWidgets.QWidget()</div>
<div class="line"><span class="lineno">  291</span>        <span class="comment"># build Ui in Container</span></div>
<div class="line"><span class="lineno">  292</span>        self.ui_invoice_data = Ui_InvoiceData()</div>
<div class="line"><span class="lineno">  293</span>        self.ui_invoice_data.setupUi(container_widget)</div>
<div class="line"><span class="lineno">  294</span>        <span class="comment"># Set Container als Content of ScrollArea</span></div>
<div class="line"><span class="lineno">  295</span>        self.scroll_area.setWidgetResizable(<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  296</span>        self.scroll_area.setWidget(container_widget)</div>
<div class="line"><span class="lineno">  297</span>        <span class="comment"># to add BT label in UI designer</span></div>
<div class="line"><span class="lineno">  298</span>        <span class="comment">#  &lt;span style=&quot;font-size:7pt; color: grey;&quot;&gt;(BT-x)&lt;/span&gt;</span></div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>        <span class="comment"># add item widget</span></div>
<div class="line"><span class="lineno">  301</span>        self.ui_invoice_data.item_widgets = []  <span class="comment"># item widget list</span></div>
<div class="line"><span class="lineno">  302</span>        <span class="keywordflow">if</span> self.ui_invoice_data.groupBox_6_position.layout() <span class="keywordflow">is</span> <span class="keywordtype">None</span>:  <span class="comment"># ensure that layout exists</span></div>
<div class="line"><span class="lineno">  303</span>            self.item_layout = QVBoxLayout(self.ui_invoice_data.groupBox_6_position)</div>
<div class="line"><span class="lineno">  304</span>            self.ui_invoice_data.groupBox_6_position.setLayout(self.item_layout)</div>
<div class="line"><span class="lineno">  305</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  306</span>            self.item_layout = self.ui_invoice_data.groupBox_6_position.layout()</div>
<div class="line"><span class="lineno">  307</span>        <span class="comment"># Add item button</span></div>
<div class="line"><span class="lineno">  308</span>        self.item_layout.addLayout(self.item_button_layout)</div>
<div class="line"><span class="lineno">  309</span>        self.btn_add_item.clicked.connect(self.add_item)</div>
<div class="line"><span class="lineno">  310</span>        self.btn_remove_item.clicked.connect(self.remove_item)</div>
<div class="line"><span class="lineno">  311</span>        self.btn_remove_item.setEnabled(<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>        <span class="comment"># add discount widget</span></div>
<div class="line"><span class="lineno">  314</span>        self.ui_invoice_data.discounts_widgets = []  <span class="comment"># discounts widget list</span></div>
<div class="line"><span class="lineno">  315</span>        <span class="keywordflow">if</span> self.ui_invoice_data.groupBox_7_discounts.layout() <span class="keywordflow">is</span> <span class="keywordtype">None</span>:  <span class="comment"># ensure that layout exists</span></div>
<div class="line"><span class="lineno">  316</span>            self.discounts_layout = QVBoxLayout(self.ui_invoice_data.groupBox_7_discounts)</div>
<div class="line"><span class="lineno">  317</span>            self.ui_invoice_data.groupBox_7_discounts.setLayout(self.discounts_layout)</div>
<div class="line"><span class="lineno">  318</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  319</span>            self.discounts_layout = self.ui_invoice_data.groupBox_7_discounts.layout()</div>
<div class="line"><span class="lineno">  320</span>        <span class="comment"># Add discount button</span></div>
<div class="line"><span class="lineno">  321</span>        self.discounts_layout.addLayout(self.discounts_button_layout)</div>
<div class="line"><span class="lineno">  322</span>        self.btn_add_discount.clicked.connect(self.add_discount)</div>
<div class="line"><span class="lineno">  323</span>        self.btn_remove_discount.clicked.connect(self.remove_discount)</div>
<div class="line"><span class="lineno">  324</span>        self.btn_remove_discount.setEnabled(<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span>        <span class="comment"># add surcharges widget</span></div>
<div class="line"><span class="lineno">  327</span>        self.ui_invoice_data.surcharges_widgets = []  <span class="comment"># surcharges widget list</span></div>
<div class="line"><span class="lineno">  328</span>        <span class="keywordflow">if</span> self.ui_invoice_data.groupBox_8_surcharges.layout() <span class="keywordflow">is</span> <span class="keywordtype">None</span>:  <span class="comment"># ensure that layout exists</span></div>
<div class="line"><span class="lineno">  329</span>            self.surcharges_layout = QVBoxLayout(self.ui_invoice_data.groupBox_8_surcharges)</div>
<div class="line"><span class="lineno">  330</span>            self.ui_invoice_data.groupBox_8_surcharges.setLayout(self.surcharges_layout)</div>
<div class="line"><span class="lineno">  331</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  332</span>            self.surcharges_layout = self.ui_invoice_data.groupBox_8_surcharges.layout()</div>
<div class="line"><span class="lineno">  333</span>        <span class="comment"># Add surcharges button</span></div>
<div class="line"><span class="lineno">  334</span>        self.surcharges_layout.addLayout(self.surcharges_button_layout)</div>
<div class="line"><span class="lineno">  335</span>        self.btn_add_surcharge.clicked.connect(self.add_surcharge)</div>
<div class="line"><span class="lineno">  336</span>        self.btn_remove_surcharge.clicked.connect(self.remove_surcharge)</div>
<div class="line"><span class="lineno">  337</span>        self.btn_remove_surcharge.setEnabled(<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span>        <span class="comment"># add tax widget</span></div>
<div class="line"><span class="lineno">  340</span>        self.ui_invoice_data.tax_widgets = []  <span class="comment"># tax widget list</span></div>
<div class="line"><span class="lineno">  341</span>        <span class="keywordflow">if</span> self.ui_invoice_data.groupBox_9_tax.layout() <span class="keywordflow">is</span> <span class="keywordtype">None</span>:  <span class="comment"># ensure that layout exists</span></div>
<div class="line"><span class="lineno">  342</span>            self.tax_layout = QVBoxLayout(self.ui_invoice_data.groupBox_9_tax)</div>
<div class="line"><span class="lineno">  343</span>            self.ui_invoice_data.groupBox_9_tax.setLayout(self.tax_layout)</div>
<div class="line"><span class="lineno">  344</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  345</span>            self.tax_layout = self.ui_invoice_data.groupBox_9_tax.layout()</div>
<div class="line"><span class="lineno">  346</span> </div>
<div class="line"><span class="lineno">  347</span>        <span class="comment"># create first item widget</span></div>
<div class="line"><span class="lineno">  348</span>        self.add_item()</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>        <span class="comment"># delivery time</span></div>
<div class="line"><span class="lineno">  351</span>        self.ui_invoice_data.cb_accounting_date.stateChanged.connect(self.accounting_date_checkbox_changed)</div>
<div class="line"><span class="lineno">  352</span>        self.accounting_date_checkbox_changed(<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  353</span>        self.ui_invoice_data.de_accounting_date_from.dateChanged.connect(self.accounting_date_from_changed)</div>
<div class="line"><span class="lineno">  354</span>        self.ui_invoice_data.de_accounting_date_to.dateChanged.connect(self.accounting_date_to_changed)</div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span>        self.ui_invoice_data.dsb_payed_amount.valueChanged.connect(self.update_total_data)</div>
<div class="line"><span class="lineno">  357</span>        self.ui_invoice_data.dsb_rounded_amount.valueChanged.connect(self.update_total_data)</div>
<div class="line"><span class="lineno">  358</span> </div>
<div class="line"><span class="lineno">  359</span>        self.cb_extended.clicked.connect(self.expand_mode_changed)</div>
<div class="line"><span class="lineno">  360</span>        self.set_default_data()</div>
<div class="line"><span class="lineno">  361</span>        self.expand_mode_changed()</div>
<div class="line"><span class="lineno">  362</span>        self.update_total_data()</div>
<div class="line"><span class="lineno">  363</span> </div>
<div class="line"><span class="lineno">  364</span>        <span class="comment"># customer</span></div>
<div class="line"><span class="lineno">  365</span>        <span class="keywordflow">if</span> B_DEBUG_FILL:</div>
<div class="line"><span class="lineno">  366</span>            index_to_set = 0</div>
<div class="line"><span class="lineno">  367</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  368</span>            index_to_set = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  369</span>        <span class="keywordflow">for</span> i, contact <span class="keywordflow">in</span> enumerate(self.ui.tab_contacts.l_data):</div>
<div class="line"><span class="lineno">  370</span>            self.cb_contact_template.addItem(contact[EContactFields.NAME].replace(<span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot; &quot;</span>), contact)  <span class="comment"># show in single row</span></div>
<div class="line"><span class="lineno">  371</span>            <span class="keywordflow">if</span> self.default_uid:</div>
<div class="line"><span class="lineno">  372</span>                <span class="keywordflow">if</span> contact[EContactFields.ID] == self.default_uid:</div>
<div class="line"><span class="lineno">  373</span>                    index_to_set = i</div>
<div class="line"><span class="lineno">  374</span>        self.cb_contact_template.activated.connect(self.contact_template_activated)</div>
<div class="line"><span class="lineno">  375</span>        <span class="keywordflow">if</span> index_to_set <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  376</span>            self.cb_contact_template.setCurrentIndex(index_to_set)</div>
<div class="line"><span class="lineno">  377</span>            self.contact_template_activated(index_to_set)</div>
<div class="line"><span class="lineno">  378</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  379</span>            self.cb_contact_template.setCurrentIndex(-1)</div>
<div class="line"><span class="lineno">  380</span> </div>
<div class="line"><span class="lineno">  381</span>        self.cb_qr_code.setChecked(read_qr_code_settings())</div>
<div class="line"><span class="lineno">  382</span> </div>
<div class="line"><span class="lineno">  383</span>        self.btn_import.clicked.connect(self.import_btn_clicked)</div>
<div class="line"><span class="lineno">  384</span>        self.btn_export.clicked.connect(self.export_btn_clicked)</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>        self.show()</div>
<div class="line"><span class="lineno">  387</span>        self.exec()</div>
<div class="line"><span class="lineno">  388</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae7b5752204dd88aaa1afc6aefd829edd" name="ae7b5752204dd88aaa1afc6aefd829edd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7b5752204dd88aaa1afc6aefd829edd">&#9670;&#160;</a></span>surcharge_price_changed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None surcharge_price_changed </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>surcharge_index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>percent_changed</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Surcharge price changed. </p>
<dl class="params"><dt>Parameter</dt><dd>
  <table class="params">
    <tr><td class="paramname">surcharge_index</td><td>: discount index </td></tr>
    <tr><td class="paramname">percent_changed</td><td>: True: percent changed; False: ne changed; None=other (use last changed) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00958">958</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  958</span>    <span class="keyword">def </span>surcharge_price_changed(self, surcharge_index: int, percent_changed: bool) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  959</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno">  960</span><span class="stringliteral">        @brief Surcharge price changed</span></div>
<div class="line"><span class="lineno">  961</span><span class="stringliteral">        @param surcharge_index : discount index</span></div>
<div class="line"><span class="lineno">  962</span><span class="stringliteral">        @param percent_changed : True: percent changed; False: ne changed; None=other (use last changed)</span></div>
<div class="line"><span class="lineno">  963</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  964</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.lock_auto_price_edit:</div>
<div class="line"><span class="lineno">  965</span>            self.lock_auto_price_edit = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  966</span>            surcharge_dialog: Ui_InvoiceSurchargesData = self.ui_invoice_data.surcharges_widgets[surcharge_index]</div>
<div class="line"><span class="lineno">  967</span> </div>
<div class="line"><span class="lineno">  968</span>            <span class="keywordflow">if</span> percent_changed <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  969</span>                self.surcharges_percent_changed[surcharge_index] = percent_changed</div>
<div class="line"><span class="lineno">  970</span> </div>
<div class="line"><span class="lineno">  971</span>            basis_amount = surcharge_dialog.dsb_basis_amount.value()</div>
<div class="line"><span class="lineno">  972</span>            percent = surcharge_dialog.dsb_percent.value()</div>
<div class="line"><span class="lineno">  973</span>            net_amount = surcharge_dialog.dsb_net_amount.value()</div>
<div class="line"><span class="lineno">  974</span>            vat_rate = surcharge_dialog.dsb_vat_rate.value()</div>
<div class="line"><span class="lineno">  975</span> </div>
<div class="line"><span class="lineno">  976</span>            <span class="keywordflow">if</span> self.surcharges_percent_changed[surcharge_index]:</div>
<div class="line"><span class="lineno">  977</span>                net_amount = basis_amount * (percent / 100)</div>
<div class="line"><span class="lineno">  978</span>                surcharge_dialog.dsb_net_amount.setValue(net_amount)</div>
<div class="line"><span class="lineno">  979</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  980</span>                percent = (net_amount / basis_amount) * 100</div>
<div class="line"><span class="lineno">  981</span>                surcharge_dialog.dsb_percent.setValue(percent)</div>
<div class="line"><span class="lineno">  982</span>            gross_amount = net_amount * (1 + (vat_rate / 100))</div>
<div class="line"><span class="lineno">  983</span>            tax_amount = gross_amount - net_amount</div>
<div class="line"><span class="lineno">  984</span>            surcharge_dialog.dsb_gross_amount.setValue(gross_amount)</div>
<div class="line"><span class="lineno">  985</span>            surcharge_dialog.dsb_vat_amount.setValue(tax_amount)</div>
<div class="line"><span class="lineno">  986</span>            self.lock_auto_price_edit = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  987</span> </div>
<div class="line"><span class="lineno">  988</span>        self.update_total_data()</div>
<div class="line"><span class="lineno">  989</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3865cd3ab7a187f945dc6f348acae096" name="a3865cd3ab7a187f945dc6f348acae096"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3865cd3ab7a187f945dc6f348acae096">&#9670;&#160;</a></span>update_item_expand_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None update_item_expand_status </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ui_InvoiceItemData</td>          <td class="paramname"><span class="paramname"><em>item_dialog</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>b_visible</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update widgets for item expand status. </p>
<dl class="params"><dt>Parameter</dt><dd>
  <table class="params">
    <tr><td class="paramname">item_dialog</td><td>: item dialog </td></tr>
    <tr><td class="paramname">b_visible</td><td>: visible status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00990">990</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  990</span>    <span class="keyword">def </span>update_item_expand_status(self, item_dialog: Ui_InvoiceItemData, b_visible: bool) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  991</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno">  992</span><span class="stringliteral">        @brief Update widgets for item expand status</span></div>
<div class="line"><span class="lineno">  993</span><span class="stringliteral">        @param item_dialog : item dialog</span></div>
<div class="line"><span class="lineno">  994</span><span class="stringliteral">        @param b_visible : visible status</span></div>
<div class="line"><span class="lineno">  995</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  996</span>        <span class="comment"># Steuerkategorie (BT-151)</span></div>
<div class="line"><span class="lineno">  997</span>        item_dialog.lbl_item_vat_code.setVisible(b_visible)</div>
<div class="line"><span class="lineno">  998</span>        item_dialog.cb_item_vat_code.setVisible(b_visible)</div>
<div class="line"><span class="lineno">  999</span>        <span class="comment"># Artikel-Nr. (BT-155)</span></div>
<div class="line"><span class="lineno"> 1000</span>        item_dialog.lbl_item_id.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1001</span>        item_dialog.le_item_id.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1002</span>        <span class="comment"># Startdatum (BT-134)</span></div>
<div class="line"><span class="lineno"> 1003</span>        item_dialog.lbl_item_billing_period_start.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1004</span>        item_dialog.de_item_billing_period_start.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1005</span>        <span class="comment"># Enddatum (BT-135)</span></div>
<div class="line"><span class="lineno"> 1006</span>        item_dialog.lbl_item_billing_period_end.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1007</span>        item_dialog.de_item_billing_period_end.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1008</span>        <span class="comment"># Set Date checkbox</span></div>
<div class="line"><span class="lineno"> 1009</span>        item_dialog.cb_item_billing_period.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1010</span>        <span class="comment"># Referenz zur Bestellposition (BT-132)</span></div>
<div class="line"><span class="lineno"> 1011</span>        item_dialog.lbl_item_order_position.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1012</span>        item_dialog.le_item_order_position.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1013</span>        <span class="comment"># Objektkennung auf Ebene der Rechnungsposition (BT-128)</span></div>
<div class="line"><span class="lineno"> 1014</span>        item_dialog.lbl_object_reference.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1015</span>        item_dialog.le_object_reference.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1016</span>        <span class="comment"># Basismenge zum Artikelpreis (BT-149)</span></div>
<div class="line"><span class="lineno"> 1017</span>        item_dialog.lbl_item_basis_quantity.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1018</span>        item_dialog.dsb_item_basis_quantity.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1019</span>        <span class="comment"># Steuerbetrag</span></div>
<div class="line"><span class="lineno"> 1020</span>        item_dialog.lbl_item_vat_amount.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1021</span>        item_dialog.dsb_item_vat_amount.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1022</span>        item_dialog.lbl_item_vat_amount_symbol.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1023</span>        <span class="comment"># Gesamtpreis (Netto) (BT-131)</span></div>
<div class="line"><span class="lineno"> 1024</span>        item_dialog.lbl_item_net_amount.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1025</span>        item_dialog.dsb_item_net_amount.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1026</span>        item_dialog.lbl_item_net_amount_symbol.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1027</span>        <span class="comment"># Gesamtpreis (Brutto)</span></div>
<div class="line"><span class="lineno"> 1028</span>        item_dialog.lbl_item_gross_price.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1029</span>        item_dialog.dsb_item_gross_price.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1030</span>        item_dialog.lbl_item_gross_price_symbol.setVisible(b_visible)</div>
<div class="line"><span class="lineno"> 1031</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a9dd5740b5ae40e663653d3d5bce6a7" name="a4a9dd5740b5ae40e663653d3d5bce6a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a9dd5740b5ae40e663653d3d5bce6a7">&#9670;&#160;</a></span>update_tax_widget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None update_tax_widget </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dict[str, Any]</td>          <td class="paramname"><span class="paramname"><em>invoice_data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update tax widget. </p>
<dl class="params"><dt>Parameter</dt><dd>
  <table class="params">
    <tr><td class="paramname">invoice_data</td><td>: invoice data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l01068">1068</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1068</span>    <span class="keyword">def </span>update_tax_widget(self, invoice_data: dict[str, Any]) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1069</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno"> 1070</span><span class="stringliteral">        @brief Update tax widget</span></div>
<div class="line"><span class="lineno"> 1071</span><span class="stringliteral">        @param invoice_data : invoice data</span></div>
<div class="line"><span class="lineno"> 1072</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1073</span>        taxes_data = invoice_data.get(<span class="stringliteral">&quot;taxes&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1074</span>        existing_widgets = len(self.ui_invoice_data.tax_widgets)</div>
<div class="line"><span class="lineno"> 1075</span>        required_widgets = len(taxes_data.items())</div>
<div class="line"><span class="lineno"> 1076</span> </div>
<div class="line"><span class="lineno"> 1077</span>        <span class="keywordflow">for</span> tax_index, (_tax_name, tax_data) <span class="keywordflow">in</span> enumerate(taxes_data.items()):</div>
<div class="line"><span class="lineno"> 1078</span>            <span class="keywordflow">if</span> len(self.ui_invoice_data.tax_widgets) &lt;= tax_index:</div>
<div class="line"><span class="lineno"> 1079</span>                tax_dialog = Ui_InvoiceTaxData()  <span class="comment"># new item instance</span></div>
<div class="line"><span class="lineno"> 1080</span>                widget = QWidget()  <span class="comment"># new container widget</span></div>
<div class="line"><span class="lineno"> 1081</span>                tax_dialog.setupUi(widget)</div>
<div class="line"><span class="lineno"> 1082</span>                self.tax_layout.insertWidget(self.tax_layout.count(), widget)</div>
<div class="line"><span class="lineno"> 1083</span>                self.ui_invoice_data.tax_widgets.append(tax_dialog)  <span class="comment"># store item ui for later use</span></div>
<div class="line"><span class="lineno"> 1084</span>                self.set_default_tax_data(tax_dialog)</div>
<div class="line"><span class="lineno"> 1085</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1086</span>                tax_dialog = self.ui_invoice_data.tax_widgets[tax_index]</div>
<div class="line"><span class="lineno"> 1087</span> </div>
<div class="line"><span class="lineno"> 1088</span>            self.set_tax_data(tax_dialog, tax_data)</div>
<div class="line"><span class="lineno"> 1089</span> </div>
<div class="line"><span class="lineno"> 1090</span>        widgets_to_delete = existing_widgets - required_widgets</div>
<div class="line"><span class="lineno"> 1091</span>        <span class="keywordflow">if</span> widgets_to_delete &gt; 0:</div>
<div class="line"><span class="lineno"> 1092</span>            <span class="keywordflow">for</span> _i <span class="keywordflow">in</span> range(widgets_to_delete):</div>
<div class="line"><span class="lineno"> 1093</span>                last_tax = self.ui_invoice_data.tax_widgets.pop()</div>
<div class="line"><span class="lineno"> 1094</span>                widget = last_tax.frame.parentWidget()</div>
<div class="line"><span class="lineno"> 1095</span>                self.tax_layout.removeWidget(widget)</div>
<div class="line"><span class="lineno"> 1096</span>                widget.setParent(<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno"> 1097</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a559c65b0c81f21227ac1c3106066cc08" name="a559c65b0c81f21227ac1c3106066cc08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a559c65b0c81f21227ac1c3106066cc08">&#9670;&#160;</a></span>update_total_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None update_total_data </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update total data. </p>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00596">596</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  596</span>    <span class="keyword">def </span>update_total_data(self) -&gt; None:</div>
<div class="line"><span class="lineno">  597</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno">  598</span><span class="stringliteral">        @brief Update total data</span></div>
<div class="line"><span class="lineno">  599</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  600</span>        invoice_data = self.read_ui_data_to_json()</div>
<div class="line"><span class="lineno">  601</span>        fill_invoice_data(invoice_data)</div>
<div class="line"><span class="lineno">  602</span> </div>
<div class="line"><span class="lineno">  603</span>        data_totals = invoice_data[<span class="stringliteral">&quot;totals&quot;</span>]</div>
<div class="line"><span class="lineno">  604</span> </div>
<div class="line"><span class="lineno">  605</span>        discount_dialog: Ui_InvoiceDiscountsData  <span class="comment"># declare for typing</span></div>
<div class="line"><span class="lineno">  606</span>        <span class="keywordflow">for</span> discount_dialog <span class="keywordflow">in</span> self.ui_invoice_data.discounts_widgets:</div>
<div class="line"><span class="lineno">  607</span>            discount_dialog.dsb_basis_amount.setValue(data_totals[<span class="stringliteral">&quot;itemsNetAmount&quot;</span>])</div>
<div class="line"><span class="lineno">  608</span>        surcharge_dialog: Ui_InvoiceSurchargesData  <span class="comment"># declare for typing</span></div>
<div class="line"><span class="lineno">  609</span>        <span class="keywordflow">for</span> surcharge_dialog <span class="keywordflow">in</span> self.ui_invoice_data.surcharges_widgets:</div>
<div class="line"><span class="lineno">  610</span>            surcharge_dialog.dsb_basis_amount.setValue(data_totals[<span class="stringliteral">&quot;itemsNetAmount&quot;</span>])</div>
<div class="line"><span class="lineno">  611</span> </div>
<div class="line"><span class="lineno">  612</span>        self.update_tax_widget(invoice_data)</div>
<div class="line"><span class="lineno">  613</span> </div>
<div class="line"><span class="lineno">  614</span>        dialog = self.ui_invoice_data</div>
<div class="line"><span class="lineno">  615</span>        <span class="comment"># Summe der Nettobeträge aller Rechnungspositionen (BT-106)</span></div>
<div class="line"><span class="lineno">  616</span>        dialog.dsb_sum_positions.setValue(data_totals[<span class="stringliteral">&quot;itemsNetAmount&quot;</span>])</div>
<div class="line"><span class="lineno">  617</span>        <span class="comment"># Summe der Zuschläge auf Dokumentenebene (BT-108)</span></div>
<div class="line"><span class="lineno">  618</span>        dialog.dsb_sum_surcharges.setValue(data_totals[<span class="stringliteral">&quot;chargesNetAmount&quot;</span>])</div>
<div class="line"><span class="lineno">  619</span>        <span class="comment"># Summe der Abschläge auf Dokumentenebene (BT-107)</span></div>
<div class="line"><span class="lineno">  620</span>        dialog.dsb_sum_discounts.setValue(data_totals[<span class="stringliteral">&quot;allowancesNetAmount&quot;</span>])</div>
<div class="line"><span class="lineno">  621</span>        <span class="comment"># Rechnungsgesamtbetrag ohne Umsatzsteuer (BT-109)</span></div>
<div class="line"><span class="lineno">  622</span>        dialog.dsb_sum_net.setValue(data_totals[<span class="stringliteral">&quot;netAmount&quot;</span>])</div>
<div class="line"><span class="lineno">  623</span>        <span class="comment"># Summe Umsatzsteuer (BT-110)</span></div>
<div class="line"><span class="lineno">  624</span>        dialog.dsb_sum_vat.setValue(data_totals[<span class="stringliteral">&quot;vatAmount&quot;</span>])</div>
<div class="line"><span class="lineno">  625</span>        <span class="comment"># Rechnungsgesamtbetrag einschließlich Umsatzsteuer (BT-112)</span></div>
<div class="line"><span class="lineno">  626</span>        dialog.dsb_sum_gross.setValue(data_totals[<span class="stringliteral">&quot;grossAmount&quot;</span>])</div>
<div class="line"><span class="lineno">  627</span>        <span class="comment"># Fälliger Zahlungsbetrag (BT-115)</span></div>
<div class="line"><span class="lineno">  628</span>        dialog.dsb_amount_due.setValue(data_totals[<span class="stringliteral">&quot;dueAmount&quot;</span>])</div>
<div class="line"><span class="lineno">  629</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7adfb68cdf7f12cee6e73988b57348e3" name="a7adfb68cdf7f12cee6e73988b57348e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7adfb68cdf7f12cee6e73988b57348e3">&#9670;&#160;</a></span>write_json_data_to_ui()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">write_json_data_to_ui </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dict[str, Any]</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool </td>          <td class="paramname"><span class="paramname"><em>import_all</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write JSON data to UI. </p>
<dl class="params"><dt>Parameter</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>: JSON data </td></tr>
    <tr><td class="paramname">import_all</td><td>: import all </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l01623">1623</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1623</span>    <span class="keyword">def </span>write_json_data_to_ui(self, data: dict[str, Any], import_all: bool = <span class="keyword">False</span>):</div>
<div class="line"><span class="lineno"> 1624</span>        <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno"> 1625</span><span class="stringliteral">        @brief Write JSON data to UI</span></div>
<div class="line"><span class="lineno"> 1626</span><span class="stringliteral">        @param data : JSON data</span></div>
<div class="line"><span class="lineno"> 1627</span><span class="stringliteral">        @param import_all : import all</span></div>
<div class="line"><span class="lineno"> 1628</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1629</span>        dialog = self.ui_invoice_data</div>
<div class="line"><span class="lineno"> 1630</span>        dialog.le_invoice_title.setText(data.get(<span class="stringliteral">&quot;title&quot;</span>))  <span class="comment"># Rechnungstitel</span></div>
<div class="line"><span class="lineno"> 1631</span>        <span class="keywordflow">if</span> import_all:</div>
<div class="line"><span class="lineno"> 1632</span>            dialog.le_invoice_number.setText(data.get(<span class="stringliteral">&quot;number&quot;</span>))  <span class="comment"># Rechnungsnummer (BT-1)</span></div>
<div class="line"><span class="lineno"> 1633</span>            <span class="comment"># Rechnungsdatum (BT-2)</span></div>
<div class="line"><span class="lineno"> 1634</span>            invoice_date = data.get(<span class="stringliteral">&quot;issueDate&quot;</span>)</div>
<div class="line"><span class="lineno"> 1635</span>            <span class="keywordflow">if</span> invoice_date:</div>
<div class="line"><span class="lineno"> 1636</span>                invoice_date_datetime = datetime.strptime(str(invoice_date), DATE_FORMAT_XML)</div>
<div class="line"><span class="lineno"> 1637</span>                qdate = QDate(invoice_date_datetime.year, invoice_date_datetime.month, invoice_date_datetime.day)</div>
<div class="line"><span class="lineno"> 1638</span>                dialog.de_invoice_date.setDate(qdate)</div>
<div class="line"><span class="lineno"> 1639</span>        <span class="comment"># Code für den Rechnungstyp (BT-3)</span></div>
<div class="line"><span class="lineno"> 1640</span>        set_combo_box_value(dialog.cb_invoice_type, data.get(<span class="stringliteral">&quot;typeCode&quot;</span>), D_INVOICE_TYPE)</div>
<div class="line"><span class="lineno"> 1641</span>        <span class="comment"># Code für die Rechnungswährung (BT-5)</span></div>
<div class="line"><span class="lineno"> 1642</span>        set_combo_box_value(dialog.cb_currency, data.get(<span class="stringliteral">&quot;currencyCode&quot;</span>), D_CURRENCY)</div>
<div class="line"><span class="lineno"> 1643</span>        <span class="keywordflow">if</span> import_all:</div>
<div class="line"><span class="lineno"> 1644</span>            <span class="comment"># Fälligkeitsdatum der Zahlung (BT-9)</span></div>
<div class="line"><span class="lineno"> 1645</span>            due_date = data.get(<span class="stringliteral">&quot;dueDate&quot;</span>)</div>
<div class="line"><span class="lineno"> 1646</span>            <span class="keywordflow">if</span> due_date:</div>
<div class="line"><span class="lineno"> 1647</span>                due_date_datetime = datetime.strptime(str(due_date), DATE_FORMAT_XML)</div>
<div class="line"><span class="lineno"> 1648</span>                qdate = QDate(due_date_datetime.year, due_date_datetime.month, due_date_datetime.day)</div>
<div class="line"><span class="lineno"> 1649</span>                dialog.de_due_date.setDate(qdate)</div>
<div class="line"><span class="lineno"> 1650</span>            <span class="comment"># Tatsächliches Lieferdatum (BT-72)</span></div>
<div class="line"><span class="lineno"> 1651</span>            deliver_date = data.get(<span class="stringliteral">&quot;deliveryDate&quot;</span>)</div>
<div class="line"><span class="lineno"> 1652</span>            <span class="keywordflow">if</span> deliver_date:</div>
<div class="line"><span class="lineno"> 1653</span>                deliver_date_datetime = datetime.strptime(str(deliver_date), DATE_FORMAT_XML)</div>
<div class="line"><span class="lineno"> 1654</span>                qdate = QDate(deliver_date_datetime.year, deliver_date_datetime.month, deliver_date_datetime.day)</div>
<div class="line"><span class="lineno"> 1655</span>                dialog.de_deliver_date.setDate(qdate)</div>
<div class="line"><span class="lineno"> 1656</span>            <span class="comment"># Anfangsdatum des Rechnungszeitraums (BT-73)</span></div>
<div class="line"><span class="lineno"> 1657</span>            accounting_period_start = data.get(<span class="stringliteral">&quot;billingPeriodStartDate&quot;</span>)</div>
<div class="line"><span class="lineno"> 1658</span>            <span class="keywordflow">if</span> accounting_period_start:</div>
<div class="line"><span class="lineno"> 1659</span>                accounting_period_start_datetime = datetime.strptime(str(accounting_period_start), DATE_FORMAT_XML)</div>
<div class="line"><span class="lineno"> 1660</span>                qdate = QDate(accounting_period_start_datetime.year, accounting_period_start_datetime.month, accounting_period_start_datetime.day)</div>
<div class="line"><span class="lineno"> 1661</span>                dialog.de_accounting_date_from.setDate(qdate)</div>
<div class="line"><span class="lineno"> 1662</span>            <span class="comment"># Enddatum des Rechnungszeitraums (BT-74)</span></div>
<div class="line"><span class="lineno"> 1663</span>            accounting_period_end = data.get(<span class="stringliteral">&quot;billingPeriodEndDate&quot;</span>)</div>
<div class="line"><span class="lineno"> 1664</span>            <span class="keywordflow">if</span> accounting_period_end:</div>
<div class="line"><span class="lineno"> 1665</span>                accounting_period_end_datetime = datetime.strptime(str(accounting_period_end), DATE_FORMAT_XML)</div>
<div class="line"><span class="lineno"> 1666</span>                qdate = QDate(accounting_period_end_datetime.year, accounting_period_end_datetime.month, accounting_period_end_datetime.day)</div>
<div class="line"><span class="lineno"> 1667</span>                dialog.de_accounting_date_to.setDate(qdate)</div>
<div class="line"><span class="lineno"> 1668</span>            self.ui_invoice_data.cb_accounting_date.setChecked(bool(accounting_period_start <span class="keywordflow">or</span> accounting_period_end))</div>
<div class="line"><span class="lineno"> 1669</span>            dialog.le_buyer_reference.setText(data.get(<span class="stringliteral">&quot;buyerReference&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Käuferreferenz (BT-10)</span></div>
<div class="line"><span class="lineno"> 1670</span>            dialog.le_project_number.setText(data.get(<span class="stringliteral">&quot;projectReference&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Projektnummer (BT-11)</span></div>
<div class="line"><span class="lineno"> 1671</span>            dialog.le_contract_number.setText(data.get(<span class="stringliteral">&quot;contractReference&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Vertragsnummer (BT-12)</span></div>
<div class="line"><span class="lineno"> 1672</span>            dialog.le_order_number.setText(data.get(<span class="stringliteral">&quot;purchaseOrderReference&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Bestellnummer (BT-13)</span></div>
<div class="line"><span class="lineno"> 1673</span>            dialog.le_assignment_number.setText(data.get(<span class="stringliteral">&quot;salesOrderReference&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Auftragsnummer (BT-14)</span></div>
<div class="line"><span class="lineno"> 1674</span>        <span class="comment"># Wareneingangsmeldung (BT-15)</span></div>
<div class="line"><span class="lineno"> 1675</span>        receiving_advice_reference = data.get(<span class="stringliteral">&quot;receivingAdviceReference&quot;</span>)</div>
<div class="line"><span class="lineno"> 1676</span>        <span class="keywordflow">if</span> receiving_advice_reference:</div>
<div class="line"><span class="lineno"> 1677</span>            dialog.le_receiving_referenced_document.setText(receiving_advice_reference.get(<span class="stringliteral">&quot;id&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))</div>
<div class="line"><span class="lineno"> 1678</span>            receiving_advice_reference_date = receiving_advice_reference.get(<span class="stringliteral">&quot;issueDate&quot;</span>)</div>
<div class="line"><span class="lineno"> 1679</span>            <span class="keywordflow">if</span> receiving_advice_reference_date:</div>
<div class="line"><span class="lineno"> 1680</span>                receiving_advice_reference_date_datetime = datetime.strptime(str(receiving_advice_reference_date), DATE_FORMAT_XML)</div>
<div class="line"><span class="lineno"> 1681</span>                qdate = QDate(receiving_advice_reference_date_datetime.year, receiving_advice_reference_date_datetime.month, receiving_advice_reference_date_datetime.day)</div>
<div class="line"><span class="lineno"> 1682</span>                dialog.de_receiving_advice_referenced_document.setDate(qdate)</div>
<div class="line"><span class="lineno"> 1683</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1684</span>            dialog.le_receiving_referenced_document.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1685</span>        <span class="comment"># Versandanzeige (BT-16)</span></div>
<div class="line"><span class="lineno"> 1686</span>        despatch_advice_reference = data.get(<span class="stringliteral">&quot;despatchAdviceReference&quot;</span>)</div>
<div class="line"><span class="lineno"> 1687</span>        <span class="keywordflow">if</span> despatch_advice_reference:</div>
<div class="line"><span class="lineno"> 1688</span>            dialog.le_despatch_advice_referenced_document.setText(despatch_advice_reference.get(<span class="stringliteral">&quot;id&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))</div>
<div class="line"><span class="lineno"> 1689</span>            despatch_advice_reference_date = despatch_advice_reference.get(<span class="stringliteral">&quot;issueDate&quot;</span>)</div>
<div class="line"><span class="lineno"> 1690</span>            <span class="keywordflow">if</span> despatch_advice_reference_date:</div>
<div class="line"><span class="lineno"> 1691</span>                despatch_advice_reference_date_datetime = datetime.strptime(str(despatch_advice_reference_date), DATE_FORMAT_XML)</div>
<div class="line"><span class="lineno"> 1692</span>                qdate = QDate(despatch_advice_reference_date_datetime.year, despatch_advice_reference_date_datetime.month, despatch_advice_reference_date_datetime.day)</div>
<div class="line"><span class="lineno"> 1693</span>                dialog.de_despatch_advice_referenced_document.setDate(qdate)</div>
<div class="line"><span class="lineno"> 1694</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1695</span>            dialog.le_despatch_advice_referenced_document.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1696</span>        <span class="comment"># Ausschreibung/Los (BT-17)</span></div>
<div class="line"><span class="lineno"> 1697</span>        tender_references = data.get(<span class="stringliteral">&quot;tenderReferences&quot;</span>, [])</div>
<div class="line"><span class="lineno"> 1698</span>        <span class="keywordflow">if</span> len(tender_references) &gt; 0:</div>
<div class="line"><span class="lineno"> 1699</span>            dialog.le_additional_referenced_document.setText(tender_references[0].get(<span class="stringliteral">&quot;id&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))</div>
<div class="line"><span class="lineno"> 1700</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1701</span>            dialog.le_additional_referenced_document.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1702</span>        <span class="comment"># Objektreferenz (BT-18)</span></div>
<div class="line"><span class="lineno"> 1703</span>        object_references = data.get(<span class="stringliteral">&quot;objectReferences&quot;</span>, [])</div>
<div class="line"><span class="lineno"> 1704</span>        <span class="keywordflow">if</span> len(object_references) &gt; 0:</div>
<div class="line"><span class="lineno"> 1705</span>            dialog.le_object_reference.setText(object_references[0].get(<span class="stringliteral">&quot;id&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))</div>
<div class="line"><span class="lineno"> 1706</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1707</span>            dialog.le_object_reference.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1708</span>        <span class="comment"># Buchungskonto des Käufers (BT-19)</span></div>
<div class="line"><span class="lineno"> 1709</span>        buyer_accounting_accounts = data.get(<span class="stringliteral">&quot;buyerAccountingAccounts&quot;</span>, [])</div>
<div class="line"><span class="lineno"> 1710</span>        <span class="keywordflow">if</span> len(buyer_accounting_accounts) &gt; 0:</div>
<div class="line"><span class="lineno"> 1711</span>            dialog.le_booking_account_buyer.setText(buyer_accounting_accounts[0].get(<span class="stringliteral">&quot;id&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))</div>
<div class="line"><span class="lineno"> 1712</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1713</span>            dialog.le_booking_account_buyer.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1714</span>        <span class="comment"># Rechnungsreferenz (BT-25, BT-26)</span></div>
<div class="line"><span class="lineno"> 1715</span>        invoice_references = data.get(<span class="stringliteral">&quot;invoiceReferences&quot;</span>, [])</div>
<div class="line"><span class="lineno"> 1716</span>        <span class="keywordflow">if</span> len(invoice_references) &gt; 0:</div>
<div class="line"><span class="lineno"> 1717</span>            dialog.le_invoice_reference.setText(invoice_references[0].get(<span class="stringliteral">&quot;id&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))</div>
<div class="line"><span class="lineno"> 1718</span>            invoice_references_date = invoice_references[0].get(<span class="stringliteral">&quot;issueDate&quot;</span>)</div>
<div class="line"><span class="lineno"> 1719</span>            <span class="keywordflow">if</span> invoice_references_date:</div>
<div class="line"><span class="lineno"> 1720</span>                invoice_references_date_datetime = datetime.strptime(str(invoice_references_date), DATE_FORMAT_XML)</div>
<div class="line"><span class="lineno"> 1721</span>                qdate = QDate(invoice_references_date_datetime.year, invoice_references_date_datetime.month, invoice_references_date_datetime.day)</div>
<div class="line"><span class="lineno"> 1722</span>                dialog.de_invoice_reference.setDate(qdate)</div>
<div class="line"><span class="lineno"> 1723</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1724</span>            dialog.le_invoice_reference.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1725</span>        dialog.pte_note.setPlainText(data.get(<span class="stringliteral">&quot;note&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Bemerkung (BT-22)</span></div>
<div class="line"><span class="lineno"> 1726</span>        dialog.pte_introduction_text.setPlainText(data.get(<span class="stringliteral">&quot;introText&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Einleitungstext</span></div>
<div class="line"><span class="lineno"> 1727</span> </div>
<div class="line"><span class="lineno"> 1728</span>        data_seller = data.setdefault(<span class="stringliteral">&quot;seller&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1729</span>        dialog.le_seller_company.setText(data_seller.get(<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Name des Verkäufers (BT-27)</span></div>
<div class="line"><span class="lineno"> 1730</span>        dialog.le_seller_name.setText(data_seller.get(<span class="stringliteral">&quot;tradeName&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Handelsname (BT-28)</span></div>
<div class="line"><span class="lineno"> 1731</span>        dialog.le_seller_recognition.setText(data_seller.get(<span class="stringliteral">&quot;id&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Verkäuferkennung (BT-29)</span></div>
<div class="line"><span class="lineno"> 1732</span>        dialog.le_seller_register_number.setText(data_seller.get(<span class="stringliteral">&quot;tradeId&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Registernummer (BT-30)</span></div>
<div class="line"><span class="lineno"> 1733</span>        dialog.le_seller_vat.setText(data_seller.get(<span class="stringliteral">&quot;vatId&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Umsatzsteuer-Identifikationsnummer des Verkäufers (BT-31)</span></div>
<div class="line"><span class="lineno"> 1734</span>        dialog.le_seller_tax_number.setText(data_seller.get(<span class="stringliteral">&quot;taxId&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Steuernummer des Verkäufers (BT-32)</span></div>
<div class="line"><span class="lineno"> 1735</span>        dialog.le_seller_weee_number.setText(data_seller.get(<span class="stringliteral">&quot;weeeId&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># WEEE-Nummer</span></div>
<div class="line"><span class="lineno"> 1736</span>        dialog.pte_seller_law_info.setPlainText(data_seller.get(<span class="stringliteral">&quot;legalInfo&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Rechtliche Informationen (BT-33)</span></div>
<div class="line"><span class="lineno"> 1737</span>        dialog.le_seller_electric_address.setText(data_seller.get(<span class="stringliteral">&quot;electronicAddress&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># seller electric address (BT-34)</span></div>
<div class="line"><span class="lineno"> 1738</span>        dialog.le_seller_website.setText(data_seller.get(<span class="stringliteral">&quot;websiteText&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Webseite</span></div>
<div class="line"><span class="lineno"> 1739</span>        data_seller_address = data_seller.setdefault(<span class="stringliteral">&quot;address&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1740</span>        dialog.le_seller_street_1.setText(data_seller_address.get(<span class="stringliteral">&quot;line1&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Zeile 1 der Verkäuferanschrift (BT-35)</span></div>
<div class="line"><span class="lineno"> 1741</span>        dialog.le_seller_street_2.setText(data_seller_address.get(<span class="stringliteral">&quot;line2&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Zeile 2 der Verkäuferanschrift (BT-36)</span></div>
<div class="line"><span class="lineno"> 1742</span>        dialog.le_seller_plz.setText(data_seller_address.get(<span class="stringliteral">&quot;postCode&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Postleitzahl der Verkäuferanschrift (BT-38)</span></div>
<div class="line"><span class="lineno"> 1743</span>        dialog.le_seller_city.setText(data_seller_address.get(<span class="stringliteral">&quot;city&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Stadt der Verkäuferanschrift (BT-37)</span></div>
<div class="line"><span class="lineno"> 1744</span>        <span class="comment"># Ländercode der Verkäuferanschrift (BT-40)</span></div>
<div class="line"><span class="lineno"> 1745</span>        set_combo_box_value(dialog.cb_seller_country, data_seller_address.get(<span class="stringliteral">&quot;countryCode&quot;</span>), D_COUNTRY_CODE)</div>
<div class="line"><span class="lineno"> 1746</span>        data_seller_contact = data_seller.setdefault(<span class="stringliteral">&quot;contact&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1747</span>        dialog.le_seller_contact_name.setText(data_seller_contact.get(<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Kontaktstelle des Verkäufers (BT-41)</span></div>
<div class="line"><span class="lineno"> 1748</span>        dialog.le_seller_contact_mail.setText(data_seller_contact.get(<span class="stringliteral">&quot;email&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># E-Mail-Adresse der Kontaktstelle des Verkäufers (BT-43)</span></div>
<div class="line"><span class="lineno"> 1749</span>        dialog.le_seller_contact_phone.setText(data_seller_contact.get(<span class="stringliteral">&quot;phone&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Telefonnummer der Kontaktstelle des Verkäufers (BT-42)</span></div>
<div class="line"><span class="lineno"> 1750</span>        dialog.le_seller_contact_fax.setText(data_seller_contact.get(<span class="stringliteral">&quot;fax&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># seller fax</span></div>
<div class="line"><span class="lineno"> 1751</span>        self.select_logo(data_seller.get(<span class="stringliteral">&quot;logoData&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># seller logo</span></div>
<div class="line"><span class="lineno"> 1752</span> </div>
<div class="line"><span class="lineno"> 1753</span>        data_buyer = data.setdefault(<span class="stringliteral">&quot;buyer&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1754</span>        dialog.le_buyer_company.setText(data_buyer.get(<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Name des Käufers (BT-44)</span></div>
<div class="line"><span class="lineno"> 1755</span>        dialog.le_buyer_name.setText(data_buyer.get(<span class="stringliteral">&quot;tradeName&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Handelsname (BT-45)</span></div>
<div class="line"><span class="lineno"> 1756</span>        dialog.le_buyer_recognition.setText(data_buyer.get(<span class="stringliteral">&quot;id&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Käuferkennung (BT-46)</span></div>
<div class="line"><span class="lineno"> 1757</span>        dialog.le_buyer_register_number.setText(data_buyer.get(<span class="stringliteral">&quot;tradeId&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Registernummer (BT-47)</span></div>
<div class="line"><span class="lineno"> 1758</span>        dialog.le_buyer_vat.setText(data_buyer.get(<span class="stringliteral">&quot;vatId&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Umsatzsteuer-Identifikationsnummer des Käufers (BT-48)</span></div>
<div class="line"><span class="lineno"> 1759</span>        dialog.le_buyer_electric_address.setText(data_buyer.get(<span class="stringliteral">&quot;electronicAddress&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Elektronische Adresse (BT-49)</span></div>
<div class="line"><span class="lineno"> 1760</span>        data_buyer_address = data_buyer.setdefault(<span class="stringliteral">&quot;address&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1761</span>        dialog.le_buyer_street_1.setText(data_buyer_address.get(<span class="stringliteral">&quot;line1&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Zeile 1 der Käuferanschrift (BT-50)</span></div>
<div class="line"><span class="lineno"> 1762</span>        dialog.le_buyer_street_2.setText(data_buyer_address.get(<span class="stringliteral">&quot;line2&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Zeile 2 der Käuferanschrift (BT-51)</span></div>
<div class="line"><span class="lineno"> 1763</span>        dialog.le_buyer_plz.setText(data_buyer_address.get(<span class="stringliteral">&quot;postCode&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Postleitzahl der Käuferanschrift (BT-53)</span></div>
<div class="line"><span class="lineno"> 1764</span>        dialog.le_buyer_city.setText(data_buyer_address.get(<span class="stringliteral">&quot;city&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Stadt der Käuferanschrift (BT-52)</span></div>
<div class="line"><span class="lineno"> 1765</span>        <span class="comment"># Ländercode der Käuferanschrift (BT-55)</span></div>
<div class="line"><span class="lineno"> 1766</span>        set_combo_box_value(dialog.cb_buyer_country, data_buyer_address.get(<span class="stringliteral">&quot;countryCode&quot;</span>), D_COUNTRY_CODE)</div>
<div class="line"><span class="lineno"> 1767</span>        data_buyer_contact = data_buyer.setdefault(<span class="stringliteral">&quot;contact&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1768</span>        dialog.le_buyer_contact_name.setText(data_buyer_contact.get(<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Kontaktstelle des Käufers (BT-56)</span></div>
<div class="line"><span class="lineno"> 1769</span>        dialog.le_buyer_contact_mail.setText(data_buyer_contact.get(<span class="stringliteral">&quot;email&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># E-Mail-Adresse der Kontaktstelle des Käufers (BT-58)</span></div>
<div class="line"><span class="lineno"> 1770</span>        dialog.le_buyer_contact_phone.setText(data_buyer_contact.get(<span class="stringliteral">&quot;phone&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Telefonnummer der Kontaktstelle des Käufers (BT-57)</span></div>
<div class="line"><span class="lineno"> 1771</span> </div>
<div class="line"><span class="lineno"> 1772</span>        data_payment = data.setdefault(<span class="stringliteral">&quot;payment&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1773</span>        data_payment_methods = data_payment.setdefault(<span class="stringliteral">&quot;methods&quot;</span>, [])</div>
<div class="line"><span class="lineno"> 1774</span>        data_payment_method = data_payment_methods[0] <span class="keywordflow">if</span> (len(data_payment_methods) &gt; 0) <span class="keywordflow">else</span> {}</div>
<div class="line"><span class="lineno"> 1775</span>        <span class="comment"># Code für die Zahlungsart D_PAYMENT_METHOD (BT-81)</span></div>
<div class="line"><span class="lineno"> 1776</span>        set_combo_box_value(dialog.cb_payment_method, data_payment_method.get(<span class="stringliteral">&quot;typeCode&quot;</span>), D_PAYMENT_METHOD)</div>
<div class="line"><span class="lineno"> 1777</span>        dialog.le_account_holder.setText(data_payment_method.get(<span class="stringliteral">&quot;accountName&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Name des Zahlungskontos (BT-85)</span></div>
<div class="line"><span class="lineno"> 1778</span>        dialog.le_iban.setText(data_payment_method.get(<span class="stringliteral">&quot;iban&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Kennung des Zahlungskontos (BT-84)</span></div>
<div class="line"><span class="lineno"> 1779</span>        dialog.le_bic.setText(data_payment_method.get(<span class="stringliteral">&quot;bic&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Kennung des Zahlungsdienstleisters (BT-86)</span></div>
<div class="line"><span class="lineno"> 1780</span>        dialog.le_bank_name.setText(data_payment_method.get(<span class="stringliteral">&quot;bankName&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># bank name</span></div>
<div class="line"><span class="lineno"> 1781</span>        dialog.le_payment_purpose.setText(data_payment.get(<span class="stringliteral">&quot;reference&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Verwendungszweck (BT-83)</span></div>
<div class="line"><span class="lineno"> 1782</span>        dialog.pte_payment_terms.setPlainText(data_payment.get(<span class="stringliteral">&quot;terms&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Zahlungsbedingungen (BT-20)</span></div>
<div class="line"><span class="lineno"> 1783</span> </div>
<div class="line"><span class="lineno"> 1784</span>        data_delivery = data.setdefault(<span class="stringliteral">&quot;delivery&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1785</span>        dialog.le_deliver_name.setText(data_delivery.get(<span class="stringliteral">&quot;recipientName&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Name des Waren- oder Dienstleistungsempfängers (BT-70)</span></div>
<div class="line"><span class="lineno"> 1786</span>        dialog.le_deliver_place_ident.setText(data_delivery.get(<span class="stringliteral">&quot;locationId&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Kennung des Lieferorts (BT-71)</span></div>
<div class="line"><span class="lineno"> 1787</span>        data_delivery_address = data_delivery.setdefault(<span class="stringliteral">&quot;address&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1788</span>        dialog.le_deliver_street_1.setText(data_delivery_address.get(<span class="stringliteral">&quot;line1&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Zeile 1 der Lieferanschrift (BT-75)</span></div>
<div class="line"><span class="lineno"> 1789</span>        dialog.le_deliver_street_2.setText(data_delivery_address.get(<span class="stringliteral">&quot;line2&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Zeile 2 der Lieferanschrift (BT-76)</span></div>
<div class="line"><span class="lineno"> 1790</span>        dialog.le_deliver_addition.setText(data_delivery_address.get(<span class="stringliteral">&quot;line3&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Zeile 3 der Lieferanschrift (BT-165)</span></div>
<div class="line"><span class="lineno"> 1791</span>        dialog.le_deliver_plz.setText(data_delivery_address.get(<span class="stringliteral">&quot;postCode&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Postleitzahl der Lieferanschrift (BT-78)</span></div>
<div class="line"><span class="lineno"> 1792</span>        dialog.le_deliver_city.setText(data_delivery_address.get(<span class="stringliteral">&quot;city&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Stadt der Lieferanschrift (BT-77)</span></div>
<div class="line"><span class="lineno"> 1793</span>        <span class="comment"># Ländercode der Lieferanschrift (BT-80)</span></div>
<div class="line"><span class="lineno"> 1794</span>        set_combo_box_value(dialog.cb_deliver_country, data_delivery_address.get(<span class="stringliteral">&quot;countryCode&quot;</span>), D_COUNTRY_CODE)</div>
<div class="line"><span class="lineno"> 1795</span>        dialog.le_deliver_region.setText(data_delivery_address.get(<span class="stringliteral">&quot;region&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Stadt der Lieferanschrift (BT-79)</span></div>
<div class="line"><span class="lineno"> 1796</span>        <span class="comment"># remove additional existing items</span></div>
<div class="line"><span class="lineno"> 1797</span>        existing_items = len(self.ui_invoice_data.item_widgets)</div>
<div class="line"><span class="lineno"> 1798</span>        <span class="keywordflow">if</span> existing_items &gt; 1:</div>
<div class="line"><span class="lineno"> 1799</span>            <span class="keywordflow">for</span> _i <span class="keywordflow">in</span> range(existing_items - 1):</div>
<div class="line"><span class="lineno"> 1800</span>                self.remove_item()</div>
<div class="line"><span class="lineno"> 1801</span> </div>
<div class="line"><span class="lineno"> 1802</span>        <span class="keywordflow">for</span> item_idx, data_item <span class="keywordflow">in</span> enumerate(data.setdefault(<span class="stringliteral">&quot;items&quot;</span>, [])):  <span class="comment"># TODO wenn schon vorhanden alte Löschen auch bei Zuschläge und Nachlass</span></div>
<div class="line"><span class="lineno"> 1803</span>            <span class="keywordflow">if</span> item_idx &gt; 0:  <span class="comment"># add additional item widget before</span></div>
<div class="line"><span class="lineno"> 1804</span>                self.add_item()</div>
<div class="line"><span class="lineno"> 1805</span>            item_dialog: Ui_InvoiceItemData = dialog.item_widgets[item_idx]</div>
<div class="line"><span class="lineno"> 1806</span>            item_dialog.le_item_name.setText(data_item.get(<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Name (BT-153)</span></div>
<div class="line"><span class="lineno"> 1807</span>            item_dialog.dsb_item_vat_rate.setValue(data_item.get(<span class="stringliteral">&quot;vatRate&quot;</span>, self.default_tax_rate))  <span class="comment"># Umsatzsteuersatz für den in Rechnung gestellten Artikel (BT-152)</span></div>
<div class="line"><span class="lineno"> 1808</span>            <span class="comment"># Code der Umsatzsteuerkategorie des in Rechnung gestellten Artikels (BT-151)</span></div>
<div class="line"><span class="lineno"> 1809</span>            set_combo_box_value(item_dialog.cb_item_vat_code, data_item.get(<span class="stringliteral">&quot;vatCode&quot;</span>), D_VAT_CODE)</div>
<div class="line"><span class="lineno"> 1810</span>            item_dialog.le_item_id.setText(data_item.get(<span class="stringliteral">&quot;id&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Artikel-Nr. (BT-155)</span></div>
<div class="line"><span class="lineno"> 1811</span>            <span class="comment"># Startdatum (BT-134)</span></div>
<div class="line"><span class="lineno"> 1812</span>            item_billing_period_start = data_item.get(<span class="stringliteral">&quot;billingPeriodStart&quot;</span>)</div>
<div class="line"><span class="lineno"> 1813</span>            <span class="keywordflow">if</span> item_billing_period_start:</div>
<div class="line"><span class="lineno"> 1814</span>                item_billing_period_start_datetime = datetime.strptime(str(item_billing_period_start), DATE_FORMAT_XML)</div>
<div class="line"><span class="lineno"> 1815</span>                qdate = QDate(item_billing_period_start_datetime.year, item_billing_period_start_datetime.month, item_billing_period_start_datetime.day)</div>
<div class="line"><span class="lineno"> 1816</span>                item_dialog.de_item_billing_period_start.setDate(qdate)</div>
<div class="line"><span class="lineno"> 1817</span>            <span class="comment"># Enddatum (BT-135)</span></div>
<div class="line"><span class="lineno"> 1818</span>            item_billing_period_end = data_item.get(<span class="stringliteral">&quot;billingPeriodEnd&quot;</span>)</div>
<div class="line"><span class="lineno"> 1819</span>            <span class="keywordflow">if</span> item_billing_period_end:</div>
<div class="line"><span class="lineno"> 1820</span>                item_billing_period_end_datetime = datetime.strptime(str(item_billing_period_end), DATE_FORMAT_XML)</div>
<div class="line"><span class="lineno"> 1821</span>                qdate = QDate(item_billing_period_end_datetime.year, item_billing_period_end_datetime.month, item_billing_period_end_datetime.day)</div>
<div class="line"><span class="lineno"> 1822</span>                item_dialog.de_item_billing_period_end.setDate(qdate)</div>
<div class="line"><span class="lineno"> 1823</span>            item_dialog.cb_item_billing_period.setChecked(bool(item_billing_period_start <span class="keywordflow">or</span> item_billing_period_end))</div>
<div class="line"><span class="lineno"> 1824</span>            item_dialog.le_item_order_position.setText(data_item.get(<span class="stringliteral">&quot;orderPosition&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Referenz zur Bestellposition (BT-132)</span></div>
<div class="line"><span class="lineno"> 1825</span>            <span class="comment"># Objektkennung auf Ebene der Rechnungsposition (BT-128)</span></div>
<div class="line"><span class="lineno"> 1826</span>            item_object_references = data_item.get(<span class="stringliteral">&quot;objectReferences&quot;</span>, [])</div>
<div class="line"><span class="lineno"> 1827</span>            <span class="keywordflow">if</span> len(item_object_references) &gt; 0:</div>
<div class="line"><span class="lineno"> 1828</span>                item_dialog.le_object_reference.setText(item_object_references[0].get(<span class="stringliteral">&quot;id&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))</div>
<div class="line"><span class="lineno"> 1829</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1830</span>                item_dialog.le_object_reference.setText(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1831</span>            item_dialog.pte_item_description.setPlainText(data_item.get(<span class="stringliteral">&quot;description&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Artikelbeschreibung (BT-154)</span></div>
<div class="line"><span class="lineno"> 1832</span>            item_dialog.dsb_item_quantity.setValue(data_item.get(<span class="stringliteral">&quot;quantity&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Menge (BT-129)</span></div>
<div class="line"><span class="lineno"> 1833</span>            <span class="comment"># Einheit (BT-130) D_UNIT</span></div>
<div class="line"><span class="lineno"> 1834</span>            set_combo_box_value(item_dialog.cb_item_quantity_unit, data_item.get(<span class="stringliteral">&quot;quantityUnit&quot;</span>), D_UNIT)</div>
<div class="line"><span class="lineno"> 1835</span>            item_dialog.dsb_item_net_unit_price.setValue(data_item.get(<span class="stringliteral">&quot;netUnitPrice&quot;</span>, 0))  <span class="comment"># Einzelpreis (Netto) (BT-146)</span></div>
<div class="line"><span class="lineno"> 1836</span>            item_dialog.dsb_item_basis_quantity.setValue(data_item.get(<span class="stringliteral">&quot;basisQuantity&quot;</span>, 1))  <span class="comment"># Basismenge zum Artikelpreis (BT-149)</span></div>
<div class="line"><span class="lineno"> 1837</span> </div>
<div class="line"><span class="lineno"> 1838</span>        <span class="comment"># Nachlässe</span></div>
<div class="line"><span class="lineno"> 1839</span>        <span class="keywordflow">for</span> allowance_idx, data_allowance <span class="keywordflow">in</span> enumerate(data.setdefault(<span class="stringliteral">&quot;allowances&quot;</span>, [])):</div>
<div class="line"><span class="lineno"> 1840</span>            self.add_discount()</div>
<div class="line"><span class="lineno"> 1841</span>            charge_allowance: Ui_InvoiceDiscountsData = dialog.discounts_widgets[allowance_idx]</div>
<div class="line"><span class="lineno"> 1842</span>            charge_allowance.dsb_basis_amount.setValue(data_allowance.get(<span class="stringliteral">&quot;basisAmount&quot;</span>, 0))  <span class="comment"># Grundbetrag (BT-93)</span></div>
<div class="line"><span class="lineno"> 1843</span>            charge_allowance.dsb_net_amount.setValue(data_allowance.get(<span class="stringliteral">&quot;netAmount&quot;</span>, 0))  <span class="comment"># Betrag (Netto) (BT-92)</span></div>
<div class="line"><span class="lineno"> 1844</span>            charge_allowance.dsb_percent.setValue(data_allowance.get(<span class="stringliteral">&quot;percent&quot;</span>, 0))  <span class="comment"># Prozent (BT-94)</span></div>
<div class="line"><span class="lineno"> 1845</span>            charge_allowance.le_reason.setText(data_allowance.get(<span class="stringliteral">&quot;reason&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Grund (BT-97)</span></div>
<div class="line"><span class="lineno"> 1846</span>            <span class="comment"># Code des Grundes (BT-98)</span></div>
<div class="line"><span class="lineno"> 1847</span>            set_combo_box_value(charge_allowance.cb_reason_code, data_allowance.get(<span class="stringliteral">&quot;reasonCode&quot;</span>), D_UNIT)</div>
<div class="line"><span class="lineno"> 1848</span>            <span class="comment"># Steuerkategorie (BT-95)</span></div>
<div class="line"><span class="lineno"> 1849</span>            set_combo_box_value(charge_allowance.cb_vat_code, data_allowance.get(<span class="stringliteral">&quot;vatCode&quot;</span>), D_VAT_CODE)</div>
<div class="line"><span class="lineno"> 1850</span>            charge_allowance.dsb_vat_rate.setValue(data_allowance.get(<span class="stringliteral">&quot;vatRate&quot;</span>, self.default_tax_rate))  <span class="comment"># Steuersatz (BT-96)</span></div>
<div class="line"><span class="lineno"> 1851</span> </div>
<div class="line"><span class="lineno"> 1852</span>        <span class="comment"># Zuschläge</span></div>
<div class="line"><span class="lineno"> 1853</span>        <span class="keywordflow">for</span> charge_idx, data_charge <span class="keywordflow">in</span> enumerate(data.setdefault(<span class="stringliteral">&quot;charges&quot;</span>, [])):</div>
<div class="line"><span class="lineno"> 1854</span>            self.add_surcharge()</div>
<div class="line"><span class="lineno"> 1855</span>            charge_dialog: Ui_InvoiceSurchargesData = dialog.surcharges_widgets[charge_idx]</div>
<div class="line"><span class="lineno"> 1856</span>            charge_dialog.dsb_basis_amount.setValue(data_charge.get(<span class="stringliteral">&quot;basisAmount&quot;</span>, 0))  <span class="comment"># Grundbetrag (BT-100)</span></div>
<div class="line"><span class="lineno"> 1857</span>            charge_dialog.dsb_net_amount.setValue(data_charge.get(<span class="stringliteral">&quot;netAmount&quot;</span>, 0))  <span class="comment"># Betrag (Netto) (BT-99)</span></div>
<div class="line"><span class="lineno"> 1858</span>            charge_dialog.dsb_percent.setValue(data_charge.get(<span class="stringliteral">&quot;percent&quot;</span>, 0))  <span class="comment"># Prozent (BT-101)</span></div>
<div class="line"><span class="lineno"> 1859</span>            charge_dialog.le_reason.setText(data_charge.get(<span class="stringliteral">&quot;reason&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))  <span class="comment"># Grund (BT-104)</span></div>
<div class="line"><span class="lineno"> 1860</span>            <span class="comment"># Code des Grundes (BT-105)</span></div>
<div class="line"><span class="lineno"> 1861</span>            set_combo_box_value(charge_dialog.cb_reason_code, data_charge.get(<span class="stringliteral">&quot;reasonCode&quot;</span>), D_UNIT)</div>
<div class="line"><span class="lineno"> 1862</span>            <span class="comment"># Steuerkategorie (BT-102)</span></div>
<div class="line"><span class="lineno"> 1863</span>            set_combo_box_value(charge_dialog.cb_vat_code, data_charge.get(<span class="stringliteral">&quot;vatCode&quot;</span>), D_VAT_CODE)</div>
<div class="line"><span class="lineno"> 1864</span>            charge_dialog.dsb_vat_rate.setValue(data_charge.get(<span class="stringliteral">&quot;vatRate&quot;</span>, self.default_tax_rate))  <span class="comment"># Steuersatz (BT-103)</span></div>
<div class="line"><span class="lineno"> 1865</span> </div>
<div class="line"><span class="lineno"> 1866</span>        self.update_tax_widget(data)  <span class="comment"># update taxes to write exemption reason to UI</span></div>
<div class="line"><span class="lineno"> 1867</span> </div>
<div class="line"><span class="lineno"> 1868</span>        data_totals = data.setdefault(<span class="stringliteral">&quot;totals&quot;</span>, {})</div>
<div class="line"><span class="lineno"> 1869</span>        dialog.dsb_payed_amount.setValue(data_totals.get(<span class="stringliteral">&quot;paidAmount&quot;</span>, 0) <span class="keywordflow">or</span> 0)  <span class="comment"># Vorauszahlungsbetrag (BT-113)</span></div>
<div class="line"><span class="lineno"> 1870</span>        dialog.dsb_rounded_amount.setValue(data_totals.get(<span class="stringliteral">&quot;roundingAmount&quot;</span>, 0) <span class="keywordflow">or</span> 0)  <span class="comment"># Rundungsbetrag (BT-114)</span></div>
</div><!-- fragment -->
</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Dokumentation der Datenelemente</h2>
<a id="a527f3b733dd480fc8d326df4652df805" name="a527f3b733dd480fc8d326df4652df805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a527f3b733dd480fc8d326df4652df805">&#9670;&#160;</a></span>accounting_date_checkbox_changed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">accounting_date_checkbox_changed</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00351">351</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a9af93f536757d222db251f852f36d774" name="a9af93f536757d222db251f852f36d774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9af93f536757d222db251f852f36d774">&#9670;&#160;</a></span>accounting_date_from_changed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">accounting_date_from_changed</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00353">353</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a058800039f84b7f6af44b5e384084bcf" name="a058800039f84b7f6af44b5e384084bcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a058800039f84b7f6af44b5e384084bcf">&#9670;&#160;</a></span>accounting_date_to_changed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">accounting_date_to_changed</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00354">354</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a8b6b5bcaeca26af418d1e8118440900d" name="a8b6b5bcaeca26af418d1e8118440900d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b6b5bcaeca26af418d1e8118440900d">&#9670;&#160;</a></span>add_discount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">add_discount</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00322">322</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a1e569d68fdc72d97577f733f17b3960d" name="a1e569d68fdc72d97577f733f17b3960d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e569d68fdc72d97577f733f17b3960d">&#9670;&#160;</a></span>add_item</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">add_item</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00309">309</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a1db0fa56666b28bfbd954dbb03fef9ed" name="a1db0fa56666b28bfbd954dbb03fef9ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1db0fa56666b28bfbd954dbb03fef9ed">&#9670;&#160;</a></span>add_surcharge</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">add_surcharge</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00335">335</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a1aa65ebf71747364e844585b79a78848" name="a1aa65ebf71747364e844585b79a78848"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1aa65ebf71747364e844585b79a78848">&#9670;&#160;</a></span>btn_add_discount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">btn_add_discount = QPushButton(&quot;Nachlass zufügen&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00264">264</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="ab0b44cb7e72bb9a9a73be0b0431f3dea" name="ab0b44cb7e72bb9a9a73be0b0431f3dea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0b44cb7e72bb9a9a73be0b0431f3dea">&#9670;&#160;</a></span>btn_add_item</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">btn_add_item = QPushButton(&quot;Position hinzufügen&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00256">256</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="af690a8b29cbf407df1d7617b06e52b6e" name="af690a8b29cbf407df1d7617b06e52b6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af690a8b29cbf407df1d7617b06e52b6e">&#9670;&#160;</a></span>btn_add_surcharge</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">btn_add_surcharge = QPushButton(&quot;Zuschlag zufügen&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00272">272</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="ae3b055dff71fa5a27a23724c56bcd219" name="ae3b055dff71fa5a27a23724c56bcd219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3b055dff71fa5a27a23724c56bcd219">&#9670;&#160;</a></span>btn_remove_discount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">btn_remove_discount = QPushButton(&quot;Nachlass entfernen&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00265">265</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="af67dbf7aee001f666ac97ce94d0c8a30" name="af67dbf7aee001f666ac97ce94d0c8a30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af67dbf7aee001f666ac97ce94d0c8a30">&#9670;&#160;</a></span>btn_remove_item</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">btn_remove_item = QPushButton(&quot;Position entfernen&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00257">257</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a377d93c72dacbf5375b12a42d49fd8a5" name="a377d93c72dacbf5375b12a42d49fd8a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a377d93c72dacbf5375b12a42d49fd8a5">&#9670;&#160;</a></span>btn_remove_surcharge</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">btn_remove_surcharge = QPushButton(&quot;Zuschlag entfernen&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00273">273</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a1b832f7f7bce23ac6aa25228d563cfb5" name="a1b832f7f7bce23ac6aa25228d563cfb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b832f7f7bce23ac6aa25228d563cfb5">&#9670;&#160;</a></span>contact_template_activated</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">contact_template_activated</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00374">374</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a9515115bd6386dc163f55b2333f3a7ef" name="a9515115bd6386dc163f55b2333f3a7ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9515115bd6386dc163f55b2333f3a7ef">&#9670;&#160;</a></span>customer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">customer = None</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00240">240</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a2c8c6f7af43f4c03761faca7db6407fc" name="a2c8c6f7af43f4c03761faca7db6407fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c8c6f7af43f4c03761faca7db6407fc">&#9670;&#160;</a></span>default_payment_days</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">default_payment_days = self.ui.tab_settings.company_data[COMPANY_DEFAULT_FIELD][<a class="el" href="class_source_1_1_model_1_1company_1_1_e_company_fields.html#a195f79b74a48d6cac7311b994a24b397">ECompanyFields.PAYMENT_DAYS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00252">252</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a08bc143deb1d1e38e39926dd1b5bcc40" name="a08bc143deb1d1e38e39926dd1b5bcc40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08bc143deb1d1e38e39926dd1b5bcc40">&#9670;&#160;</a></span>default_tax_rate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">default_tax_rate = NO_TAX_RATE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00249">249</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="aec9facd9444fd160194be5ab4ea67ef0" name="aec9facd9444fd160194be5ab4ea67ef0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec9facd9444fd160194be5ab4ea67ef0">&#9670;&#160;</a></span>default_uid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">default_uid = uid</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00243">243</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="ab2e9bd43cd7a3ffe53092a599ac3b4f5" name="ab2e9bd43cd7a3ffe53092a599ac3b4f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2e9bd43cd7a3ffe53092a599ac3b4f5">&#9670;&#160;</a></span>discount_percent_changed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list discount_percent_changed = [False] * <a class="el" href="namespace_source_1_1_controller_1_1dialog__invoice.html#ad813ac7928326e457d7a4b7a069acef3">I_MAX_POSITIONS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00262">262</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="ae2cf2aea4c687b6975213287f3d94881" name="ae2cf2aea4c687b6975213287f3d94881"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2cf2aea4c687b6975213287f3d94881">&#9670;&#160;</a></span>discounts_button_layout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">discounts_button_layout = QHBoxLayout()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00266">266</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a4215733d02eb8ced30d8a87af4c7155e" name="a4215733d02eb8ced30d8a87af4c7155e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4215733d02eb8ced30d8a87af4c7155e">&#9670;&#160;</a></span>discounts_layout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">discounts_layout = None</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00263">263</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="abdc344a41c4e6acdc609676d134f2182" name="abdc344a41c4e6acdc609676d134f2182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdc344a41c4e6acdc609676d134f2182">&#9670;&#160;</a></span>due_days_changed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool due_days_changed = False</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00237">237</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a7b553d008db5b70a39bd5d7207b804a0" name="a7b553d008db5b70a39bd5d7207b804a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b553d008db5b70a39bd5d7207b804a0">&#9670;&#160;</a></span>expand_mode_changed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">expand_mode_changed</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00359">359</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a8c9d94e1ce673675f053c8453d303d96" name="a8c9d94e1ce673675f053c8453d303d96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c9d94e1ce673675f053c8453d303d96">&#9670;&#160;</a></span>export_btn_clicked</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">export_btn_clicked</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00384">384</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="aaf5ac331fd650882cf8333cfc51860c3" name="aaf5ac331fd650882cf8333cfc51860c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf5ac331fd650882cf8333cfc51860c3">&#9670;&#160;</a></span>extended_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool extended_mode = False</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00244">244</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="ae8b5862acccebba002482d14e6455e58" name="ae8b5862acccebba002482d14e6455e58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8b5862acccebba002482d14e6455e58">&#9670;&#160;</a></span>import_btn_clicked</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">import_btn_clicked</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00383">383</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a8950f3ba9ed50a5573be9eb815aa0b4c" name="a8950f3ba9ed50a5573be9eb815aa0b4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8950f3ba9ed50a5573be9eb815aa0b4c">&#9670;&#160;</a></span>item_button_layout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">item_button_layout = QHBoxLayout()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00258">258</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a45d0ecbae117c22440c033d426c26dbd" name="a45d0ecbae117c22440c033d426c26dbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45d0ecbae117c22440c033d426c26dbd">&#9670;&#160;</a></span>item_gross_changed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list item_gross_changed = [False] * <a class="el" href="namespace_source_1_1_controller_1_1dialog__invoice.html#ad813ac7928326e457d7a4b7a069acef3">I_MAX_POSITIONS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00254">254</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="aeec547ecb98d63d629bcb07335f40289" name="aeec547ecb98d63d629bcb07335f40289"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeec547ecb98d63d629bcb07335f40289">&#9670;&#160;</a></span>item_layout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">item_layout = None</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00255">255</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a424d02a36be202a58e331cdafdf600ca" name="a424d02a36be202a58e331cdafdf600ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a424d02a36be202a58e331cdafdf600ca">&#9670;&#160;</a></span>lock_auto_price_edit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lock_auto_price_edit = False</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00246">246</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="ab0d9f0b4f0d19d406469546af4e92073" name="ab0d9f0b4f0d19d406469546af4e92073"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0d9f0b4f0d19d406469546af4e92073">&#9670;&#160;</a></span>lock_due_date_edit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lock_due_date_edit = False</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00247">247</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a0b065be2fb394b3384934b0e0c9c7033" name="a0b065be2fb394b3384934b0e0c9c7033"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b065be2fb394b3384934b0e0c9c7033">&#9670;&#160;</a></span>on_invoice_data_changed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">on_invoice_data_changed</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00408">408</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a642eaebcd51de9526bcf28d8d66bf3fb" name="a642eaebcd51de9526bcf28d8d66bf3fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a642eaebcd51de9526bcf28d8d66bf3fb">&#9670;&#160;</a></span>remove_discount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">remove_discount</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00323">323</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a8a0b5429e1320774e94bc497693d377f" name="a8a0b5429e1320774e94bc497693d377f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a0b5429e1320774e94bc497693d377f">&#9670;&#160;</a></span>remove_item</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">remove_item</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00310">310</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="ad9c0db887481ae99fb8d973c2a07851f" name="ad9c0db887481ae99fb8d973c2a07851f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9c0db887481ae99fb8d973c2a07851f">&#9670;&#160;</a></span>remove_surcharge</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">remove_surcharge</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00336">336</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="aa67c1680dbda1d3954e4ffcbd257b644" name="aa67c1680dbda1d3954e4ffcbd257b644"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa67c1680dbda1d3954e4ffcbd257b644">&#9670;&#160;</a></span>select_logo</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">select_logo</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00510">510</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a6d2c2729f48f04fa474bc5071693d075" name="a6d2c2729f48f04fa474bc5071693d075"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d2c2729f48f04fa474bc5071693d075">&#9670;&#160;</a></span>surcharges_button_layout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">surcharges_button_layout = QHBoxLayout()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00274">274</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="abb1d3aefdf407f1ded3ee4d84c9483f3" name="abb1d3aefdf407f1ded3ee4d84c9483f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb1d3aefdf407f1ded3ee4d84c9483f3">&#9670;&#160;</a></span>surcharges_layout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">surcharges_layout = None</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00271">271</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="adfdb3a9ae8c84f0eeb9c3976d3ecd50b" name="adfdb3a9ae8c84f0eeb9c3976d3ecd50b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfdb3a9ae8c84f0eeb9c3976d3ecd50b">&#9670;&#160;</a></span>surcharges_percent_changed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list surcharges_percent_changed = [False] * <a class="el" href="namespace_source_1_1_controller_1_1dialog__invoice.html#ad813ac7928326e457d7a4b7a069acef3">I_MAX_POSITIONS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00270">270</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a81d93c5435db7826fadb9d6a0dab1332" name="a81d93c5435db7826fadb9d6a0dab1332"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81d93c5435db7826fadb9d6a0dab1332">&#9670;&#160;</a></span>tax_layout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tax_layout = None</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00278">278</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="ac492f8de2d00b6c4282e766bfadaf2e7" name="ac492f8de2d00b6c4282e766bfadaf2e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac492f8de2d00b6c4282e766bfadaf2e7">&#9670;&#160;</a></span>ui</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ui = ui</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00236">236</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="a25790f30953738d05f1d81dd2cbf27b9" name="a25790f30953738d05f1d81dd2cbf27b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25790f30953738d05f1d81dd2cbf27b9">&#9670;&#160;</a></span>ui_invoice_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ui_invoice_data = None</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00245">245</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<a id="ad3d4847a9deb758e6b1a58107c286e09" name="ad3d4847a9deb758e6b1a58107c286e09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3d4847a9deb758e6b1a58107c286e09">&#9670;&#160;</a></span>update_total_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">update_total_data</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definiert in Zeile <a class="el" href="dialog__invoice_8py_source.html#l00356">356</a> der Datei <a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a>.</p>

</div>
</div>
<hr/>Die Dokumentation für diese Klasse wurde erzeugt aufgrund der Datei:<ul>
<li><a class="el" href="dialog__invoice_8py_source.html">dialog_invoice.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- HTML footer for doxygen 1.14.0-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="namespace_source.html">Source</a></li><li class="navelem"><a href="namespace_source_1_1_controller.html">Controller</a></li><li class="navelem"><a href="namespace_source_1_1_controller_1_1dialog__invoice.html">dialog_invoice</a></li><li class="navelem"><a href="class_source_1_1_controller_1_1dialog__invoice_1_1_invoice_dialog.html">InvoiceDialog</a></li>
    <li class="footer">Copyright © 2023-2025 Timo Unger</li>
  </ul>
</div>
</body>
</html>
<a href=https://github.com/timounger/ElsterBooksHome class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
